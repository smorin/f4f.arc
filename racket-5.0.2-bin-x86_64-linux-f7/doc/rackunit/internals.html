<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>4&nbsp;RackUnit Internals and Extension API</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Rack<span class="mywbr"> </span>Unit</span>:<span class="mywbr"> </span> Unit Testing for Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="quick-start.html" class="tocviewlink" pltdoc="x">Quick Start Guide for Rack<span class="mywbr"> </span>Unit</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="philosophy.html" class="tocviewlink" pltdoc="x">The Philosophy of Rack<span class="mywbr"> </span>Unit</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="api.html" class="tocviewlink" pltdoc="x">Rack<span class="mywbr"> </span>Unit API</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Rack<span class="mywbr"> </span>Unit Internals and Extension API</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Release_Notes.html" class="tocviewlink" pltdoc="x">Release Notes</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Acknowlegements.html" class="tocviewlink" pltdoc="x">Acknowlegements</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Rack<span class="mywbr"> </span>Unit Internals and Extension API</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#(part._.Customizing_.Check_.Evaluation)" class="tocviewlink" pltdoc="x">Customizing Check Evaluation</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#(part._.Customizing_.Test_.Evaluation)" class="tocviewlink" pltdoc="x">Customizing Test Evaluation</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="#(part._running)" class="tocviewlink" pltdoc="x">Programmatically Running Tests and Inspecting Results</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#(part._.Customizing_.Check_.Evaluation)" class="tocsubseclink" pltdoc="x">Customizing Check Evaluation</a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._current-check-handler))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>check-<wbr></wbr>handler</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._current-check-around))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>check-<wbr></wbr>around</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#(part._.Customizing_.Test_.Evaluation)" class="tocsubseclink" pltdoc="x">Customizing Test Evaluation</a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._current-test-name))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>test-<wbr></wbr>name</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._current-test-case-around))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>test-<wbr></wbr>case-<wbr></wbr>around</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-suite-test-case-around))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>suite-<wbr></wbr>test-<wbr></wbr>case-<wbr></wbr>around</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-suite-check-around))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>suite-<wbr></wbr>check-<wbr></wbr>around</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#(part._running)" class="tocsubseclink" pltdoc="x">Programmatically Running Tests and Inspecting Results</a></td></tr><tr><td><span class="tocsublinknumber">4.3.1<tt>&nbsp;</tt></span><a href="#(part._.Result_.Types)" class="tocsubseclink" pltdoc="x">Result Types</a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>test</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>test:<span class="mywbr"> </span>check</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>result</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-failure))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>failure</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-error))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>error</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._test-success))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">test-<wbr></wbr>success</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.3.2<tt>&nbsp;</tt></span><a href="#(part._.Functions_to_.Run_.Tests)" class="tocsubseclink" pltdoc="x">Functions to Run Tests</a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._run-test-case))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">run-<wbr></wbr>test-<wbr></wbr>case</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._run-test))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">run-<wbr></wbr>test</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">fold-<wbr></wbr>test-<wbr></wbr>results</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: rackunit"><span class="RktSym"><span class="RktValLink">foldts</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="api.html" title="backward to &quot;3 RackUnit API&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;RackUnit: Unit Testing for Racket&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Release_Notes.html" title="forward to &quot;5 Release Notes&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>4<tt>&nbsp;</tt><a name="(part._internals)"></a>RackUnit Internals and Extension API</h3><p>This section describes RackUnit&rsquo;s facilities for customizing the
behavior of checks and tests and for creating new kinds of test
runners.</p><h4>4.1<tt>&nbsp;</tt><a name="(part._.Customizing_.Check_.Evaluation)"></a>Customizing Check Evaluation</h4><p>The semantics of checks are determined by the parameters
<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-around))" class="RktValLink" pltdoc="x">current-check-around</a></span> and
<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-handler))" class="RktValLink" pltdoc="x">current-check-handler</a></span>.  Other testing form such as
<span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-begin))" class="RktStxLink" pltdoc="x">test-begin</a></span> and <span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span> change the value
of these parameters.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._current-check-handler))"></a><a name="(def._((lib._rackunit/main..rkt)._current-check-handler))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-handler))" class="RktValLink" pltdoc="x">current-check-handler</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-handler))" class="RktValLink" pltdoc="x">current-check-handler</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">handler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">handler</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Parameter containing the function that handles exceptions
raised by check failures.  The default value is <span class="RktSym"><a href="../reference/exns.html#(def._((quote._~23~25kernel)._raise))" class="RktValLink" pltdoc="x">raise</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._current-check-around))"></a><a name="(def._((lib._rackunit/main..rkt)._current-check-around))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-around))" class="RktValLink" pltdoc="x">current-check-around</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-around))" class="RktValLink" pltdoc="x">current-check-around</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">check</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">check</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Parameter containing the function that handles the execution
of checks.  The default value wraps the evaluation of
<span class="RktSym">thunk</span> in a <span class="RktSym"><a href="../reference/exns.html#(form._((lib._racket/private/more-scheme..rkt)._with-handlers))" class="RktStxLink" pltdoc="x">with-handlers</a></span> call that calls
<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-handler))" class="RktValLink" pltdoc="x">current-check-handler</a></span> if an exception is raised and then
(when an exception is not raised) discards the result, returning
<span class="RktPn">(</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span>.</div></p><h4>4.2<tt>&nbsp;</tt><a name="(part._.Customizing_.Test_.Evaluation)"></a>Customizing Test Evaluation</h4><p>Just like with checks, there are several parameters that
control the semantics of compound testing forms.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._current-test-name))"></a><a name="(def._((lib._rackunit/main..rkt)._current-test-name))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-name))" class="RktValLink" pltdoc="x">current-test-name</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-name))" class="RktValLink" pltdoc="x">current-test-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This parameter stores the name of the current test case.  A
value of <span class="RktVal">#f</span> indicates a test case with no name,
such as one constructed by <span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-begin))" class="RktStxLink" pltdoc="x">test-begin</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._current-test-case-around))"></a><a name="(def._((lib._rackunit/main..rkt)._current-test-case-around))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-case-around))" class="RktValLink" pltdoc="x">current-test-case-around</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-case-around))" class="RktValLink" pltdoc="x">current-test-case-around</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">handler</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">handler</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This parameter handles evaluation of test cases.  The value
of the parameter is a function that is passed a thunk (a
function of no arguments). The function, when applied,
evaluates the expressions within a test case.  The default
value of the <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-case-around))" class="RktValLink" pltdoc="x">current-test-case-around</a></span> parameters
evaluates the thunk in a context that catches exceptions and
prints an appropriate message indicating test case failure.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._test-suite-test-case-around))"></a><a name="(def._((lib._rackunit/main..rkt)._test-suite-test-case-around))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-suite-test-case-around))" class="RktValLink" pltdoc="x">test-suite-test-case-around</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">thunk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-test-case-around))" class="RktValLink" pltdoc="x">current-test-case-around</a></span> parameter is
parameterized to this value within the scope of a
<span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span>.  This function creates a test case
structure instead of immediately evaluating the thunk.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._test-suite-check-around))"></a><a name="(def._((lib._rackunit/main..rkt)._test-suite-check-around))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-suite-check-around))" class="RktValLink" pltdoc="x">test-suite-check-around</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">thunk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._current-check-around))" class="RktValLink" pltdoc="x">current-check-around</a></span> parameter is parameterized
to this value within the scope of a <span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span>.
This function creates a test case structure instead of
immediately evaluating a check.</div></p><h4>4.3<tt>&nbsp;</tt><a name="(part._running)"></a>Programmatically Running Tests and Inspecting Results</h4><p>RackUnit provides an API for running tests, from which
custom UIs can be created.</p><h5>4.3.1<tt>&nbsp;</tt><a name="(part._.Result_.Types)"></a>Result Types</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._make-exn~3atest))"></a><a name="(def._((lib._rackunit/main..rkt)._make-exn~3atest))"></a><a name="(dep._((lib._rackunit/main..rkt)._exn~3atest~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._exn~3atest~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3aexn~3atest))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3aexn~3atest))"></a><a name="(dep._((lib._rackunit/main..rkt)._exn~3atest))"></a><a name="(def._((lib._rackunit/main..rkt)._exn~3atest))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest))" class="RktValLink" pltdoc="x">exn:test</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/exns.html#(def._((lib._racket/private/base..rkt)._exn))" class="RktValLink" pltdoc="x">exn</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-exn~3atest))" class="RktValLink" pltdoc="x">make-exn:test</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">The base structure for RackUnit exceptions.  You should
never catch instances of this type, only the subtypes
documented below.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._exn~3atest~3acheck-stack))"></a><a name="(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck-stack))"></a><a name="(dep._((lib._rackunit/main..rkt)._make-exn~3atest~3acheck))"></a><a name="(def._((lib._rackunit/main..rkt)._make-exn~3atest~3acheck))"></a><a name="(dep._((lib._rackunit/main..rkt)._exn~3atest~3acheck~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3aexn~3atest~3acheck))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3aexn~3atest~3acheck))"></a><a name="(dep._((lib._rackunit/main..rkt)._exn~3atest~3acheck))"></a><a name="(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck))" class="RktValLink" pltdoc="x">exn:test:check</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest))" class="RktValLink" pltdoc="x">exn:test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">stack</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-exn~3atest~3acheck))" class="RktValLink" pltdoc="x">make-exn:test:check</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">stack</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._check-info))" class="RktValLink" pltdoc="x">check-info</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._exn~3atest~3acheck))" class="RktValLink" pltdoc="x">exn:test:check</a></span> is raised when an check fails, and
contains the contents of the check-info stack at the
time of failure.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._test-result-test-case-name))"></a><a name="(def._((lib._rackunit/main..rkt)._test-result-test-case-name))"></a><a name="(dep._((lib._rackunit/main..rkt)._make-test-result))"></a><a name="(def._((lib._rackunit/main..rkt)._make-test-result))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-result~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._test-result~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3atest-result))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3atest-result))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-result))"></a><a name="(def._((lib._rackunit/main..rkt)._test-result))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test-case-name</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-test-result))" class="RktValLink" pltdoc="x">make-test-result</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">test-case-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A test-result is the result of running the test with
the given name (with <span class="RktVal">#f</span> indicating no name is available).</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._test-failure-result))"></a><a name="(def._((lib._rackunit/main..rkt)._test-failure-result))"></a><a name="(dep._((lib._rackunit/main..rkt)._make-test-failure))"></a><a name="(def._((lib._rackunit/main..rkt)._make-test-failure))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-failure~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._test-failure~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3atest-failure))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3atest-failure))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-failure))"></a><a name="(def._((lib._rackunit/main..rkt)._test-failure))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-failure))" class="RktValLink" pltdoc="x">test-failure</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-test-failure))" class="RktValLink" pltdoc="x">make-test-failure</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></div><div class="SIntrapara">Subtype of test-result representing a test failure.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._test-error-result))"></a><a name="(def._((lib._rackunit/main..rkt)._test-error-result))"></a><a name="(dep._((lib._rackunit/main..rkt)._make-test-error))"></a><a name="(def._((lib._rackunit/main..rkt)._make-test-error))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-error~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._test-error~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3atest-error))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3atest-error))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-error))"></a><a name="(def._((lib._rackunit/main..rkt)._test-error))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-error))" class="RktValLink" pltdoc="x">test-error</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-test-error))" class="RktValLink" pltdoc="x">make-test-error</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/exns.html#(def._((lib._racket/private/base..rkt)._exn))" class="RktValLink" pltdoc="x">exn</a></span></td></tr></table></div><div class="SIntrapara">Subtype of test-result representing a test error.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(dep._((lib._rackunit/main..rkt)._test-success-result))"></a><a name="(def._((lib._rackunit/main..rkt)._test-success-result))"></a><a name="(dep._((lib._rackunit/main..rkt)._make-test-success))"></a><a name="(def._((lib._rackunit/main..rkt)._make-test-success))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-success~3f))"></a><a name="(def._((lib._rackunit/main..rkt)._test-success~3f))"></a><a name="(dep._((lib._rackunit/main..rkt)._struct~3atest-success))"></a><a name="(def._((lib._rackunit/main..rkt)._struct~3atest-success))"></a><a name="(dep._((lib._rackunit/main..rkt)._test-success))"></a><a name="(def._((lib._rackunit/main..rkt)._test-success))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-success))" class="RktValLink" pltdoc="x">test-success</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._make-test-success))" class="RktValLink" pltdoc="x">make-test-success</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></div><div class="SIntrapara">Subtype of test-result representing a test success.</div></p><h5>4.3.2<tt>&nbsp;</tt><a name="(part._.Functions_to_.Run_.Tests)"></a>Functions to Run Tests</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._run-test-case))"></a><a name="(def._((lib._rackunit/main..rkt)._run-test-case))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._run-test-case))" class="RktValLink" pltdoc="x">run-test-case</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">action</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">action</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Runs the given test case, returning a result representing success,
failure, or error.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._run-test))"></a><a name="(def._((lib._rackunit/main..rkt)._run-test))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._run-test))" class="RktValLink" pltdoc="x">run-test</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">test</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/misc..rkt)._flat-murec-contract))" class="RktStxLink" pltdoc="x">flat-murec-contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">R</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result~3f))" class="RktValLink" pltdoc="x">test-result?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-case~3f))" class="RktValLink" pltdoc="x">test-case?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-suite~3f))" class="RktValLink" pltdoc="x">test-suite?</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Runs the given test (test case or test suite) returning a
tree (list of lists) of results</div></p><p>Example:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._run-test))" class="RktValLink" pltdoc="x">run-test</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Dummy"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-case))" class="RktStxLink" pltdoc="x">test-case</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Dummy"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._check-equal~3f))" class="RktValLink" pltdoc="x">check-equal?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._fold-test-results))"></a><a name="(def._((lib._rackunit/main..rkt)._fold-test-results))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">result-fn</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">seed</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">test</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:run</span><span class="hspace">&nbsp;</span><span class="RktVar">run</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:fdown</span><span class="hspace">&nbsp;</span><span class="RktVar">fdown</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:fup</span><span class="hspace">&nbsp;</span><span class="RktVar">fup</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVal">'</span><span class="RktVal">a</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">result-fn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seed</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-case~3f))" class="RktValLink" pltdoc="x">test-case?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-suite~3f))" class="RktValLink" pltdoc="x">test-suite?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">run</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fdown</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Fold <span class="RktVar">result-fn</span> pre-order left-to-right depth-first
over the results of <span class="RktVar">run</span>.  By default <span class="RktVar">run</span>
is <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._run-test-case))" class="RktValLink" pltdoc="x">run-test-case</a></span> and <span class="RktVar">fdown</span> and
<span class="RktVar">fup</span> just return the seed, so <span class="RktVar">result-fn</span> is
folded over the test results.</div></p><p>This function is useful for writing custom folds (and hence UIs) over
test results without you having to take care of all the expected setup
and teardown.  For example, <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span> will run test
suite before and after actions for you.  However it is still flexible
enough, via its keyword arguments, to do almost anything that
<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span> can.  Hence it should be used in preference to <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span>.</p><p>The <span class="RktVar">result-fn</span> argument is a function from the results of
<span class="RktVar">run</span> (defaults to a <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-result))" class="RktValLink" pltdoc="x">test-result</a></span>) and the seed to a
new seed.</p><p>The <span class="RktVar">seed</span> argument is any value.</p><p>The <span class="RktVar">test</span> argument is a test case or test suite.</p><p>The <span class="RktVar">run</span> argument is a function from a test case name (string)
and action (thunk) to any values. The values produced by <span class="RktVar">run</span>
are fed into the <span class="RktVar">result-fn</span>.</p><p>The <span class="RktVar">fdown</span> argument is a function from a test suite name
(string) and the seed, to a new seed.</p><p>The <span class="RktVar">fup</span> argument is a function from a test suite name
(string) and the seed, to a new seed.</p><p>Examples:</p><p>The following code counts the number of successes:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">count-successes</span><span class="hspace">&nbsp;</span><span class="RktSym">test</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._test-success~3f))" class="RktValLink" pltdoc="x">test-success?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">test</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>The following code returns the symbol <span class="RktVal">'</span><span class="RktVal">burp</span> instead
of running test cases.  Note how the <span class="RktSym">result-fn</span> receives the
value of <span class="RktSym">run</span>.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">burp</span><span class="hspace">&nbsp;</span><span class="RktSym">test</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="RktValLink" pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._null))" class="RktValLink" pltdoc="x">null</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">test</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:run</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">action</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">burp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._rackunit/main..rkt)._foldts))"></a><a name="(def._((lib._rackunit/main..rkt)._foldts))"></a><span title="Provided from: rackunit"><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">fdown</span><span class="hspace">&nbsp;</span><span class="RktVar">fup</span><span class="hspace">&nbsp;</span><span class="RktVar">fhere</span><span class="hspace">&nbsp;</span><span class="RktVar">seed</span><span class="hspace">&nbsp;</span><span class="RktVar">test</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fdown</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">thunk</span><span class="hspace">&nbsp;</span><span class="RktSym">thunk</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fup</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-suite))" class="RktStxLink" pltdoc="x">test-suite</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">thunk</span><span class="hspace">&nbsp;</span><span class="RktSym">thunk</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fhere</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._test-case))" class="RktStxLink" pltdoc="x">test-case</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">thunk</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seed</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-case~3f))" class="RktValLink" pltdoc="x">test-case?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(def._((lib._rackunit/main..rkt)._test-suite~3f))" class="RktValLink" pltdoc="x">test-suite?</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span> function is a nifty tree fold (created by Oleg
Kiselyov) that folds over a test in a useful way
(<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span> isn&rsquo;t that useful as you can&rsquo;t specify
actions around test cases).</div></p><p>The <span class="RktVar">fdown</span> argument is a function of test suite, test suite
name, before action, after action, and the seed.  It is run when a
test suite is encountered on the way down the tree (pre-order).</p><p>The <span class="RktVar">fup</span> argument is a function of test suite, test suite
name, before action, after action, the seed at the current level, and
the seed returned by the children.  It is run on the way up the tree
(post-order).</p><p>The <span class="RktVar">fhere</span> argument is a function of the test case, test case
name, the test case action, and the seed. (Note that this might change
in the near future to just the test case.  This change would be to
allow <span class="RktVar">fhere</span> to discriminate subtypes of test-case, which in
turn would allow test cases that are, for example, ignored).</p><p>Example:</p><p>Here&rsquo;s the implementation of <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span> in terms of
<span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span>:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._fold-test-results))" class="RktValLink" pltdoc="x">fold-test-results</a></span><span class="hspace">&nbsp;</span><span class="RktSym">suite-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">case-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="hspace">&nbsp;</span><span class="RktSym">test</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">suite</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._before))" class="RktStxLink" pltdoc="x">before</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._after))" class="RktStxLink" pltdoc="x">after</a></span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._before))" class="RktStxLink" pltdoc="x">before</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">suite-fn</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">suite</span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._before))" class="RktStxLink" pltdoc="x">before</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._after))" class="RktStxLink" pltdoc="x">after</a></span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="hspace">&nbsp;</span><span class="RktSym">kid-seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="api.html#(form._((lib._rackunit/main..rkt)._after))" class="RktStxLink" pltdoc="x">after</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">kid-seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/case.html#(form._((lib._racket/private/more-scheme..rkt)._case))" class="RktStxLink" pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">action</span><span class="hspace">&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">case-fn</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._run-test-case))" class="RktValLink" pltdoc="x">run-test-case</a></span><span class="hspace">&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">action</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">seed</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">seed</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">test</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>If you&rsquo;re used to folds you&rsquo;ll probably be a bit surprised that the
functions you pass to <span class="RktSym"><a href="#(def._((lib._rackunit/main..rkt)._foldts))" class="RktValLink" pltdoc="x">foldts</a></span> receive both the structure they
operate on, and the contents of that structure.  This is indeed
unusual.  It is done to allow subtypes of test-case and test-suite to
be run in customised ways.  For example, you might define subtypes of
test case that are ignored (not run), or have their execution time
recorded, and so on.  To do so the functions that run the test cases
need to know what type the test case has, and hence is is necessary to
provide this information.</p><p>If you&rsquo;ve made it this far you truly are a master RackUnit hacker.  As
a bonus prize we&rsquo;ll just mention that the code in
<span class="stt">hash-monad.rkt</span> and <span class="stt">monad.rkt</span> might be of
interest for constructing user interfaces.  The API is still in flux,
so isn&rsquo;t documented here.  However, do look at the implementation of
<span class="RktSym"><a href="api.html#(def._((lib._rackunit/text-ui..rkt)._run-tests))" class="RktValLink" pltdoc="x">run-tests</a></span> for examples of use.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="api.html" title="backward to &quot;3 RackUnit API&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;RackUnit: Unit Testing for Racket&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Release_Notes.html" title="forward to &quot;5 Release Notes&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>