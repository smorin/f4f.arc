<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>3&nbsp;Specifying Types</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Typed Racket</span>:<span class="mywbr"> </span> Racket with Static Types</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="quick.html" class="tocviewlink" pltdoc="x">Quick Start</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="beginning.html" class="tocviewlink" pltdoc="x">Beginning Typed Racket</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Specifying Types</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="types.html" class="tocviewlink" pltdoc="x">Types in Typed Racket</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="optimization.html" class="tocviewlink" pltdoc="x">Optimization in Typed Racket</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Specifying Types</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#(part._.Type_.Annotation_and_.Binding_.Forms)" class="tocviewlink" pltdoc="x">Type Annotation and Binding Forms</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#(part._.Type_.Inference)" class="tocviewlink" pltdoc="x">Type Inference</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#(part._.New_.Type_.Names)" class="tocviewlink" pltdoc="x">New Type Names</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#(part._.Type_.Annotation_and_.Binding_.Forms)" class="tocsubseclink" pltdoc="x">Type Annotation and Binding Forms</a></td></tr><tr><td><span class="tocsublinknumber">3.1.1<tt>&nbsp;</tt></span><a href="#(part._.Annotating_.Definitions)" class="tocsubseclink" pltdoc="x">Annotating Definitions</a></td></tr><tr><td><span class="tocsublinknumber">3.1.2<tt>&nbsp;</tt></span><a href="#(part._.Annotating_.Local_.Binding)" class="tocsubseclink" pltdoc="x">Annotating Local Binding</a></td></tr><tr><td><span class="tocsublinknumber">3.1.3<tt>&nbsp;</tt></span><a href="#(part._.Annotating_.Functions)" class="tocsubseclink" pltdoc="x">Annotating Functions</a></td></tr><tr><td><span class="tocsublinknumber">3.1.4<tt>&nbsp;</tt></span><a href="#(part._.Annotating_.Single_.Variables)" class="tocsubseclink" pltdoc="x">Annotating Single Variables</a></td></tr><tr><td><span class="tocsublinknumber">3.1.5<tt>&nbsp;</tt></span><a href="#(part._.Annotating_.Expressions)" class="tocsubseclink" pltdoc="x">Annotating Expressions</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#(part._.Type_.Inference)" class="tocsubseclink" pltdoc="x">Type Inference</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#(part._.New_.Type_.Names)" class="tocsubseclink" pltdoc="x">New Type Names</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">Version: 5.0.2</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="beginning.html" title="backward to &quot;2 Beginning Typed Racket&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket: Racket with Static Types&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="types.html" title="forward to &quot;4 Types in Typed Racket&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>3<tt>&nbsp;</tt><a name="(part._more)"></a>Specifying Types</h3><p>The previous section introduced the basics of the Typed Racket type
system.  In this section, we will see several new features of the
language, allowing types to be specified and used.</p><h4>3.1<tt>&nbsp;</tt><a name="(part._.Type_.Annotation_and_.Binding_.Forms)"></a>Type Annotation and Binding Forms</h4><p>In general, variables in Typed Racket must be annotated with their
type.</p><h5>3.1.1<tt>&nbsp;</tt><a name="(part._.Annotating_.Definitions)"></a>Annotating Definitions</h5><p>We have already seen the <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span> type annotation form.  This is
useful for definitions, at both the top level of a module</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr></table></p><p>and in an internal definition</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>In addition to the <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span> form, almost all binding forms from
<a href="../reference/index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket</span></a> have counterparts which allow the specification
of types. The <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._define~3a))" class="RktStxLink" pltdoc="x">define:</a></span> form allows the definition of variables
in both top-level and internal contexts.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._define~3a))" class="RktStxLink" pltdoc="x">define:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._define~3a))" class="RktStxLink" pltdoc="x">define:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span></td></tr></table></p><p>Here, <span class="RktSym">x</span> has the type <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>, and <span class="RktSym">id</span> has the
type <span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span>.  In the body of <span class="RktSym">id</span>,
<span class="RktSym">z</span> has the type <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>.</p><h5>3.1.2<tt>&nbsp;</tt><a name="(part._.Annotating_.Local_.Binding)"></a>Annotating Local Binding</h5><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let~3a))" class="RktStxLink" pltdoc="x">let:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>The <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let~3a))" class="RktStxLink" pltdoc="x">let:</a></span> form is exactly like <span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span>, but type
annotations are provided for each variable bound.  Here, <span class="RktSym">x</span> is
given the type <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>.  The <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let*~3a))" class="RktStxLink" pltdoc="x">let*:</a></span> and
<span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._letrec~3a))" class="RktStxLink" pltdoc="x">letrec:</a></span> are similar. Annotations are optional with
<span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let~3a))" class="RktStxLink" pltdoc="x">let:</a></span> and variants.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let-values~3a))" class="RktStxLink" pltdoc="x">let-values:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._values))" class="RktStxLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">"hello"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string-length))" class="RktValLink" pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>The <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let*-values~3a))" class="RktStxLink" pltdoc="x">let*-values:</a></span> and <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._letrec-values~3a))" class="RktStxLink" pltdoc="x">letrec-values:</a></span> forms are similar.</p><h5>3.1.3<tt>&nbsp;</tt><a name="(part._.Annotating_.Functions)"></a>Annotating Functions</h5><p>Function expressions also bind variables, which can be annotated with
types. This function expects two arguments, a <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span> and a
<span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span>:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._lambda~3a))" class="RktStxLink" pltdoc="x">lambda:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>This function accepts at least one <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span>, followed by
arbitrarily many <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>s.  In the body, <span class="RktSym">y</span> is a list
of <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>s.</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._lambda~3a))" class="RktStxLink" pltdoc="x">lambda:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="stt">.</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="hspace">&nbsp;</span><span class="RktSym">*</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/procedures.html#(def._((lib._racket/private/base..rkt)._apply))" class="RktValLink" pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>This function has the type <span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="stt"> </span><span class="RktSym">*</span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span>.
Functions defined by cases may also be annotated:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._case-lambda~3a))" class="RktStxLink" pltdoc="x">case-lambda:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._~3a))" class="RktStxLink" pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></p><p>This function has the type
<span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._case-lambda))" class="RktStxLink" pltdoc="x">case-lambda</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><h5>3.1.4<tt>&nbsp;</tt><a name="(part._.Annotating_.Single_.Variables)"></a>Annotating Single Variables</h5><p>When a single variable binding needs annotation, the annotation can be
applied to a single variable using a reader extension:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">#{</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>This is equivalent to the earlier use of <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._let~3a))" class="RktStxLink" pltdoc="x">let:</a></span>. This is
especially useful for binding forms which do not have counterparts
provided by Typed Racket, such as <span class="RktSym"><a href="../mzlib/mzlib_etc.html#(form._((lib._mzlib/etc..rkt)._let+))" class="RktStxLink" pltdoc="x">let+</a></span>:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../mzlib/mzlib_etc.html#(form._((lib._mzlib/etc..rkt)._let+))" class="RktStxLink" pltdoc="x">let+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">val</span><span class="hspace">&nbsp;</span><span class="RktPn">#{</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="RktValLink" pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><h5>3.1.5<tt>&nbsp;</tt><a name="(part._.Annotating_.Expressions)"></a>Annotating Expressions</h5><p>It is also possible to provide an expected type for a particular
expression.</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._ann))" class="RktStxLink" pltdoc="x">ann</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span></p><p>This ensures that the expression, here <span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="stt"> </span><span class="RktVal">7</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span>, has the
desired type, here <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span>.  Otherwise, the type checker
signals an error.  For example:</p><p><table cellspacing="0"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed-scheme/private/prims..rkt)._ann))" class="RktStxLink" pltdoc="x">ann</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"not a number"</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">eval:2:0: Type Checker: Expected Number, but got String in:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">(quote "not a number")</span></p></td></tr></table></p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Type_.Inference)"></a>Type Inference</h4><p>In many cases, type annotations can be avoided where Typed Racket can
infer them.  For example, the types of all local bindings using
<span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span> and <span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" class="RktStxLink" pltdoc="x">let*</a></span> can be inferred.</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._add1))" class="RktValLink" pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>In this example, <span class="RktSym">x</span> has the type
<span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Exact-.Positive-.Integer))" class="RktStxLink" pltdoc="x">Exact-Positive-Integer</a></span>.</p><p>Similarly, top-level constant definitions do not require annotation:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="RktPn">)</span></p><p>In this examples, <span class="RktSym">y</span> has the type <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.String))" class="RktStxLink" pltdoc="x">String</a></span>.</p><p>Finally, the parameter types for loops are inferred from their initial
values.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._null~3f))" class="RktValLink" pltdoc="x">null?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._car))" class="RktValLink" pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" class="RktValLink" pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>Here <span class="RktSym">x</span> has the inferred type <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Integer))" class="RktStxLink" pltdoc="x">Integer</a></span>, and <span class="RktSym">y</span>
has the inferred type <span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Listof))" class="RktStxLink" pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Integer))" class="RktStxLink" pltdoc="x">Integer</a></span><span class="RktPn">)</span>.  The <span class="RktSym">loop</span>
variable has type <span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Integer))" class="RktStxLink" pltdoc="x">Integer</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Listof))" class="RktStxLink" pltdoc="x">Listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Integer))" class="RktStxLink" pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Integer))" class="RktStxLink" pltdoc="x">Integer</a></span><span class="RktPn">)</span>.</p><h4>3.3<tt>&nbsp;</tt><a name="(part._.New_.Type_.Names)"></a>New Type Names</h4><p>Any type can be given a name with <span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._define-type))" class="RktStxLink" pltdoc="x">define-type</a></span>.</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._define-type))" class="RktStxLink" pltdoc="x">define-type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">NN</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span><span class="RktPn">)</span></p><p>Anywhere the name <span class="RktSym">NN</span> is used, it is expanded to
<span class="RktPn">(</span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="stt"> </span><span class="RktSym"><a href="../ts-reference/index.html#(form._((lib._typed/racket/base..rkt)._.Number))" class="RktStxLink" pltdoc="x">Number</a></span><span class="RktPn">)</span>.   Type names may not be recursive.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="beginning.html" title="backward to &quot;2 Beginning Typed Racket&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Typed Racket: Racket with Static Types&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="types.html" title="forward to &quot;4 Types in Typed Racket&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>