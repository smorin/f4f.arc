<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>8.5&nbsp;Syntax patterns</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Syntax</span>:<span class="mywbr"> </span> Meta-<wbr></wbr>Programming Helpers</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="syntax-helpers.html" class="tocviewlink" pltdoc="x">Syntax Object Helpers</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="module-helpers.html" class="tocviewlink" pltdoc="x">Module-<wbr></wbr>Processing Helpers</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="transformer-helpers.html" class="tocviewlink" pltdoc="x">Macro Transformer Helpers</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="reader-helpers.html" class="tocviewlink" pltdoc="x">Reader Helpers</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="toplevel.html" class="tocviewlink" pltdoc="x">Non-<wbr></wbr>Module Compilation And Expansion</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="trusted-xforms.html" class="tocviewlink" pltdoc="x">Trusting Standard Recertifying Transformers</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="docprovide.html" class="tocviewlink" pltdoc="x">Attaching Documentation to Exports</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="stxparse.html" class="tocviewselflink" pltdoc="x">Parsing and specifying syntax</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>8&nbsp;</td><td><a href="stxparse.html" class="tocviewlink" pltdoc="x">Parsing and specifying syntax</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.1&nbsp;</td><td><a href="stxparse-intro.html" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">8.2&nbsp;</td><td><a href="stxparse-examples.html" class="tocviewlink" pltdoc="x">Examples</a></td></tr><tr><td align="right">8.3&nbsp;</td><td><a href="Parsing_syntax.html" class="tocviewlink" pltdoc="x">Parsing syntax</a></td></tr><tr><td align="right">8.4&nbsp;</td><td><a href="stxparse-specifying.html" class="tocviewlink" pltdoc="x">Specifying syntax with syntax classes</a></td></tr><tr><td align="right">8.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Syntax patterns</a></td></tr><tr><td align="right">8.6&nbsp;</td><td><a href="Literal_sets_and_Conventions.html" class="tocviewlink" pltdoc="x">Literal sets and Conventions</a></td></tr><tr><td align="right">8.7&nbsp;</td><td><a href="Library_syntax_classes_and_literal_sets.html" class="tocviewlink" pltdoc="x">Library syntax classes and literal sets</a></td></tr><tr><td align="right">8.8&nbsp;</td><td><a href="Debugging_and_inspection_tools.html" class="tocviewlink" pltdoc="x">Debugging and inspection tools</a></td></tr><tr><td align="right">8.9&nbsp;</td><td><a href="Experimental.html" class="tocviewlink" pltdoc="x">Experimental</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>8.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Syntax patterns</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.5.1&nbsp;</td><td><a href="#(part._.Single-term_patterns)" class="tocviewlink" pltdoc="x">Single-<wbr></wbr>term patterns</a></td></tr><tr><td align="right">8.5.2&nbsp;</td><td><a href="#(part._.Head_patterns)" class="tocviewlink" pltdoc="x">Head patterns</a></td></tr><tr><td align="right">8.5.3&nbsp;</td><td><a href="#(part._.Ellipsis-head_patterns)" class="tocviewlink" pltdoc="x">Ellipsis-<wbr></wbr>head patterns</a></td></tr><tr><td align="right">8.5.4&nbsp;</td><td><a href="#(part._.Action_patterns)" class="tocviewlink" pltdoc="x">Action patterns</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~var</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~and</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~or</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~describe</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~commit</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~delimit-<wbr></wbr>cut</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: syntax/parse"><span class="RktSym"><span class="RktStxLink">~optional</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">8.5.1<tt>&nbsp;</tt></span><a href="#(part._.Single-term_patterns)" class="tocsubseclink" pltdoc="x">Single-<wbr></wbr>term patterns</a></td></tr><tr><td><span class="tocsublinknumber">8.5.2<tt>&nbsp;</tt></span><a href="#(part._.Head_patterns)" class="tocsubseclink" pltdoc="x">Head patterns</a></td></tr><tr><td><span class="tocsublinknumber">8.5.3<tt>&nbsp;</tt></span><a href="#(part._.Ellipsis-head_patterns)" class="tocsubseclink" pltdoc="x">Ellipsis-<wbr></wbr>head patterns</a></td></tr><tr><td><span class="tocsublinknumber">8.5.4<tt>&nbsp;</tt></span><a href="#(part._.Action_patterns)" class="tocsubseclink" pltdoc="x">Action patterns</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="stxparse-specifying.html" title="backward to &quot;8.4 Specifying syntax with syntax classes&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="stxparse.html" title="up to &quot;8 Parsing and specifying syntax&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Literal_sets_and_Conventions.html" title="forward to &quot;8.6 Literal sets and Conventions&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>8.5<tt>&nbsp;</tt><a name="(part._stxparse-patterns)"></a>Syntax patterns</h4><p><div class="SIntrapara">The grammar of <a name="(tech._syntax._pattern)"></a><span style="font-style: italic">syntax patterns</span> used by
<a href="stxparse.html" class="RktModLink" pltdoc="x"><span class="RktSym">syntax/parse</span></a> facilities is given in the following
table. There are four main kinds of syntax pattern:
</div><div class="SIntrapara"><ul><li><p><a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term patterns</span></a>, abbreviated <span class="RktVar">S-pattern</span></p></li><li><p><a href="#(tech._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">head patterns</span></a>, abbreviated <span class="RktVar">H-pattern</span></p></li><li><p><a href="#(tech._ellipsis._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">ellipsis-head patterns</span></a>, abbreviated <span class="RktVar">EH-pattern</span></p></li><li><p><a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action patterns</span></a>, abbreviated <span class="RktVar">A-pattern</span></p></li></ul></div><div class="SIntrapara">A fifth kind, <a href="#(tech._list._pattern)" class="techoutside" pltdoc="x"><span class="techinside">list patterns</span></a> (abbreviated
<span class="RktVar">L-pattern</span>), is a just a syntactically restricted subset of
<a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term patterns</span></a>.</div></p><p>When a special form in this manual refers to <span class="RktVar">syntax-pattern</span>
(eg, the description of the <span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span> special form), it
means specifically <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a>.</p><p><table cellspacing="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">S-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">pvar-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">pvar-id:syntax-class-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">literal-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7evar._s-)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">s-</span></a><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7evar._s+)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">s+</span></a><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">syntax-class-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7evar._s+)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">s+</span></a><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">syntax-class-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktVar">literal-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">atomic-datum</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktVar">datum</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">A-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">EH-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._......+))" class="RktStxLink" pltdoc="x">...+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eand._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">s</span></a><span class="hspace">&nbsp;</span><span class="RktVar">proper-S/A-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eor._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">s</span></a><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7enot))" class="RktStxLink" pltdoc="x">~not</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVar">pattern-part</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">prefab-struct-key</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern-part</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#&amp;</span><span class="RktVar">S-pattern</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7erest))" class="RktStxLink" pltdoc="x">~rest</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7edescribe._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">s</span></a><span class="hspace">&nbsp;</span><span class="RktVar">maybe-opaque</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7ecommit._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">s</span></a><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7edelimit-cut._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">s</span></a><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">A-pattern</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">L-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">A-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">EH-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._......+))" class="RktStxLink" pltdoc="x">...+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7erest))" class="RktStxLink" pltdoc="x">~rest</a></span><span class="hspace">&nbsp;</span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">H-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">pvar-id:splicing-syntax-class-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7evar._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">splicing-syntax-class-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7evar._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">splicing-syntax-class-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eand._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">proper-H/A-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eor._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eoptional._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-optional-option</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7edescribe._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">maybe-opaque</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7ecommit._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7edelimit-cut._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">h</span></a><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7epeek))" class="RktStxLink" pltdoc="x">~peek</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">proper-S-pattern</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">EH-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a><span class="hspace">&nbsp;</span><span class="RktVar">EH-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eonce))" class="RktStxLink" pltdoc="x">~once</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">once-option</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eoptional._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">eh</span></a><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">optional-option</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ebetween))" class="RktStxLink" pltdoc="x">~between</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H</span><span class="hspace">&nbsp;</span><span class="RktVar">min-number</span><span class="hspace">&nbsp;</span><span class="RktVar">max-number</span><span class="hspace">&nbsp;</span><span class="RktVar">between-option</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">H-pattern</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">A-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ebind))" class="RktStxLink" pltdoc="x">~bind</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">attr-id</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7efail))" class="RktStxLink" pltdoc="x">~fail</a></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-fail-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-message-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eparse))" class="RktStxLink" pltdoc="x">~parse</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">stx-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><a href="#(elem._(pattern-link._(~7eand._a)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">a</span></a><span class="hspace">&nbsp;</span><span class="RktVar">A-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proper-S-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline">a <span class="RktVar">S-pattern</span> that is not a <span class="RktVar">A-pattern</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proper-H-pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline">a <span class="RktVar">H-pattern</span> that is not a <span class="RktVar">S-pattern</span></td></tr></table></p><p>The following pattern keywords can be used in multiple pattern
variants:</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7evar))"></a><a name="(form._((lib._syntax/parse..rkt)._~7evar))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7evar._s-)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">s-</span></a>, <a href="#(elem._(pattern-link._(~7evar._s+)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">s+</span></a>, or <a href="#(elem._(pattern-link._(~7evar._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~var</span><span style="vertical-align: super; font-size: 80%">h</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7eand))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eand))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7eand._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">s</span></a>, <a href="#(elem._(pattern-link._(~7eand._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">h</span></a>, or <a href="#(elem._(pattern-link._(~7eand._a)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">a</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7eand._a)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">a</span></a> if all of the conjuncts are <a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action patterns</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7eand._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">h</span></a> if any of the conjuncts is a <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper
head pattern</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7eand._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">s</span></a> otherwise</p></li></ul></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7eor))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eor))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7eor._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">s</span></a>, <a href="#(elem._(pattern-link._(~7eor._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">h</span></a>, or <a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a> if the pattern occurs directly before ellipses
(<span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span>) or immediately within another <a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a> pattern</p></li><li><p><a href="#(elem._(pattern-link._(~7eor._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">h</span></a> if any of the disjuncts is a <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper head pattern</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7eor._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">s</span></a> otherwise</p></li></ul></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7edescribe))"></a><a name="(form._((lib._syntax/parse..rkt)._~7edescribe))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7edescribe._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">s</span></a> or <a href="#(elem._(pattern-link._(~7edescribe._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">h</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7edescribe._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">h</span></a> if the subpattern is a <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper head pattern</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7edescribe._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">s</span></a> otherwise</p></li></ul></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7ecommit))"></a><a name="(form._((lib._syntax/parse..rkt)._~7ecommit))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7ecommit._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">s</span></a> or <a href="#(elem._(pattern-link._(~7ecommit._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">h</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7ecommit._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">h</span></a> if the subpattern is a <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper head pattern</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7ecommit._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">s</span></a> otherwise</p></li></ul></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7edelimit-cut))"></a><a name="(form._((lib._syntax/parse..rkt)._~7edelimit-cut))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7edelimit-cut._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">s</span></a> or <a href="#(elem._(pattern-link._(~7edescribe._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">h</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7edelimit-cut._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">h</span></a> if the subpattern is a <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper head pattern</span></a></p></li><li><p><a href="#(elem._(pattern-link._(~7edelimit-cut._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">s</span></a> otherwise</p></li></ul></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7eoptional))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eoptional))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span></span></td></tr></table></div><div class="SIntrapara">One of <a href="#(elem._(pattern-link._(~7eoptional._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">h</span></a> or <a href="#(elem._(pattern-link._(~7eoptional._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">eh</span></a>:
</div><div class="SIntrapara"><ul><li><p><a href="#(elem._(pattern-link._(~7eoptional._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">eh</span></a> if it is an immediate disjunct of a <a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a> pattern</p></li><li><p><a href="#(elem._(pattern-link._(~7eoptional._h)))" class="plainlink" pltdoc="x"><span class="RktKw">~optional</span><span style="vertical-align: super; font-size: 80%">h</span></a> otherwise</p></li></ul></div></p><h5>8.5.1<tt>&nbsp;</tt><a name="(part._.Single-term_patterns)"></a>Single-term patterns</h5><p>A <a name="(tech._single._term._pattern)"></a><span style="font-style: italic">single-term pattern</span> (abbreviated <span class="RktVar">S-pattern</span>) is a pattern that
describes a single term. These are like the traditional patterns used
in <span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._syntax-rules))" class="RktStxLink" pltdoc="x">syntax-rules</a></span> and <span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._syntax-case))" class="RktStxLink" pltdoc="x">syntax-case</a></span>, but with additional
variants that make them more expressive.</p><p>&ldquo;Single-term&rdquo; does not mean &ldquo;atomic&rdquo;; a single-term pattern can have
complex structure, and it can match terms that have many parts. For
example, <span class="RktPn">(</span><span class="RktVal">17</span><span class="stt"> </span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span> is a single-term pattern that matches any
term that is a proper list of repeated <span class="RktRes">17</span> numerals.</p><p>A <a name="(tech._proper._single._term._pattern)"></a><span style="font-style: italic">proper single-term pattern</span> is one that is not an <a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action pattern</span></a>.</p><p>The <a name="(tech._list._pattern)"></a><span style="font-style: italic">list patterns</span> (for &ldquo;list pattern&rdquo;) are single-term patterns
having a restricted structure that guarantees that they match only
terms that are proper lists.</p><p>Here are the variants of single-term pattern:</p><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVar">id</span></td></tr></table><p>An identifier can be either a <a href="#(tech._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">pattern variable</span></a>, an
<a href="#(tech._annotated._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">annotated pattern variable</span></a>, or a <a href="#(tech._literal)" class="techoutside" pltdoc="x"><span class="techinside">literal</span></a>:</p><ul><li><p>If <span class="RktVar">id</span> is the &ldquo;pattern&rdquo; name of an entry in the
literals list, it is a <a href="#(tech._literal)" class="techoutside" pltdoc="x"><span class="techinside">literal</span></a> pattern that behaves
like <span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span><span class="stt"> </span><span class="RktVar">id</span><span class="RktPn">)</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lambda: expected the identifier `define' at: lambda</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lambda: expected the identifier `define' at: lambda</span></p></td></tr></table></li><li><p>If <span class="RktVar">id</span> is of the form <span class="RktVar">pvar-id:syntax-class-id</span>
(that is, two names joined by a colon character), it is an
<a href="#(tech._annotated._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">annotated pattern variable</span></a>, and the pattern is equivalent to
<span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="stt"> </span><span class="RktSym">pvar-id</span><span class="stt"> </span><span class="RktSym">syntax-class-id</span><span class="RktPn">)</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">a</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-e))" class="RktValLink" pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'a</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">12</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-e))" class="RktValLink" pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">?: expected identifier at: 12</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-syntax-class))" class="RktStxLink" pltdoc="x">define-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktSym">two</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:attributes</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">t:two</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">t.x</span><span class="hspace">&nbsp;</span><span class="RktSym">t.y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((a<span class="stt"> </span>b)<span class="stt"> </span>a<span class="stt"> </span>b)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">t</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:declare</span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">two</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">t.x</span><span class="hspace">&nbsp;</span><span class="RktSym">t.y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((a<span class="stt"> </span>b)<span class="stt"> </span>a<span class="stt"> </span>b)</span></p></td></tr></table></li><li><p>Otherwise, <span class="RktVar">id</span> is a <a href="#(tech._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">pattern variable</span></a>, and the
pattern is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="stt"> </span><span class="RktVar">id</span><span class="RktPn">)</span>.</p></li></ul></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7evar._s-)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pvar-id</span><span class="RktPn">)</span></td></tr></table><p>A <a name="(tech._pattern._variable)"></a><span style="font-style: italic">pattern variable</span>. If <span class="RktVar">pvar-id</span> has no syntax class
(by <span class="RktPn">#:convention</span>), the pattern variable matches anything. The
pattern variable is bound to the matched subterm, unless the pattern
variable is the wildcard (<span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span>), in which case no binding
occurs.</p><p>If <span class="RktVar">pvar-id</span> does have an associated syntax class, it behaves
like an <a href="#(tech._annotated._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">annotated pattern variable</span></a> with the implicit syntax
class inserted.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7evar._s+)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pvar-id</span><span class="hspace">&nbsp;</span><span class="RktVar">syntax-class-use</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">syntax-class-use</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">syntax-class-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">syntax-class-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table><p>An <a name="(tech._annotated._pattern._variable)"></a><span style="font-style: italic">annotated pattern variable</span>. The pattern matches only
terms accepted by <span class="RktVar">syntax-class-id</span> (parameterized by the
<span class="RktSym">arg-expr</span>s, if present).</p><p>In addition to binding <span class="RktVar">pvar-id</span>, an annotated pattern
variable also binds <a name="(tech._nested._attribute)"></a><span style="font-style: italic">nested attributes</span> from the syntax
class. The names of the nested attributes are formed by prefixing
<span class="RktVar">pvar-id.</span> (that is, <span class="RktVar">pvar-id</span> followed by a &ldquo;dot&rdquo;
character) to the name of the syntax class&rsquo;s attribute.</p><p>If <span class="RktVar">pvar-id</span> is <span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span>, no attributes are bound.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">a</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">var</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Library_syntax_classes_and_literal_sets.html#(form._((lib._syntax/parse..rkt)._id))" class="RktStxLink" pltdoc="x">id</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-e))" class="RktValLink" pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'a</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">12</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">var</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Library_syntax_classes_and_literal_sets.html#(form._((lib._syntax/parse..rkt)._id))" class="RktStxLink" pltdoc="x">id</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-e))" class="RktValLink" pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">?: expected identifier at: 12</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-syntax-class))" class="RktStxLink" pltdoc="x">define-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktSym">two</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:attributes</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">two</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktSym">t.x</span><span class="hspace">&nbsp;</span><span class="RktSym">t.y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((a<span class="stt"> </span>b)<span class="stt"> </span>a<span class="stt"> </span>b)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-syntax-class))" class="RktStxLink" pltdoc="x">define-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nat-less-than</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x:nat</span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" class="RktValLink" pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-e))" class="RktValLink" pltdoc="x">syntax-e</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">small</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nat-less-than</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">large:nat</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">small</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">large</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(#&lt;syntax:49:0 (1 2 3)&gt;<span class="stt"> </span>#&lt;syntax:49:0 (4 5)&gt;)</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7eliteral))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eliteral))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">literal-id</span><span class="RktPn">)</span></td></tr></table><p>A <a name="(tech._literal)"></a><span style="font-style: italic">literal</span> identifier pattern. Matches any identifier
<span class="RktSym"><a href="../reference/stxcmp.html#(def._((quote._~23~25kernel)._free-identifier~3d~3f))" class="RktValLink" pltdoc="x">free-identifier=?</a></span> to <span class="RktVar">literal-id</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">body:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">lambda: expected the identifier `define' at: lambda</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVar">atomic-datum</span></td></tr></table><p>Numbers, strings, booleans, keywords, and the empty list match as
literals.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'bar</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">a: expected the literal #:foo at: foo</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7edatum))"></a><a name="(form._((lib._syntax/parse..rkt)._~7edatum))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">datum</span><span class="RktPn">)</span></td></tr></table><p>Matches syntax whose S-expression contents (obtained by
<span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span>) is <span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span> to the given
<span class="RktVar">datum</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'bar</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">foo</span><span class="hspace">&nbsp;</span><span class="RktSym">bar</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">a: expected the literal #:foo at: foo</span></p></td></tr></table><p>The <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span> form is useful for recognizing identifiers
symbolically, in contrast to the <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span> form, which
recognizes them by binding.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">something-else</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edatum))" class="RktStxLink" pltdoc="x">~datum</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">e:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">yes</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">no</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'yes</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">something-else</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eliteral))" class="RktStxLink" pltdoc="x">~literal</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">e:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">yes</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">no</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'no</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches any term that can be decomposed into a list prefix matching
<span class="RktVar">H-pattern</span> and a suffix matching <span class="RktVar">S-pattern</span>.</p><p>Note that the pattern may match terms that are not even improper
lists; if the head pattern can match a zero-length head, then the
whole pattern matches whatever the tail pattern accepts.</p><p>The first pattern can be a <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a>, in which case the whole
pattern matches any pair whose first element matches the first pattern
and whose rest matches the second.</p><p>See <a href="#(tech._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">head patterns</span></a> for more information.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktVar">A-pattern</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Performs the actions specified by <span class="RktVar">A-pattern</span>, then matches
any term that matches <span class="RktVar">S-pattern</span>.</p><p>Pragmatically, one can throw an <a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action pattern</span></a> into any list
pattern. Thus, <span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="stt"> </span><span class="RktSym">z</span><span class="RktPn">)</span> is a pattern matching a list of three
terms, and <span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="stt"> </span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span><span class="stt"> </span><span class="RktSym">z</span><span class="RktPn">)</span> is a pattern matching a list of three
terms, with a <a href="#(tech._cut)" class="techoutside" pltdoc="x"><span class="techinside">cut</span></a> performed after the second one. In other
words, action patterns &ldquo;don&rsquo;t take up space.&rdquo;</p><p>See <a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action patterns</span></a> for more information.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktVar">EH-pattern</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches any term that can be decomposed into a list head matching some
number of repetitions of the <span class="RktVar">EH-pattern</span> alternatives (subject
to its repetition constraints) followed by a list tail matching
<span class="RktVar">S-pattern</span>.</p><p>In other words, the whole pattern matches either the second pattern
(which need not be a list) or a term whose head matches one of the
alternatives of the first pattern and whose tail recursively matches
the whole sequence pattern.</p><p>See <a href="#(tech._ellipsis._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">ellipsis-head patterns</span></a> for more information.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><a name="(dep._((lib._syntax/parse..rkt)._......+))"></a><a name="(form._((lib._syntax/parse..rkt)._......+))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._......+))" class="RktStxLink" pltdoc="x">...+</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Like an ellipses (<span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span>) pattern, but requires at one occurrence
of the head pattern to be present.</p><p><div class="SIntrapara">That is, the following patterns are equivalent:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">(</span><span class="RktSym">H</span><span class="stt"> </span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._......+))" class="RktStxLink" pltdoc="x">...+</a></span><span class="stt"> </span><span class="RktPn">. </span><span class="RktSym">S</span><span class="RktPn">)</span></p></li><li><p><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ebetween))" class="RktStxLink" pltdoc="x">~between</a></span><span class="stt"> </span><span class="RktSym">H</span><span class="stt"> </span><span class="RktVal">1</span><span class="stt"> </span><span class="RktVal">+inf.0</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="stt"> </span><span class="RktPn">. </span><span class="RktSym">S</span><span class="RktPn">)</span></p></li></ul></div></p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">n:nat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">n:nat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">none</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'none</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eand._s)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S/A-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Matches any term that matches all of the subpatterns.</p><p>The subpatterns can contain a mixture of <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term patterns</span></a> and
<a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action patterns</span></a>, but must contain at least one <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a>.</p><p>Attributes bound in subpatterns are available to subsequent
subpatterns. The whole pattern binds all of the subpatterns&rsquo;
attributes.</p><p>One use for <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span>-patterns is preserving a whole
term (including its lexical context, source location, etc) while also
examining its structure. Syntax classes are useful for the same
purpose, but <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span> can be lighter weight.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define-syntax))" class="RktStxLink" pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">import</span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/exns.html#(def._((quote._~23~25kernel)._raise-syntax-error))" class="RktValLink" pltdoc="x">raise-syntax-error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">"illegal use of import"</span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-imports</span><span class="hspace">&nbsp;</span><span class="RktSym">stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">....</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">import</span><span class="hspace">&nbsp;</span><span class="RktSym">one</span><span class="hspace">&nbsp;</span><span class="RktSym">two</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">import</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">import-clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">import</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">bad</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-imports</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3elist))" class="RktValLink" pltdoc="x">syntax-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/when_unless.html#(form._((lib._racket/private/letstx-scheme..rkt)._when))" class="RktStxLink" pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bad</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/exns.html#(def._((quote._~23~25kernel)._raise-syntax-error))" class="RktValLink" pltdoc="x">raise-syntax-error</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">"bad import"</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">import-clause</span><span class="hspace">&nbsp;</span><span class="RktSym">bad</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eor._s)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Matches any term that matches one of the included patterns. The
alternatives are tried in order.</p><p>The whole pattern binds <span style="font-style: italic">all</span> of the subpatterns&rsquo; attributes. An
attribute that is not bound by the &ldquo;chosen&rdquo; subpattern has a value
of <span class="RktVal">#f</span>. The same attribute may be bound by multiple
subpatterns, and if it is bound by all of the subpatterns, it is sure
to have a value if the whole pattern matches.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">a</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktSym">y:nat</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:63:0 a&gt;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktSym">y:nat</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:64:0 a&gt;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:64:0 1&gt;</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktSym">y:nat</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:65:0 b&gt;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7enot))"></a><a name="(form._((lib._syntax/parse..rkt)._~7enot))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7enot))" class="RktStxLink" pltdoc="x">~not</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches any term that does not match the subpattern. None of the
subpattern&rsquo;s attributes are bound outside of the
<span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7enot))" class="RktStxLink" pltdoc="x">~not</a></span>-pattern.</p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._~3d~3e))" class="RktStxLink" pltdoc="x">=&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">u</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._~3d~3e))" class="RktStxLink" pltdoc="x">=&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">before</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7enot))" class="RktStxLink" pltdoc="x">~not</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._~3d~3e))" class="RktStxLink" pltdoc="x">=&gt;</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._~3d~3e))" class="RktStxLink" pltdoc="x">=&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">after</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">before</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">after</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(#&lt;syntax:66:0 (x y z)&gt;<span class="stt"> </span>#&lt;syntax:66:0 (u v)&gt;)</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVar">pattern-part</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr></table><p>Matches a term that is a vector whose elements, when considered as a
list, match the <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a> corresponding to
<span class="RktPn">(</span><span class="RktSym">pattern-part</span><span class="stt"> </span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">z</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">3</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">~rest</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">prefab-struct-key</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern-part</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span></td></tr></table><p>Matches a term that is a prefab struct whose key is exactly the given
key and whose sequence of fields, when considered as a list, match the
<a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a> corresponding to <span class="RktPn">(</span><span class="RktSym">pattern-part</span><span class="stt"> </span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span>.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">z</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">...</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#s</span><span class="RktVal">(</span><span class="RktVal">point</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">~rest</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVal">#&amp;</span><span class="RktVar">S-pattern</span></td></tr></table><p>Matches a term that is a box whose contents matches the inner
<a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term pattern</span></a>.</p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#&amp;</span><span class="RktVal">5</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#&amp;</span><span class="RktVal">n:nat</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7erest))"></a><a name="(form._((lib._syntax/parse..rkt)._~7erest))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7erest))" class="RktStxLink" pltdoc="x">~rest</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches just like <span class="RktVar">S-pattern</span>. The <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7erest))" class="RktStxLink" pltdoc="x">~rest</a></span> pattern form
is useful in positions where improper (&ldquo;dotted&rdquo;) lists are not
allowed by the reader, such as vector and structure patterns (see
above).</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7erest))" class="RktStxLink" pltdoc="x">~rest</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">~rest</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>3)</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7edescribe._s)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-opaque</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-opaque</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:opaque</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr></table><p>The <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span> pattern form annotates a pattern with a
description, a string expression that is evaluated in the scope of all
prior attribute bindings. If parsing the inner pattern fails, then the
description is used to synthesize the error message.</p><p>A <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span> pattern has no effect on backtracking.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7ecommit._s)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>The <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern form affects backtracking in two ways:</p><ul><li><p>If the pattern succeeds, then all choice points created within
the subpattern are discarded, and a failure <span style="font-style: italic">after</span> the
<span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern backtracks only to choice points
<span style="font-style: italic">before</span> the <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern, never one <span style="font-style: italic">within</span>
it.</p></li><li><p>A cut (<span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span>) within a <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern only
eliminates choice-points created within the <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span>
pattern. In this sense, it acts just like <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span>.</p></li></ul></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7edelimit-cut._s)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="RktPn">)</span></td></tr></table><p>The <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span> pattern form affects backtracking in the
following way:</p><ul><li><p>A cut (<span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span>) within a <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span> pattern only
eliminates choice-points created within the <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span>
pattern.</p></li></ul></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVar">A-pattern</span></td></tr></table><p>An <a href="#(tech._action._pattern)" class="techoutside" pltdoc="x"><span class="techinside">action pattern</span></a> is considered a single-term pattern when there is no
ambiguity; it matches any term.</p></blockquote><h5>8.5.2<tt>&nbsp;</tt><a name="(part._.Head_patterns)"></a>Head patterns</h5><p>A <a name="(tech._head._pattern)"></a><span style="font-style: italic">head pattern</span> (abbreviated <span class="RktVar">H-pattern</span>) is a pattern that
describes some number of terms that occur at the head of some list
(possibly an improper list). A head pattern&rsquo;s usefulness comes from being
able to match heads of different lengths, such as optional forms like
keyword arguments.</p><p>A <a name="(tech._proper._head._pattern)"></a><span style="font-style: italic">proper head pattern</span> is a head pattern that is not a single-term pattern.</p><p>Here are the variants of head pattern:</p><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVar">pvar-id:splicing-syntax-class-id</span></td></tr></table><p>Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="stt"> </span><span class="RktSym">pvar-id</span><span class="stt"> </span><span class="RktSym">splicing-syntax-class-id</span><span class="RktPn">)</span>.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7evar._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7evar))" class="RktStxLink" pltdoc="x">~var</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pvar-id</span><span class="hspace">&nbsp;</span><span class="RktVar">splicing-syntax-class-use</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">splicing-syntax-class-use</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">splicing-syntax-class-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">splicing-syntax-class-id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table><p>Pattern variable annotated with a <a href="stxparse-specifying.html#(tech._splicing._syntax._clas)" class="techoutside" pltdoc="x"><span class="techinside">splicing syntax
class</span></a>. Similar to a normal <a href="#(tech._annotated._pattern._variable)" class="techoutside" pltdoc="x"><span class="techinside">annotated pattern variable</span></a>, except
matches a head pattern.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7eseq))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eseq))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">L-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches a sequence of terms whose elements, if put in a list, would
match <span class="RktVar">L-pattern</span>.</p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr></table><p>See also the section on <a href="#(tech._ellipsis._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">ellipsis-head patterns</span></a> for more interesting
examples of <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span>.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eand._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Like the single-term pattern version, <a href="#(elem._(pattern-link._(~7eand._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~and</span><span style="vertical-align: super; font-size: 80%">s</span></a>, but matches a sequence of
terms instead.</p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k:keyword</span><span class="hspace">&nbsp;</span><span class="RktSym">e:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">positional-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((#:a<span class="stt"> </span>#:b)<span class="stt"> </span>(1<span class="stt"> </span>2)<span class="stt"> </span>(#:a<span class="stt"> </span>1<span class="stt"> </span>#:b<span class="stt"> </span>2))</span></p></td></tr></table><p>The head pattern variant of <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span> requires that all of the
subpatterns be <a href="#(tech._proper._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">proper head patterns</span></a> (not <a href="#(tech._single._term._pattern)" class="techoutside" pltdoc="x"><span class="techinside">single-term patterns</span></a>). This
is to prevent typos like the following, a variant of the previous
example with the second <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span> omitted:</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k:keyword</span><span class="hspace">&nbsp;</span><span class="RktSym">e:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">positional-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">syntax-parse: single-term pattern not allowed after head</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">pattern at: (keyword-stuff ...)</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">If the example above were allowed, it would be equivalent to this:</span></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k:keyword</span><span class="hspace">&nbsp;</span><span class="RktSym">e:expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">positional-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">keyword-stuff</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">?: expected keyword at: 3</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eor._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Like the single-term pattern version, <a href="#(elem._(pattern-link._(~7eor._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">s</span></a>, but matches a sequence of
terms instead.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:80:0 2&gt;</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eoptional._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-optional-option</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-optional-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:defaults</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">attr-id</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table><p>Matches either the given head subpattern or an empty sequence of
terms. If the <span class="RktPn">#:defaults</span> option is given, the subsequent
attribute bindings are used if the subpattern does not match. The
default attributes must be a subset of the subpattern&rsquo;s attributes.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:defaults</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:82:0 2&gt;</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:defaults</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#&lt;syntax:83:0 #f&gt;</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">m</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:foo</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">y:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7edescribe._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr></table><p>Like the single-term pattern version, <a href="#(elem._(pattern-link._(~7edescribe._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~describe</span><span style="vertical-align: super; font-size: 80%">s</span></a>, but matches a head
pattern instead.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7ecommit._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr></table><p>Like the single-term pattern version, <a href="#(elem._(pattern-link._(~7ecommit._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~commit</span><span style="vertical-align: super; font-size: 80%">s</span></a>, but matches a head
pattern instead.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7edelimit-cut._h)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr></table><p>Like the single-term pattern version, <a href="#(elem._(pattern-link._(~7edelimit-cut._s)))" class="plainlink" pltdoc="x"><span class="RktKw">~delimit-cut</span><span style="vertical-align: super; font-size: 80%">s</span></a>, but matches a head
pattern instead.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7epeek))"></a><a name="(form._((lib._syntax/parse..rkt)._~7epeek))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7epeek))" class="RktStxLink" pltdoc="x">~peek</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="RktPn">)</span></td></tr></table><p>Matches the <span class="RktVar">H-pattern</span> but then resets the matching position,
so the <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7epeek))" class="RktStxLink" pltdoc="x">~peek</a></span> pattern consumes no input. Used to look ahead in
a sequence.</p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-splicing-syntax-class))" class="RktStxLink" pltdoc="x">define-splicing-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktSym">nf-id</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">non-final id</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7epeek))" class="RktStxLink" pltdoc="x">~peek</a></span><span class="hspace">&nbsp;</span><span class="RktSym">another:id</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">n:nf-id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Writing.html#(def._((quote._~23~25kernel)._printf))" class="RktValLink" pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"nf-ids are ~s\n"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">n.x</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Writing.html#(def._((quote._~23~25kernel)._printf))" class="RktValLink" pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"rest is ~s\n"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3edatum))" class="RktValLink" pltdoc="x">syntax-&gt;datum</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">rest</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">nf-ids are (a b)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">rest is (c 1 2 3)</span></p></td></tr></table></td></tr></table></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktVar">S-pattern</span></td></tr></table><p>Matches a sequence of one element, which must be a term matching
<span class="RktVar">S-pattern</span>.</p></blockquote><h5>8.5.3<tt>&nbsp;</tt><a name="(part._.Ellipsis-head_patterns)"></a>Ellipsis-head patterns</h5><p>An <a name="(tech._ellipsis._head._pattern)"></a><span style="font-style: italic">ellipsis-head pattern</span> (abbreviated <span class="RktVar">EH-pattern</span>) is pattern
that describes some number of terms, like a <a href="#(tech._head._pattern)" class="techoutside" pltdoc="x"><span class="techinside">head pattern</span></a>, but also
places contraints on the number of times it occurs in a
repetition. They are useful for matching, for example, keyword
arguments where the keywords may come in any order. Multiple
alternatives are grouped together via <a href="#(elem._(pattern-link._(~7eor._eh)))" class="plainlink" pltdoc="x"><span class="RktKw">~or</span><span style="vertical-align: super; font-size: 80%">eh</span></a>.</p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">parser1</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parser))" class="RktStxLink" pltdoc="x">syntax-parser</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eonce))" class="RktStxLink" pltdoc="x">~once</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVal">"#:a keyword"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVal">"#:b keyword"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:c</span><span class="hspace">&nbsp;</span><span class="RktSym">z</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">parser1</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">parser1</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:b</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:c</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:c</span><span class="hspace">&nbsp;</span><span class="RktVal">25</span><span class="hspace">&nbsp;</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">hi</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'ok</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">parser1</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:a</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">?: too many occurrences of #:a keyword at: ()</span></p></td></tr></table></p><p>The pattern requires exactly one occurrence of the <span class="RktPn">#:a</span>
keyword and argument, at most one occurrence of the <span class="RktPn">#:b</span>
keyword and argument, and any number of <span class="RktPn">#:c</span> keywords and
arguments. The &ldquo;pieces&rdquo; can occur in any order.</p><p>Here are the variants of ellipsis-head pattern:</p><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eor._eh)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eor))" class="RktStxLink" pltdoc="x">~or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">EH-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Matches if any of the inner <span class="RktVar">EH-pattern</span> alternatives match.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7eonce))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eonce))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eonce))" class="RktStxLink" pltdoc="x">~once</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">once-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">once-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:too-few</span><span class="hspace">&nbsp;</span><span class="RktVar">too-few-message-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:too-many</span><span class="hspace">&nbsp;</span><span class="RktVar">too-many-message-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">too-few-message-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">too-many-message-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table><p>Matches if the inner <span class="RktVar">H-pattern</span> matches. This pattern must be
matched exactly once in the match of the entire repetition sequence.</p><p>If the pattern is not matched in the repetition sequence, then the
ellipsis pattern fails with the message either
<span class="RktVar">too-few-message-expr</span> or <span class="RktVal">"missing required
occurrence of <span class="RktVar">name-expr</span>"</span>.</p><p>If the pattern is chosen more than once in the repetition sequence,
then the ellipsis pattern fails with the message either
<span class="RktVar">too-many-message-expr</span> or <span class="RktVal">"too many occurrences
of <span class="RktVar">name-expr</span>"</span>.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eoptional._eh)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eoptional))" class="RktStxLink" pltdoc="x">~optional</a></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">optional-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">optional-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:too-many</span><span class="hspace">&nbsp;</span><span class="RktVar">too-many-message-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:defaults</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">attr-id</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">too-many-message-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table><p>Matches if the inner <span class="RktVar">H-pattern</span> matches. This pattern may be used at
most once in the match of the entire repetition.</p><p>If the pattern is matched more than once in the repetition sequence,
then the ellipsis pattern fails with the message either
<span class="RktVar">too-many-message-expr</span> or <span class="RktVal">"too many occurrences
of <span class="RktVar">name-expr</span>"</span>.</p><p>If the <span class="RktPn">#:defaults</span> option is given, the following attribute
bindings are used if the subpattern does not match at all in the
sequence. The default attributes must be a subset of the subpattern&rsquo;s
attributes.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7ebetween))"></a><a name="(form._((lib._syntax/parse..rkt)._~7ebetween))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ebetween))" class="RktStxLink" pltdoc="x">~between</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">H-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">min-number</span><span class="hspace">&nbsp;</span><span class="RktVar">max-number</span><span class="hspace">&nbsp;</span><span class="RktVar">between-option</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">reps-option</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:too-few</span><span class="hspace">&nbsp;</span><span class="RktVar">too-few-message-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:too-many</span><span class="hspace">&nbsp;</span><span class="RktVar">too-many-message-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">name-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">too-few-message-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table><p>Matches if the inner <span class="RktVar">H-pattern</span> matches. This pattern must be
matched at least <span class="RktVar">min-number</span> and at most <span class="RktVar">max-number</span>
times in the entire repetition.</p><p>If the pattern is matched too few times, then the ellipsis pattern
fails with the message either <span class="RktVar">too-few-message-expr</span> or
<span class="RktVal">"too few occurrences of <span class="RktVar">name-expr</span>"</span>.</p><p>If the pattern is chosen too many times, then the ellipsis pattern
fails with the message either <span class="RktVar">too-many-message-expr</span> or
<span class="RktVal">"too few occurrences of <span class="RktVar">name-expr</span>"</span>.</p></blockquote><h5>8.5.4<tt>&nbsp;</tt><a name="(part._.Action_patterns)"></a>Action patterns</h5><p>An <a name="(tech._action._pattern)"></a><span style="font-style: italic">action pattern</span> (abbreviated <span class="RktVar">A-pattern</span>) does not
describe any syntax; rather, it has an effect such as the binding of
attributes or the modification of the matching process.</p><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._syntax/parse..rkt)._~7e!))"></a><a name="(form._((lib._syntax/parse..rkt)._~7e!))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span></span></td></tr></table><p>The <a name="(tech._cut)"></a><span style="font-style: italic">cut</span> operator, written <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span>, eliminates
backtracking choice points and commits parsing to the current branch
of the pattern it is exploring.</p><p>Common opportunities for cut-patterns come from recognizing special
forms based on keywords. Consider the following expression:</p><table cellspacing="0"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">123</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-syntaxes))" class="RktStxLink" pltdoc="x">define-syntaxes</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">define-values</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-syntaxes))" class="RktStxLink" pltdoc="x">define-syntaxes</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">define-syntaxes</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">expression</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'expression</span></p></td></tr></table><p>Given the ill-formed term <span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="stt"> </span><span class="RktVal">123</span><span class="RktPn">)</span>, the
expression tries the first clause, fails to match <span class="RktSym">a</span> against
the pattern <span class="RktPn">(</span><span class="RktSym">x:id</span><span class="stt"> </span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span>, and then backtracks to the second
clause and ultimately the third clause, producing the value
<span class="RktVal">'</span><span class="RktVal">expression</span>. But the term is not an expression; it is an
ill-formed use of <span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span>. The proper way to write the
<span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span> expression follows:</p><table cellspacing="0"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktVal">123</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:literals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-syntaxes))" class="RktStxLink" pltdoc="x">define-syntaxes</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">define-values</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-syntaxes))" class="RktStxLink" pltdoc="x">define-syntaxes</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x:id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">define-syntaxes</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">expression</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">define-values: bad syntax at: (define-values a 123)</span></p></td></tr></table><p>Now, given the same term, <span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span> tries the first
clause, and since the keyword <span class="RktSym"><a href="../reference/define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span> matches, the
cut-pattern commits to the current pattern, eliminating the choice
points for the second and third clauses. So when the clause fails to
match, the <span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span> expression raises an error.</p><p>The effect of a <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span> pattern is delimited by the nearest
enclosing <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span> or <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern. If there
is no enclosing <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edescribe))" class="RktStxLink" pltdoc="x">~describe</a></span> pattern but the cut occurs within a
syntax class definition, then only choice points within the syntax
class definition are discarded. A <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7e!))" class="RktStxLink" pltdoc="x">~!</a></span>  pattern is not allowed
within a <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7enot))" class="RktStxLink" pltdoc="x">~not</a></span> pattern unless there is an intervening
<span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7edelimit-cut))" class="RktStxLink" pltdoc="x">~delimit-cut</a></span> or <span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ecommit))" class="RktStxLink" pltdoc="x">~commit</a></span> pattern.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7ebind))"></a><a name="(form._((lib._syntax/parse..rkt)._~7ebind))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7ebind))" class="RktStxLink" pltdoc="x">~bind</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">attr-id</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table><p>Evaluates the <span class="RktVar">expr</span>s and binds them to the given
<span class="RktVar">attr-id</span>s as attributes.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7efail))"></a><a name="(form._((lib._syntax/parse..rkt)._~7efail))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7efail))" class="RktStxLink" pltdoc="x">~fail</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-fail-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-message-expr</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-fail-condition</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">condition-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:unless</span><span class="hspace">&nbsp;</span><span class="RktVar">condition-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-message-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">message-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">message-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></td></tr></table><p>If the condition is absent, or if the <span class="RktPn">#:when</span> condition
evaluates to a true value, or if the <span class="RktPn">#:unless</span> condition
evaluates to <span class="RktVal">#f</span>, then the pattern fails with the given
message. If the message is omitted, the default value <span class="RktVal">#f</span> is
used, representing &ldquo;no message.&rdquo;</p><p>Fail patterns can be used together with cut patterns to recognize
specific ill-formed terms and address them with custom failure
messages.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._syntax/parse..rkt)._~7eparse))"></a><a name="(form._((lib._syntax/parse..rkt)._~7eparse))"></a><span title="Provided from: syntax/parse"><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eparse))" class="RktStxLink" pltdoc="x">~parse</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">S-pattern</span><span class="hspace">&nbsp;</span><span class="RktVar">stx-expr</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">stx-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span></td></tr></table></td></tr></table><p>Evaluates <span class="RktVar">stx-expr</span> to a syntax object and matches it against
<span class="RktVar">S-pattern</span>.</p></blockquote><blockquote class="leftindent"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(elem._(pattern-link._(~7eand._a)))"></a><span class="RktSym"><a href="#(form._((lib._syntax/parse..rkt)._~7eand))" class="RktStxLink" pltdoc="x">~and</a></span><span class="hspace">&nbsp;</span><span class="RktVar">A-pattern</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table><p>Performs the actions of each <span class="RktVar">A-pattern</span>.</p></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="stxparse-specifying.html" title="backward to &quot;8.4 Specifying syntax with syntax classes&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="stxparse.html" title="up to &quot;8 Parsing and specifying syntax&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Literal_sets_and_Conventions.html" title="forward to &quot;8.6 Literal sets and Conventions&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>