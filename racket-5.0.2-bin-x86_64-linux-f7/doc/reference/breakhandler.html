<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>9.6&nbsp;Breaks</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewselflink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">9.1&nbsp;</td><td><a href="values.html" class="tocviewlink" pltdoc="x">Multiple Values</a></td></tr><tr><td align="right">9.2&nbsp;</td><td><a href="exns.html" class="tocviewlink" pltdoc="x">Exceptions</a></td></tr><tr><td align="right">9.3&nbsp;</td><td><a href="Delayed_Evaluation.html" class="tocviewlink" pltdoc="x">Delayed Evaluation</a></td></tr><tr><td align="right">9.4&nbsp;</td><td><a href="cont.html" class="tocviewlink" pltdoc="x">Continuations</a></td></tr><tr><td align="right">9.5&nbsp;</td><td><a href="contmarks.html" class="tocviewlink" pltdoc="x">Continuation Marks</a></td></tr><tr><td align="right">9.6&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Breaks</a></td></tr><tr><td align="right">9.7&nbsp;</td><td><a href="Exiting.html" class="tocviewlink" pltdoc="x">Exiting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">break-<wbr></wbr>enabled</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">parameterize-<wbr></wbr>break</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/more-scheme..rkt)._current-break-parameterization))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>break-<wbr></wbr>parameterization</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/more-scheme..rkt)._call-with-break-parameterization))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>break-<wbr></wbr>parameterization</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="contmarks.html" title="backward to &quot;9.5 Continuation Marks&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="control.html" title="up to &quot;9 Control Flow&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Exiting.html" title="forward to &quot;9.7 Exiting&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>9.6<tt>&nbsp;</tt><a name="(part._breakhandler)"></a><a name="(idx._(gentag._81._(lib._scribblings/reference/reference..scrbl)))"></a>Breaks</h4><p>A <a name="(tech._break)"></a><span style="font-style: italic">break</span> is an asynchronous exception, usually triggered
through an external source controlled by the user, or through the
<span class="RktSym"><a href="threads.html#(def._((quote._~23~25kernel)._break-thread))" class="RktValLink" pltdoc="x">break-thread</a></span> procedure. A break exception can only occur in a
thread while breaks are enabled. When a break is detected and enabled,
the <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3abreak))" class="RktValLink" pltdoc="x">exn:break</a></span> exception is raised in the thread sometime afterward; if breaking
is disabled when <span class="RktSym"><a href="threads.html#(def._((quote._~23~25kernel)._break-thread))" class="RktValLink" pltdoc="x">break-thread</a></span> is called, the break is
suspended until breaking is again enabled for the thread. While a
thread has a suspended break, additional breaks are ignored.</p><p>Breaks are enabled through the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="RktValLink" pltdoc="x">break-enabled</a></span> parameter-like
procedure, and through the <span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))" class="RktStxLink" pltdoc="x">parameterize-break</a></span> form, which is
analogous to <span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>. The <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="RktValLink" pltdoc="x">break-enabled</a></span>
procedure does not represent a parameter to be used with
<span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>, because changing the break-enabled state of a
thread requires an explicit check for breaks, and this check is
incompatible with the tail evaluation of a <span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>
expression&rsquo;s body.</p><p>Certain procedures, such as <span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait/enable-break))" class="RktValLink" pltdoc="x">semaphore-wait/enable-break</a></span>,
enable breaks temporarily while performing a blocking action. If
breaks are enabled for a thread, and if a break is triggered for the
thread but not yet delivered as an <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3abreak))" class="RktValLink" pltdoc="x">exn:break</a></span> exception, then
the break is guaranteed to be delivered before breaks can be disabled
in the thread. The timing of <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3abreak))" class="RktValLink" pltdoc="x">exn:break</a></span> exceptions is not
guaranteed in any other way.</p><p>Before calling a <span class="RktSym"><a href="exns.html#(form._((lib._racket/private/more-scheme..rkt)._with-handlers))" class="RktStxLink" pltdoc="x">with-handlers</a></span> predicate or handler, an
exception handler, an error display handler, an error escape handler,
an error value conversion handler, or a <span class="RktSym">pre-thunk</span> or
<span class="RktSym">post-thunk</span> for a <span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._dynamic-wind))" class="RktValLink" pltdoc="x">dynamic-wind</a></span>, the call is
<span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))" class="RktStxLink" pltdoc="x">parameterize-break</a></span>ed to disable breaks. Furthermore, breaks
are disabled during the transitions among handlers related to
exceptions, during the transitions between <span class="RktSym">pre-thunk</span>s and
<span class="RktSym">post-thunk</span>s for <span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._dynamic-wind))" class="RktValLink" pltdoc="x">dynamic-wind</a></span>, and during other
transitions for a continuation jump. For example, if breaks are
disabled when a continuation is invoked, and if breaks are also
disabled in the target continuation, then breaks will remain disabled
until from the time of the invocation until the target continuation
executes unless a relevant <span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._dynamic-wind))" class="RktValLink" pltdoc="x">dynamic-wind</a></span> <span class="RktSym">pre-thunk</span> or
<span class="RktSym">post-thunk</span> explicitly enables breaks.</p><p>If a break is triggered for a thread that is blocked on a nested
thread (see <span class="RktSym"><a href="threads.html#(def._((quote._~23~25kernel)._call-in-nested-thread))" class="RktValLink" pltdoc="x">call-in-nested-thread</a></span>), and if breaks are enabled
in the blocked thread, the break is implicitly handled by transferring
it to the nested thread.</p><p>When breaks are enabled, they can occur at any point within execution,
which makes certain implementation tasks subtle. For example, assuming
breaks are enabled when the following code is executed,</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(form._((lib._racket/private/more-scheme..rkt)._with-handlers))" class="RktStxLink" pltdoc="x">with-handlers</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._exn~3abreak~3f))" class="RktValLink" pltdoc="x">exn:break?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait))" class="RktValLink" pltdoc="x">semaphore-wait</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>then it is <span style="font-style: italic">not</span> the case that a <span class="RktRes">#&lt;void&gt;</span> result means the
semaphore was decremented or a break was received, exclusively. It is
possible that <span style="font-style: italic">both</span> occur: the break may occur after the
semaphore is successfully decremented but before a <span class="RktRes">#&lt;void&gt;</span>
result is returned by <span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait))" class="RktValLink" pltdoc="x">semaphore-wait</a></span>. A break exception will
never damage a semaphore, or any other built-in construct, but many
built-in procedures (including <span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait))" class="RktValLink" pltdoc="x">semaphore-wait</a></span>) contain
internal sub-expressions that can be interrupted by a break.</p><p>In general, it is impossible using only <span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait))" class="RktValLink" pltdoc="x">semaphore-wait</a></span> to
implement the guarantee that either the semaphore is decremented or an
exception is raised, but not both.  Racket therefore supplies
<span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait/enable-break))" class="RktValLink" pltdoc="x">semaphore-wait/enable-break</a></span> (see <a href="semaphore.html" pltdoc="x">Semaphores</a>),
which does permit the implementation of such an exclusive guarantee:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))" class="RktStxLink" pltdoc="x">parameterize-break</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(form._((lib._racket/private/more-scheme..rkt)._with-handlers))" class="RktStxLink" pltdoc="x">with-handlers</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._exn~3abreak~3f))" class="RktValLink" pltdoc="x">exn:break?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait/enable-break))" class="RktValLink" pltdoc="x">semaphore-wait/enable-break</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>In the above expression, a break can occur at any point until breaks
are disabled, in which case a break exception is propagated to the
enclosing exception handler. Otherwise, the break can only occur
within <span class="RktSym"><a href="semaphore.html#(def._((quote._~23~25kernel)._semaphore-wait/enable-break))" class="RktValLink" pltdoc="x">semaphore-wait/enable-break</a></span>, which guarantees that if
a break exception is raised, the semaphore will not have been
decremented.</p><p>To allow similar implementation patterns over blocking port
operations, Racket provides <span class="RktSym"><a href="Byte_and_String_Input.html#(def._((quote._~23~25kernel)._read-bytes-avail!/enable-break))" class="RktValLink" pltdoc="x">read-bytes-avail!/enable-break</a></span>,
<span class="RktSym"><a href="Byte_and_String_Output.html#(def._((quote._~23~25kernel)._write-bytes-avail/enable-break))" class="RktValLink" pltdoc="x">write-bytes-avail/enable-break</a></span>, and other procedures.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._break-enabled))"></a><a name="(def._((quote._~23~25kernel)._break-enabled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="RktValLink" pltdoc="x">break-enabled</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="RktValLink" pltdoc="x">break-enabled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Gets or sets the break enabled state of the current thread. If
<span class="RktVar">on?</span> is not supplied, the result is <span class="RktVal">#t</span> if breaks are
currently enabled, <span class="RktVal">#f</span> otherwise.  If <span class="RktVar">on?</span> is supplied
as <span class="RktVal">#f</span>, breaks are disabled, and if <span class="RktVar">on?</span> is a true
value, breaks are enabled.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/more-scheme..rkt)._parameterize-break))"></a><a name="(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._parameterize-break))" class="RktStxLink" pltdoc="x">parameterize-break</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">boolean-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Evaluates
<span class="RktVar">boolean-expr</span> to determine whether breaks are initially
enabled in while evaluating the <span class="RktVar">body</span>s in sequence. The result
of the <span class="RktSym">parameter-break</span> expression is the result of the last
<span class="RktSym">expr</span>.</div></p><p>Like <span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span> (see <a href="parameters.html" pltdoc="x">Parameters</a>), a fresh
<a href="eval-model.html#(tech._thread._cell)" class="techoutside" pltdoc="x"><span class="techinside">thread cell</span></a> (see <a href="threadcells.html" pltdoc="x">Thread Cells</a>) is allocated to
hold the break-enabled state of the continuation, and calls to
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._break-enabled))" class="RktValLink" pltdoc="x">break-enabled</a></span> within the continuation access or modify the
new cell. Unlike parameters, the break setting is not inherited by new
threads.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/more-scheme..rkt)._current-break-parameterization))"></a><a name="(def._((lib._racket/private/more-scheme..rkt)._current-break-parameterization))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/more-scheme..rkt)._current-break-parameterization))" class="RktValLink" pltdoc="x">current-break-parameterization</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">break-parameterization?</span></td></tr></table></div><div class="SIntrapara">Analogous to <span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#(def._((lib._racket/private/more-scheme..rkt)._current-parameterization))" class="RktValLink" pltdoc="x">current-parameterization</a></span><span class="RktPn">)</span> (see
<a href="parameters.html" pltdoc="x">Parameters</a>); it returns a break-parameterization
(effectively a thread cell) that holds the current continuation&rsquo;s
break-enable state.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/more-scheme..rkt)._call-with-break-parameterization))"></a><a name="(def._((lib._racket/private/more-scheme..rkt)._call-with-break-parameterization))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/more-scheme..rkt)._call-with-break-parameterization))" class="RktValLink" pltdoc="x">call-with-break-parameterization</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">break-param</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">thunk</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">break-param</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">break-parameterization?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Analogous to <span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#(def._((lib._racket/private/more-scheme..rkt)._call-with-parameterization))" class="RktValLink" pltdoc="x">call-with-parameterization</a></span><span class="stt"> </span><span class="RktSym">parameterization</span><span class="stt"> </span><span class="RktVar">thunk</span><span class="RktPn">)</span> (see <a href="parameters.html" pltdoc="x">Parameters</a>), calls <span class="RktVar">thunk</span> in a
continuation whose break-enabled state is in <span class="RktVar">break-param</span>. The
<span class="RktVar">thunk</span> is <span style="font-style: italic">not</span> called in tail position with respect to
the <span class="RktSym"><a href="#(def._((lib._racket/private/more-scheme..rkt)._call-with-break-parameterization))" class="RktValLink" pltdoc="x">call-with-break-parameterization</a></span> call.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="contmarks.html" title="backward to &quot;9.5 Continuation Marks&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="control.html" title="up to &quot;9 Control Flow&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Exiting.html" title="forward to &quot;9.7 Exiting&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>