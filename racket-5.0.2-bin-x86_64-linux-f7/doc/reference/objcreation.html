<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>5.3&nbsp;Creating Objects</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewselflink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="createinterface.html" class="tocviewlink" pltdoc="x">Creating Interfaces</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="createclass.html" class="tocviewlink" pltdoc="x">Creating Classes</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Creating Objects</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ivaraccess.html" class="tocviewlink" pltdoc="x">Field and Method Access</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="mixins.html" class="tocviewlink" pltdoc="x">Mixins</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="trait.html" class="tocviewlink" pltdoc="x">Traits</a></td></tr><tr><td align="right">5.7&nbsp;</td><td><a href="Object_and_Class_Contracts.html" class="tocviewlink" pltdoc="x">Object and Class Contracts</a></td></tr><tr><td align="right">5.8&nbsp;</td><td><a href="objectequality.html" class="tocviewlink" pltdoc="x">Object Equality and Hashing</a></td></tr><tr><td align="right">5.9&nbsp;</td><td><a href="objectserialize.html" class="tocviewlink" pltdoc="x">Object Serialization</a></td></tr><tr><td align="right">5.10&nbsp;</td><td><a href="objectprinting.html" class="tocviewlink" pltdoc="x">Object Printing</a></td></tr><tr><td align="right">5.11&nbsp;</td><td><a href="objectutils.html" class="tocviewlink" pltdoc="x">Object, Class, and Interface Utilities</a></td></tr><tr><td align="right">5.12&nbsp;</td><td><a href="Surrogates.html" class="tocviewlink" pltdoc="x">Surrogates</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._racket/private/class-internal..rkt)._make-object))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>object</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._new))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">new</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._instantiate))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">instantiate</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._super-make-object))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">super-<wbr></wbr>make-<wbr></wbr>object</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._super-instantiate))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">super-<wbr></wbr>instantiate</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._super-new))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">super-<wbr></wbr>new</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="createclass.html" title="backward to &quot;5.2 Creating Classes&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="up to &quot;5 Classes and Objects&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="ivaraccess.html" title="forward to &quot;5.4 Field and Method Access&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>5.3<tt>&nbsp;</tt><a name="(part._objcreation)"></a>Creating Objects</h4><p>The <span class="RktSym"><a href="#(def._((lib._racket/private/class-internal..rkt)._make-object))" class="RktValLink" pltdoc="x">make-object</a></span> procedure creates a new object with
by-position initialization arguments, the <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._new))" class="RktStxLink" pltdoc="x">new</a></span> form
creates a new object with by-name initialization arguments, and
the <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._instantiate))" class="RktStxLink" pltdoc="x">instantiate</a></span> form creates a new object with both
by-position and by-name initialization arguments.</p><p>All fields in the newly created object are initially bound to the
special <span class="RktRes">#&lt;undefined&gt;</span> value (see
<a href="void.html" pltdoc="x">Void and Undefined</a>). Initialization variables with default value
expressions (and no provided value) are also initialized to
<span class="RktRes">#&lt;undefined&gt;</span>. After argument values are assigned to
initialization variables, expressions in <span class="RktSym"><a href="createclass.html#(form._((lib._racket/private/class-internal..rkt)._field))" class="RktStxLink" pltdoc="x">field</a></span> clauses,
<span class="RktSym"><a href="createclass.html#(form._((lib._racket/private/class-internal..rkt)._init-field))" class="RktStxLink" pltdoc="x">init-field</a></span> clauses with no provided argument,
<span class="RktSym"><a href="createclass.html#(form._((lib._racket/private/class-internal..rkt)._init))" class="RktStxLink" pltdoc="x">init</a></span> clauses with no provided argument, private field
definitions, and other expressions are evaluated. Those
expressions are evaluated as they appear in the class expression,
from left to right.</p><p>Sometime during the evaluation of the expressions,
superclass-declared initializations must be executed once by
using the <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-make-object))" class="RktStxLink" pltdoc="x">super-make-object</a></span> procedure,
<span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-new))" class="RktStxLink" pltdoc="x">super-new</a></span> form, or <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-instantiate))" class="RktStxLink" pltdoc="x">super-instantiate</a></span> form.</p><p>By-name initialization arguments to a class that have no matching
initialization variable are implicitly added as by-name arguments
to a <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-make-object))" class="RktStxLink" pltdoc="x">super-make-object</a></span>, <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-new))" class="RktStxLink" pltdoc="x">super-new</a></span>, or
<span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-instantiate))" class="RktStxLink" pltdoc="x">super-instantiate</a></span> invocation, after the explicit
arguments.  If multiple initialization arguments are provided for
the same name, the first (if any) is used, and the unused
arguments are propagated to the superclass. (Note that converted
by-position arguments are always placed before explicit by-name
arguments.)  The initialization procedure for the
<span class="RktSym"><a href="createclass.html#(def._((lib._racket/private/class-internal..rkt)._object~25))" class="RktValLink" pltdoc="x">object%</a></span> class accepts zero initialization arguments; if
it receives any by-name initialization arguments, then
<span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised.</p><p>If the end of initialization is reached for any class in the
hierarchy without invoking the superclass&rsquo;s initialization, the
<span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised. Also, if superclass initialization is
invoked more than once, the <span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised.</p><p>Fields inherited from a superclass are not initialized until the
superclass&rsquo;s initialization procedure is invoked. In contrast,
all methods are available for an object as soon as the object is
created; the overriding of methods is not affect by
initialization (unlike objects in C++).</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._make-object))"></a><a name="(def._((lib._racket/private/class-internal..rkt)._make-object))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/class-internal..rkt)._make-object))" class="RktValLink" pltdoc="x">make-object</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">class</span><span class="hspace">&nbsp;</span><span class="RktVar">init-v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._object~3f))" class="RktValLink" pltdoc="x">object?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">class</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._class~3f))" class="RktValLink" pltdoc="x">class?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Creates an instance of <span class="RktVar">class</span>. The <span class="RktVar">init-v</span>s are
passed as initialization arguments, bound to the initialization
variables of <span class="RktVar">class</span> for the newly created object as
described in <a href="createclass.html#(part._clinitvars)" pltdoc="x">Initialization Variables</a>. If <span class="RktVar">class</span> is not a
class, the <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail~3acontract))" class="RktValLink" pltdoc="x">exn:fail:contract</a></span> exception is raised.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._new))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._new))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._new))" class="RktStxLink" pltdoc="x">new</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">class-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">by-name-expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Creates an instance of the value of <span class="RktVar">class-expr</span> (which
must be a class), and the value of each <span class="RktVar">by-name-expr</span> is
provided as a by-name argument for the corresponding
<span class="RktVar">id</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._instantiate))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._instantiate))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._instantiate))" class="RktStxLink" pltdoc="x">instantiate</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">class-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">by-pos-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">by-name-expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Creates an instance of the value of <span class="RktVar">class-expr</span> (which
must be a class), and the values of the <span class="RktVar">by-pos-expr</span>s are
provided as by-position initialization arguments. In addition,
the value of each <span class="RktVar">by-name-expr</span> is provided as a by-name
argument for the corresponding <span class="RktVar">id</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._racket/private/class-internal..rkt)._super-make-object))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._super-make-object))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-make-object))" class="RktStxLink" pltdoc="x">super-make-object</a></span></span></td></tr></table></div><div class="SIntrapara">Produces a procedure that takes by-position arguments an invokes
superclass initialization. See <a href="" pltdoc="x">Creating Objects</a> for more
information.</div></p><p><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._super-instantiate))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._super-instantiate))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-instantiate))" class="RktStxLink" pltdoc="x">super-instantiate</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">by-pos-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">by-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></p><p>Invokes superclass initialization with the specified by-position and
by-name arguments. See <a href="" pltdoc="x">Creating Objects</a> for more
information.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._super-new))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._super-new))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._super-new))" class="RktStxLink" pltdoc="x">super-new</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">by-name-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Invokes superclass initialization with the specified by-name
arguments. See <a href="" pltdoc="x">Creating Objects</a> for more information.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="createclass.html" title="backward to &quot;5.2 Creating Classes&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="up to &quot;5 Classes and Objects&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="ivaraccess.html" title="forward to &quot;5.4 Field and Method Access&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>