<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>7.5&nbsp;Building New Contract Combinators</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewselflink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.1&nbsp;</td><td><a href="Data-structure_Contracts.html" class="tocviewlink" pltdoc="x">Data-<wbr></wbr>structure Contracts</a></td></tr><tr><td align="right">7.2&nbsp;</td><td><a href="Function_Contracts.html" class="tocviewlink" pltdoc="x">Function Contracts</a></td></tr><tr><td align="right">7.3&nbsp;</td><td><a href="Lazy_Data-structure_Contracts.html" class="tocviewlink" pltdoc="x">Lazy Data-<wbr></wbr>structure Contracts</a></td></tr><tr><td align="right">7.4&nbsp;</td><td><a href="Attaching_Contracts_to_Values.html" class="tocviewlink" pltdoc="x">Attaching Contracts to Values</a></td></tr><tr><td align="right">7.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Building New Contract Combinators</a></td></tr><tr><td align="right">7.6&nbsp;</td><td><a href="Contract_Utilities.html" class="tocviewlink" pltdoc="x">Contract Utilities</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>7.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Building New Contract Combinators</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.5.1&nbsp;</td><td><a href="#(part._.Blame_.Objects)" class="tocviewlink" pltdoc="x">Blame Objects</a></td></tr><tr><td align="right">7.5.2&nbsp;</td><td><a href="#(part._.Contracts_as_structs)" class="tocviewlink" pltdoc="x">Contracts as structs</a></td></tr><tr><td align="right">7.5.3&nbsp;</td><td><a href="#(part._.Obligation_.Information_in_.Check_.Syntax)" class="tocviewlink" pltdoc="x">Obligation Information in Check Syntax</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-chaperone-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>chaperone-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-flat-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>flat-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-compound-type-name))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">build-<wbr></wbr>compound-<wbr></wbr>type-<wbr></wbr>name</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contracts))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>contracts</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>chaperone-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contracts))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>chaperone-<wbr></wbr>contracts</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>flat-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contracts))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>flat-<wbr></wbr>contracts</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract/f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">coerce-<wbr></wbr>contract/<span class="mywbr"> </span>f</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">7.5.1<tt>&nbsp;</tt></span><a href="#(part._.Blame_.Objects)" class="tocsubseclink" pltdoc="x">Blame Objects</a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-positive))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>positive</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-negative))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>negative</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-value))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>value</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-source))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>source</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>swap</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-original~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>original?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swapped~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">blame-<wbr></wbr>swapped?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">raise-<wbr></wbr>blame-<wbr></wbr>error</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>fail:<span class="mywbr"> </span>contract:<span class="mywbr"> </span>blame?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame-object))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>fail:<span class="mywbr"> </span>contract:<span class="mywbr"> </span>blame-<wbr></wbr>object</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">7.5.2<tt>&nbsp;</tt></span><a href="#(part._.Contracts_as_structs)" class="tocsubseclink" pltdoc="x">Contracts as structs</a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> </span>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> </span>chaperone-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> </span>flat-<wbr></wbr>contract</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">build-<wbr></wbr>flat-<wbr></wbr>contract-<wbr></wbr>property</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">build-<wbr></wbr>chaperone-<wbr></wbr>contract-<wbr></wbr>property</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">build-<wbr></wbr>contract-<wbr></wbr>property</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._contract-property~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">contract-<wbr></wbr>property?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract-property~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">chaperone-<wbr></wbr>contract-<wbr></wbr>property?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/private/guts..rkt)._flat-contract-property~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/contract, racket"><span class="RktSym"><span class="RktValLink">flat-<wbr></wbr>contract-<wbr></wbr>property?</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">7.5.3<tt>&nbsp;</tt></span><a href="#(part._.Obligation_.Information_in_.Check_.Syntax)" class="tocsubseclink" pltdoc="x">Obligation Information in Check Syntax</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Attaching_Contracts_to_Values.html" title="backward to &quot;7.4 Attaching Contracts to Values&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="contracts.html" title="up to &quot;7 Contracts&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Contract_Utilities.html" title="forward to &quot;7.6 Contract Utilities&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>7.5<tt>&nbsp;</tt><a name="(part._.Building_.New_.Contract_.Combinators)"></a>Building New Contract Combinators</h4><p><span style="font-style: italic"><span style="font-weight: bold">Note:</span>
The interface in this section is unstable and subject to change.</span></p><p>Contracts are represented internally as functions that
accept information about the contract (who is to blame,
source locations, etc) and produce projections (in the
spirit of Dana Scott) that enforce the contract. A
projection is a function that accepts an arbitrary value,
and returns a value that satisfies the corresponding
contract. For example, a projection that accepts only
integers corresponds to the contract <span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._flat-contract))" class="RktValLink" pltdoc="x">flat-contract</a></span><span class="stt"> </span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._integer~3f))" class="RktValLink" pltdoc="x">integer?</a></span><span class="RktPn">)</span>, and can be written like this:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int-proj</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._integer~3f))" class="RktValLink" pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">signal-contract-violation</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>As a second example, a projection that accepts unary functions
on integers looks like this:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int-&gt;int-proj</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-proj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">signal-contract-violation</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>Although these projections have the right error behavior,
they are not quite ready for use as contracts, because they
do not accomodate blame, and do not provide good error
messages. In order to accomodate these, contracts do not
just use simple projections, but use functions that accept a
<a name="(tech._blame._object)"></a><span style="font-style: italic">blame object</span> encapsulating
the names of two parties that are the candidates for blame,
as well as a record of the source location where the
contract was established and the name of the contract. They
can then, in turn, pass that information
to <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span> to signal a good error
message.</p><p><div class="SIntrapara">Here is the first of those two projections, rewritten for
use in the contract system:
</div><div class="SIntrapara"><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._integer~3f))" class="RktValLink" pltdoc="x">integer?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">blame</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"expected &lt;integer&gt;, given: ~e"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The new argument specifies who is to be blamed for
positive and negative contract violations.</div></p><p>Contracts, in this system, are always
established between two parties. One party provides some
value according to the contract, and the other consumes the
value, also according to the contract. The first is called
the &ldquo;positive&rdquo; person and the second the &ldquo;negative&rdquo;. So,
in the case of just the integer contract, the only thing
that can go wrong is that the value provided is not an
integer. Thus, only the positive party can ever accrue
blame.  The <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span> function always blames
the positive party.</p><p>Compare that to the projection for our function contract:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-&gt;int-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">dom</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-proj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="RktValLink" pltdoc="x">blame-swap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">rng</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">int-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rng</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">dom</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">blame</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"expected a procedure of one argument, given: ~e"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>In this case, the only explicit blame covers the situation
where either a non-procedure is supplied to the contract, or
where the procedure does not accept one argument. As with
the integer projection, the blame here also lies with the
producer of the value, which is
why <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span> is passed <span class="RktSym">blame</span> unchanged.</p><p>The checking for the domain and range are delegated to
the <span class="RktSym">int-proj</span> function, which is supplied its
arguments in the first two line of
the <span class="RktSym">int-&gt;int-proj</span> function. The trick here is that,
even though the <span class="RktSym">int-&gt;int-proj</span> function always
blames what it sees as positive we can swap the blame parties by
calling <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="RktValLink" pltdoc="x">blame-swap</a></span> on the given <a href="#(tech._blame._object)" class="techoutside" pltdoc="x"><span class="techinside">blame object</span></a>, replacing
the positive party with the negative party and vice versa.</p><p>This is not just a cheap trick to get this example to work,
however. The reversal of the positive and the negative is a
natural consequence of the way functions behave. That is,
imagine the flow of values in a program between two
modules. First, one module defines a function, and then that
module is required by another. So, far the function itself
has to go from the original, providing module to the
requiring module. Now, imagine that the providing module
invokes the function, suppying it an argument. At this
point, the flow of values reverses. The argument is
travelling back from the requiring module to the providing
module! And finally, when the function produces a result,
that result flows back in the original
direction. Accordingly, the contract on the domain reverses
the positive and the negative blame parties, just like the flow
of values reverses.</p><p>We can use this insight to generalize the function contracts
and build a function that accepts any two contracts and
returns a contract for functions between them.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-simple-function-contract</span><span class="hspace">&nbsp;</span><span class="RktSym">dom-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">range-proj</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">blame</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">dom</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">dom-proj</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="RktValLink" pltdoc="x">blame-swap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">rng</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">range-proj</span><span class="hspace">&nbsp;</span><span class="RktSym">blame</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">rng</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">dom</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">blame</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"expected a procedure of one argument, given: ~e"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">val</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>Projections like the ones described above, but suited to
other, new kinds of value you might make, can be used with
the contract library primitives below.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._make-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._make-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-contract))" class="RktValLink" pltdoc="x">make-contract</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">test</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">proj</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-contract</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">proj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._make-chaperone-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._make-chaperone-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-chaperone-contract))" class="RktValLink" pltdoc="x">make-chaperone-contract</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">test</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">proj</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract~3f))" class="RktValLink" pltdoc="x">chaperone-contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-chaperone-contract</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">proj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._make-flat-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._make-flat-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-flat-contract))" class="RktValLink" pltdoc="x">make-flat-contract</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">test</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">proj</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._flat-contract~3f))" class="RktValLink" pltdoc="x">flat-contract?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-flat-contract</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">proj</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr></table></td></tr></table></div><div class="SIntrapara">These functions build simple higher-order contracts, chaperone contracts, and flat contracts,
respectively.  They both take the same set of three optional arguments: a name,
a first order predicate, and a blame-tracking projection.</div></p><p>The <span class="RktVar">name</span> argument is any value to be rendered using <span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._display))" class="RktValLink" pltdoc="x">display</a></span> to
describe the contract when a violation occurs.  The default name for simple
higher order contracts is <span class="RktRes">anonymous-contract</span>, for chaperone
contracts is <span class="RktRes">anonymous-chaperone-contract</span>, and for flat
contracts is <span class="RktRes">anonymous-flat-contract</span>.</p><p>The first order predicate <span class="RktVar">test</span> can be used to determine which values
the contract applies to; usually this is the set of values for which the
contract fails immediately without any higher-order wrapping.  This test is used
by <span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract-first-order-passes~3f))" class="RktValLink" pltdoc="x">contract-first-order-passes?</a></span>, and indirectly by <span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span> to
determine which of multiple higher order contracts to wrap a value with.  The
default test accepts any value.</p><p>The projection <span class="RktVar">proj</span> defines the behavior of applying the contract.  It
is a curried function of two arguments: the first application accepts a blame
object, and the second accepts a value to protect with the contract.  The
projection must either produce the value, suitably wrapped to enforce any
higher-order aspects of the contract, or signal a contract violation using
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span>.  The default projection produces an error when the
first order test fails, and produces the value unchanged otherwise.</p><p>Projections for chaperone contracts must produce a value that passes
<span class="RktSym"><a href="chaperones.html#(def._((quote._~23~25kernel)._chaperone-of~3f))" class="RktValLink" pltdoc="x">chaperone-of?</a></span> when compared with the original, uncontracted value.
Projections for flat contracts must fail precisely when the first order test
does, and must produce the input value unchanged otherwise.  Applying a flat
contract may result in either an application of the predicate, or the
projection, or both; therefore, the two must be consistent.  The existence of a
separate projection only serves to provide more specific error messages.  Most
flat contracts do not need to supply an explicit projection.</p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int/c</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-flat-contract))" class="RktValLink" pltdoc="x">make-flat-contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">int/c</span><span class="hspace">&nbsp;</span><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._integer~3f))" class="RktValLink" pltdoc="x">integer?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Attaching_Contracts_to_Values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" class="RktStxLink" pltdoc="x">contract</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int/c</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">positive</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">negative</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Attaching_Contracts_to_Values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" class="RktStxLink" pltdoc="x">contract</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int/c</span><span class="hspace">&nbsp;</span><span class="RktVal">"not one"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">positive</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">negative</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">positive broke the contract int/c on eval:4:0; expected</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;int/c&gt;, given: "not one"</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">int/c</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#t</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">int/c</span><span class="hspace">&nbsp;</span><span class="RktVal">"not one"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int-&gt;int/c</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-contract))" class="RktValLink" pltdoc="x">make-contract</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">int-&gt;int/c</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:first-order</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:projection</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">domain</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract-projection))" class="RktValLink" pltdoc="x">contract-projection</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int/c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="RktValLink" pltdoc="x">blame-swap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">range</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract-projection))" class="RktValLink" pltdoc="x">contract-projection</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int/c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">range</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">domain</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"expected a function of one argument, got: ~e"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Attaching_Contracts_to_Values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" class="RktStxLink" pltdoc="x">contract</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int-&gt;int/c</span><span class="hspace">&nbsp;</span><span class="RktVal">"not fun"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">positive</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">negative</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">positive broke the contract int-&gt;int/c on eval:8:0;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">expected a function of one argument, got: "not fun"</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">halve</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Attaching_Contracts_to_Values.html#(form._((lib._racket/contract/private/base..rkt)._contract))" class="RktStxLink" pltdoc="x">contract</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int-&gt;int/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._/))" class="RktValLink" pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">positive</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">negative</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">halve</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">halve</span><span class="hspace">&nbsp;</span><span class="RktVal">1/2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">negative broke the contract int-&gt;int/c on halve given to</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">top-level; expected &lt;int/c&gt;, given: 1/2</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">halve</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">positive broke the contract int-&gt;int/c on halve; expected</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">&lt;int/c&gt;, given: 1/2</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._build-compound-type-name))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._build-compound-type-name))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-compound-type-name))" class="RktValLink" pltdoc="x">build-compound-type-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">c/s</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c/s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Produces an S-expression to be used as a name
for a contract. The arguments should be either contracts or
symbols. It wraps parenthesis around its arguments and
extracts the names from any contracts it is supplied with.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="RktValLink" pltdoc="x">coerce-contract</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Converts a regular racket value into an instance of a contract struct,
converting it according to the description of <a href="contracts.html#(tech._contract)" class="techoutside" pltdoc="x"><span class="techinside">contracts</span></a>.</div></p><p>If <span class="RktVar">x</span> is not one of the coercable values,
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="RktValLink" pltdoc="x">coerce-contract</a></span> signals an error, using the first argument in
the error message.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-contracts))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-contracts))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contracts))" class="RktValLink" pltdoc="x">coerce-contracts</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">xs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">xs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Coerces all of the arguments in &rsquo;xs&rsquo; into contracts (via
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract/f))" class="RktValLink" pltdoc="x">coerce-contract/f</a></span>) and signals an error if any of them are not
contracts.  The error messages assume that the function named by
<span class="RktVar">id</span> got <span class="RktVar">xs</span> as its entire argument list.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contract))" class="RktValLink" pltdoc="x">coerce-chaperone-contract</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract~3f))" class="RktValLink" pltdoc="x">chaperone-contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="RktValLink" pltdoc="x">coerce-contract</a></span>, but requires the result
to be a chaperone contract, not an arbitrary contract.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contracts))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contracts))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-chaperone-contracts))" class="RktValLink" pltdoc="x">coerce-chaperone-contracts</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract~3f))" class="RktValLink" pltdoc="x">chaperone-contract?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contracts))" class="RktValLink" pltdoc="x">coerce-contracts</a></span>, but requires the results
to be chaperone contracts, not arbitrary contracts.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-flat-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contract))" class="RktValLink" pltdoc="x">coerce-flat-contract</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._flat-contract~3f))" class="RktValLink" pltdoc="x">flat-contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="RktValLink" pltdoc="x">coerce-contract</a></span>, but requires the result
to be a flat contract, not an arbitrary contract.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-flat-contracts))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contracts))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-flat-contracts))" class="RktValLink" pltdoc="x">coerce-flat-contracts</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._flat-contract~3f))" class="RktValLink" pltdoc="x">flat-contract?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contracts))" class="RktValLink" pltdoc="x">coerce-contracts</a></span>, but requires the results
to be flat contracts, not arbitrary contracts.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._coerce-contract/f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._coerce-contract/f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract/f))" class="RktValLink" pltdoc="x">coerce-contract/f</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._coerce-contract))" class="RktValLink" pltdoc="x">coerce-contract</a></span>, but returns <span class="RktVal">#f</span> if
the value cannot be coerced to a contract.</div></p><h5>7.5.1<tt>&nbsp;</tt><a name="(part._.Blame_.Objects)"></a>Blame Objects</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">This predicate recognizes <a href="#(tech._blame._object)" class="techoutside" pltdoc="x"><span class="techinside">blame objects</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-positive))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-positive))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-positive))" class="RktValLink" pltdoc="x">blame-positive</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-negative))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-negative))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-negative))" class="RktValLink" pltdoc="x">blame-negative</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">These functions produce printable descriptions of the current positive and
negative parties of a blame object.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-contract))" class="RktValLink" pltdoc="x">blame-contract</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></div><div class="SIntrapara">This function produces a description of the contract associated with a blame
object (the result of <span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract-name))" class="RktValLink" pltdoc="x">contract-name</a></span>).</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-value))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-value))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-value))" class="RktValLink" pltdoc="x">blame-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></div><div class="SIntrapara">This function produces the name of the value to which the contract was applied,
or <span class="RktVal">#f</span> if no name was provided.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-source))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-source))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-source))" class="RktValLink" pltdoc="x">blame-source</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._srcloc~3f))" class="RktValLink" pltdoc="x">srcloc?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></div><div class="SIntrapara">This function produces the source location associated with a contract.  If no
source location was provided, all fields of the structure will contain
<span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-swap))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-swap))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swap))" class="RktValLink" pltdoc="x">blame-swap</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></div><div class="SIntrapara">This function swaps the positive and negative parties of a <a href="#(tech._blame._object)" class="techoutside" pltdoc="x"><span class="techinside">blame object</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-original~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-original~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-original~3f))" class="RktValLink" pltdoc="x">blame-original?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._blame-swapped~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._blame-swapped~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame-swapped~3f))" class="RktValLink" pltdoc="x">blame-swapped?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">These functions report whether the current blame of a given blame object is the
same as in the original contract invocation (possibly of a compound contract
containing the current one), or swapped, respectively.  Each is the negation of
the other; both are provided for convenience and clarity.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._raise-blame-error))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">fmt</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._none/c))" class="RktValLink" pltdoc="x">none/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fmt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Signals a contract violation.  The first argument, <span class="RktVar">b</span>, records the
current blame information, including positive and negative parties, the name of
the contract, the name of the value, and the source location of the contract
application.  The second argument, <span class="RktVar">x</span>, is the value that failed to
satisfy the contract.  The remaining arguments are a format string,
<span class="RktVar">fmt</span>, and its arguments, <span class="RktVar">v</span><span class="stt"> </span><span class="RktSym"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span>, specifying an error message
specific to the precise violation.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame~3f))" class="RktValLink" pltdoc="x">exn:fail:contract:blame?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">This predicate recognizes exceptions raised by <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame-object))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame-object))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame-object))" class="RktValLink" pltdoc="x">exn:fail:contract:blame-object</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._exn~3afail~3acontract~3ablame~3f))" class="RktValLink" pltdoc="x">exn:fail:contract:blame?</a></span></td></tr></table></div><div class="SIntrapara">This accessor extracts the blame object associated with a contract violation.</div></p><h5>7.5.2<tt>&nbsp;</tt><a name="(part._.Contracts_as_structs)"></a>Contracts as structs</h5><p><span style="font-style: italic"><span style="font-weight: bold">Note:</span>
The interface in this section is unstable and subject to change.</span></p><p>The property <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="RktValLink" pltdoc="x">prop:contract</a></span> allows arbitrary structures to act as
contracts.  The property <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span> allows arbitrary
structures to act as chaperone contracts; <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span>
inherits <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="RktValLink" pltdoc="x">prop:contract</a></span>, so chaperone contract structures may also act
as general contracts.  The property <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="RktValLink" pltdoc="x">prop:flat-contract</a></span> allows arbitrary structures
to act as flat contracts; <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="RktValLink" pltdoc="x">prop:flat-contract</a></span> inherits both
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span> and <span class="RktSym"><a href="procedures.html#(def._((lib._racket/private/base..rkt)._prop~3aprocedure))" class="RktValLink" pltdoc="x">prop:procedure</a></span>, so flat contract structures
may also act as chaperone contracts, as general contracts, and as predicate procedures.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><a name="(dep._((lib._racket/contract/private/guts..rkt)._prop~3acontract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="RktValLink" pltdoc="x">prop:contract</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structprops.html#(def._((quote._~23~25kernel)._struct-type-property~3f))" class="RktValLink" pltdoc="x">struct-type-property?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><a name="(dep._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structprops.html#(def._((quote._~23~25kernel)._struct-type-property~3f))" class="RktValLink" pltdoc="x">struct-type-property?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><a name="(dep._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="RktValLink" pltdoc="x">prop:flat-contract</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structprops.html#(def._((quote._~23~25kernel)._struct-type-property~3f))" class="RktValLink" pltdoc="x">struct-type-property?</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">These properties declare structures to be contracts or flat contracts,
respectively.  The value for <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="RktValLink" pltdoc="x">prop:contract</a></span> must be a <a href="#(tech._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">contract
property</span></a> constructed by <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="RktValLink" pltdoc="x">build-contract-property</a></span>; likewise, the value
for <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span> must be a <a href="#(tech._chaperone._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">chaperone contract property</span></a>
constructed by <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))" class="RktValLink" pltdoc="x">build-chaperone-contract-property</a></span> and the value
for <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="RktValLink" pltdoc="x">prop:flat-contract</a></span> must be a <a href="#(tech._flat._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">flat contract property</span></a>
constructed by <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))" class="RktValLink" pltdoc="x">build-flat-contract-property</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))" class="RktValLink" pltdoc="x">build-flat-contract-property</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">get-name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:stronger</span><span class="hspace">&nbsp;</span><span class="RktVar">stronger</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:generator</span><span class="hspace">&nbsp;</span><span class="RktVar">generator</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._flat-contract-property~3f))" class="RktValLink" pltdoc="x">flat-contract-property?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-name</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-flat-contract</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">get-first-order</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">get-name</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stronger</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">generator</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVal">#f</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td colspan="3"><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))" class="RktValLink" pltdoc="x">build-chaperone-contract-property</a></span></span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">get-name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:stronger</span><span class="hspace">&nbsp;</span><span class="RktVar">stronger</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:generator</span><span class="hspace">&nbsp;</span><span class="RktVar">generator</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract-property~3f))" class="RktValLink" pltdoc="x">chaperone-contract-property?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-name</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-chaperone-contract</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">get-first-order</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">get-name</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stronger</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">generator</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVal">#f</span></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._build-contract-property))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="RktValLink" pltdoc="x">build-contract-property</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:name</span><span class="hspace">&nbsp;</span><span class="RktVar">get-name</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:first-order</span><span class="hspace">&nbsp;</span><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:projection</span><span class="hspace">&nbsp;</span><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:stronger</span><span class="hspace">&nbsp;</span><span class="RktVar">stronger</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:generator</span><span class="hspace">&nbsp;</span><span class="RktVar">generator</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._contract-property~3f))" class="RktValLink" pltdoc="x">contract-property?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">get-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anonymous-contract</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-first-order</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">get-projection</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._blame~3f))" class="RktValLink" pltdoc="x">blame?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">get-first-order</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._raise-blame-error))" class="RktValLink" pltdoc="x">raise-blame-error</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">"expected &lt;~a&gt;, given: ~e"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">get-name</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stronger</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">generator</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVal">#f</span></td></tr></table></td></tr></table></td></tr></table></div><div class="SIntrapara">These functions build the arguments for <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3acontract))" class="RktValLink" pltdoc="x">prop:contract</a></span>,
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3achaperone-contract))" class="RktValLink" pltdoc="x">prop:chaperone-contract</a></span>, and <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._prop~3aflat-contract))" class="RktValLink" pltdoc="x">prop:flat-contract</a></span>, respectively.</div></p><p>A <a name="(tech._contract._property)"></a><span style="font-style: italic">contract property</span> specifies the behavior of a structure when used as
a contract.  It is specified in terms of five accessors: <span class="RktVar">get-name</span>,
which produces a description to <span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._write))" class="RktValLink" pltdoc="x">write</a></span> as part of a contract violation;
<span class="RktVar">get-first-order</span>, which produces a first order predicate to be used by
<span class="RktSym"><a href="Contract_Utilities.html#(def._((lib._racket/contract/private/guts..rkt)._contract-first-order-passes~3f))" class="RktValLink" pltdoc="x">contract-first-order-passes?</a></span>; <span class="RktVar">get-projection</span>, which
produces a blame-tracking projection defining the behavior of the contract;
<span class="RktVar">stronger</span>, which is a predicate that determines if one contract this contract
(passed in the first argument) is stronger than some other contract (passed in the second argument);
and <span class="RktVar">generator</span>, which makes a random value that matches the contract,
given a size bound and an environment from which to draw interesting values.</p><p>These accessors are passed as (optional) keyword arguments to
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="RktValLink" pltdoc="x">build-contract-property</a></span>, and are applied to instances of the
appropriate structure type by the contract system.  Their results are used
analogously to the arguments of <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-contract))" class="RktValLink" pltdoc="x">make-contract</a></span>.</p><p>A <a name="(tech._chaperone._contract._property)"></a><span style="font-style: italic">chaperone contract property</span> specifies the behavior of a structure
when used as a chaperone contract.  It is specified using
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-chaperone-contract-property))" class="RktValLink" pltdoc="x">build-chaperone-contract-property</a></span>, and accepts exactly the same set of
arguments as <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="RktValLink" pltdoc="x">build-contract-property</a></span>.  The only difference is that the
projection accessor must return a value that passes <span class="RktSym"><a href="chaperones.html#(def._((quote._~23~25kernel)._chaperone-of~3f))" class="RktValLink" pltdoc="x">chaperone-of?</a></span> when
compared with the original, uncontracted value.</p><p>A <a name="(tech._flat._contract._property)"></a><span style="font-style: italic">flat contract property</span> specifies the behavior of a structure when
used as a flat contract.  It is specified using
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-flat-contract-property))" class="RktValLink" pltdoc="x">build-flat-contract-property</a></span>, and accepts exactly the same set of
arguments as <span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._build-contract-property))" class="RktValLink" pltdoc="x">build-contract-property</a></span>.  The only difference is that the
projection accessor is expected not to wrap its argument in a higher order
fashion, analogous to the constraint on projections in
<span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._make-flat-contract))" class="RktValLink" pltdoc="x">make-flat-contract</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._contract-property~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._contract-property~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._contract-property~3f))" class="RktValLink" pltdoc="x">contract-property?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._chaperone-contract-property~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract-property~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._chaperone-contract-property~3f))" class="RktValLink" pltdoc="x">chaperone-contract-property?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/contract/private/guts..rkt)._flat-contract-property~3f))"></a><a name="(def._((lib._racket/contract/private/guts..rkt)._flat-contract-property~3f))"></a><span title="Provided from: racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/private/guts..rkt)._flat-contract-property~3f))" class="RktValLink" pltdoc="x">flat-contract-property?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">These predicates detect whether a value is a <a href="#(tech._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">contract property</span></a>,
<a href="#(tech._chaperone._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">chaperone contract property</span></a>, or a
<a href="#(tech._flat._contract._property)" class="techoutside" pltdoc="x"><span class="techinside">flat contract property</span></a>, respectively.</div></p><h5>7.5.3<tt>&nbsp;</tt><a name="(part._.Obligation_.Information_in_.Check_.Syntax)"></a>Obligation Information in Check Syntax</h5><p><a href="../drracket/buttons.html" pltdoc="x">Check Syntax</a> in DrRacket shows obligations information for
contracts according to <span class="RktSym"><a href="stxprops.html#(def._((quote._~23~25kernel)._syntax-property))" class="RktValLink" pltdoc="x">syntax-property</a></span>s that the contract combinators
leave in the expanded form of the program. These properties indicate
where contracts appears in the source and where the positive and negative
positions of the contracts appear.</p><p>To make Check Syntax show obligation information for your new contract
combinators, use these properties:</p><ul><li><p><div class="SIntrapara"><table cellspacing="0" style="display: inline-table; vertical-align: text-top;" class="RktBlk"><tr><td><span class="RktVal">'</span><span class="RktVal">racket/contract:contract</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/vector..rkt)._vector/c))" class="RktValLink" pltdoc="x">vector/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This property should be attached to the result of a transformer
 that implements a contract combinator. It signals to Check Syntax
 that this is where a contract begins.</div></p><p>The first element in the
 vector should be a unique (in the sense of <span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._eq~3f))" class="RktValLink" pltdoc="x">eq?</a></span>) value
 that Check Syntax can use a tag to match up this contract with
 its subpieces (specified by the two following syntax properties).</p><p>The second and third elements of the vector are syntax objects
 from pieces of the contract and Check Syntax will color them.
 The first list should contain subparts that are the responsibility
 of parties (typically modules) that provide implementations of the contract.
 The second list should contain subparts that are the
 responsibility of clients.</p><p>For example, in <span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e*))" class="RktStxLink" pltdoc="x">-&gt;*</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">#:pre</span><span class="stt"> </span><span class="RktVal">#t</span><span class="stt"> </span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="stt"> </span><span class="RktPn">#:post</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span>,
 the <span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e*))" class="RktStxLink" pltdoc="x">-&gt;*</a></span> and the <span class="RktPn">#:post</span> should be in the first
 list and <span class="RktPn">#:pre</span> in the second list.</p></li><li><p><div class="SIntrapara"><span class="RktVal">'</span><span class="RktVal">racket/contract:negative-position</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></div><div class="SIntrapara">This property should be attached to subexpressions of
 a contract combinator that are expected to be other contracts.
 The value of the property should be the key (the first element from
 the vector for the <span class="RktVal">'</span><span class="RktVal">racket/contract:contract</span> property)
 indicating which contract this is.</div></p><p>This property should be used when the expression&rsquo;s value is a contract
 that clients are responsible for. </p></li><li><p><div class="SIntrapara"><span class="RktVal">'</span><span class="RktVal">racket/contract:positive-position</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></div><div class="SIntrapara">This is just like <span class="RktVal">'</span><span class="RktVal">racket/contract:negative-position</span>,
 except that it should be used when the expression&rsquo;s value is
 a contract that the original party should be responsible for.</div></p></li><li><p><div class="SIntrapara"><span class="RktVal">'</span><span class="RktVal">racket/contract:contract-on-boundary</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></div><div class="SIntrapara">The presence of this property tells Check Syntax that it
 should start coloring from this point. It expects the expression
 to alow be a contract
 (and thus to have the <span class="RktVal">'</span><span class="RktVal">racket/contract:contract</span> property);
 this property indicates that this contract is on a (module) boundary.</div></p><p>(The value of the property is not used.)</p></li><li><p><span class="RktVal">'</span><span class="RktVal">racket/contract:internal-contract</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></p><p>Like <span class="RktVal">'</span><span class="RktVal">racket/contract:contract-on-boundary</span>, the presence
 of this property triggers coloring, but this is meant for use
 when the party (module) containing the contract (regardless of whether
 or not this module exports anything matching the contract)
 can be blamed for violating the contract. This comes into play
 for <span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3ei))" class="RktStxLink" pltdoc="x">-&gt;i</a></span> contracts, since the contract itself has
 acceess to values under contract via the dependency.</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Attaching_Contracts_to_Values.html" title="backward to &quot;7.4 Attaching Contracts to Values&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="contracts.html" title="up to &quot;7 Contracts&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Contract_Utilities.html" title="forward to &quot;7.6 Contract Utilities&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>