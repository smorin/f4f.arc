<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>5.1&nbsp;Creating Interfaces</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewselflink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Creating Interfaces</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="createclass.html" class="tocviewlink" pltdoc="x">Creating Classes</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="objcreation.html" class="tocviewlink" pltdoc="x">Creating Objects</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ivaraccess.html" class="tocviewlink" pltdoc="x">Field and Method Access</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="mixins.html" class="tocviewlink" pltdoc="x">Mixins</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="trait.html" class="tocviewlink" pltdoc="x">Traits</a></td></tr><tr><td align="right">5.7&nbsp;</td><td><a href="Object_and_Class_Contracts.html" class="tocviewlink" pltdoc="x">Object and Class Contracts</a></td></tr><tr><td align="right">5.8&nbsp;</td><td><a href="objectequality.html" class="tocviewlink" pltdoc="x">Object Equality and Hashing</a></td></tr><tr><td align="right">5.9&nbsp;</td><td><a href="objectserialize.html" class="tocviewlink" pltdoc="x">Object Serialization</a></td></tr><tr><td align="right">5.10&nbsp;</td><td><a href="objectprinting.html" class="tocviewlink" pltdoc="x">Object Printing</a></td></tr><tr><td align="right">5.11&nbsp;</td><td><a href="objectutils.html" class="tocviewlink" pltdoc="x">Object, Class, and Interface Utilities</a></td></tr><tr><td align="right">5.12&nbsp;</td><td><a href="Surrogates.html" class="tocviewlink" pltdoc="x">Surrogates</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">interface</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/class-internal..rkt)._interface*))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/class, racket"><span class="RktSym"><span class="RktStxLink">interface*</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="mzlib_class.html" title="backward to &quot;5 Classes and Objects&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="up to &quot;5 Classes and Objects&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="createclass.html" title="forward to &quot;5.2 Creating Classes&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>5.1<tt>&nbsp;</tt><a name="(part._createinterface)"></a>Creating Interfaces</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span><a href="../guide/classes.html" pltdoc="x">Classes and Objects</a> in <a href="../guide/index.html" pltdoc="x"><span style="font-weight: bold">Guide</span>: Racket</a> introduces classes, objects, and interfaces.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._interface))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._interface))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">super-interface-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Produces an interface. The <span class="RktVar">id</span>s must be mutually distinct.</div></p><p>Each <span class="RktVar">super-interface-expr</span> is evaluated (in order) when the
<span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span> expression is evaluated. The result of each
<span class="RktVar">super-interface-expr</span> must be an interface value, otherwise
the <span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised.  The interfaces returned by the
<span class="RktVar">super-interface-expr</span>s are the new interface&rsquo;s
superinterfaces, which are all extended by the new interface. Any
class that implements the new interface also implements all of the
superinterfaces.</p><p>The result of an <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span> expression is an interface that
includes all of the specified <span class="RktVar">id</span>s, plus all identifiers from
the superinterfaces. Duplicate identifier names among the
superinterfaces are ignored, but if a superinterface contains one of
the <span class="RktVar">id</span>s in the <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span> expression, the
<span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised.</p><p>If no <span class="RktVar">super-interface-expr</span>s are provided, then the derivation
requirement of the resulting interface is trivial: any class that
implements the interface must be derived from <span class="RktSym"><a href="createclass.html#(def._((lib._racket/private/class-internal..rkt)._object~25))" class="RktValLink" pltdoc="x">object%</a></span>.
Otherwise, the implementation requirement of the resulting interface
is the most specific requirement from its superinterfaces. If the
superinterfaces specify inconsistent derivation requirements, the
<span class="RktSym"><a href="objectutils.html#(def._((lib._racket/private/class-internal..rkt)._exn~3afail~3aobject))" class="RktValLink" pltdoc="x">exn:fail:object</a></span> exception is raised.</p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">file-interface</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="creatingunits.html#(form._((lib._mzlib/unit..rkt)._open))" class="RktStxLink" pltdoc="x">open</a></span><span class="hspace">&nbsp;</span><span class="RktSym">close</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Input.html#(def._((quote._~23~25kernel)._read-byte))" class="RktValLink" pltdoc="x">read-byte</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Byte_and_String_Output.html#(def._((quote._~23~25kernel)._write-byte))" class="RktValLink" pltdoc="x">write-byte</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">directory-interface</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">file-interface</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">file-list</span><span class="hspace">&nbsp;</span><span class="RktSym">parent-directory</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/class-internal..rkt)._interface*))"></a><a name="(form._((lib._racket/private/class-internal..rkt)._interface*))"></a><span title="Provided from: racket/class, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface*))" class="RktStxLink" pltdoc="x">interface*</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">super-interface-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">property-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface))" class="RktStxLink" pltdoc="x">interface</a></span>, but also associates to the interface the
structure-type properties produced by the <span class="RktVar">property-expr</span>s with
the corresponding <span class="RktVar">val-expr</span>s.</div></p><p>Whenever the resulting interface (or a sub-interface derived from it)
is explicitly implemented by a class through the <span class="RktSym"><a href="createclass.html#(form._((lib._racket/private/class-internal..rkt)._class*))" class="RktStxLink" pltdoc="x">class*</a></span> form,
each property is attached with its value to a structure type that
instantiated by instances of the class. Specifically, the property is
attached to a structure type with zero immediate fields, which is
extended to produce the internal structure type for instances of the
class (so that no information about fields is accessible to the
structure type property&rsquo;s guard, if any).</p><p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/class-internal..rkt)._interface*))" class="RktStxLink" pltdoc="x">interface*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="Printer_Extension.html#(def._((quote._~23~25kernel)._prop~3acustom-write))" class="RktValLink" pltdoc="x">prop:custom-write</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">obj</span><span class="hspace">&nbsp;</span><span class="RktSym">port</span><span class="hspace">&nbsp;</span><span class="RktSym">mode</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">method1</span><span class="hspace">&nbsp;</span><span class="RktSym">method2</span><span class="hspace">&nbsp;</span><span class="RktSym">method3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td> </td></tr></table></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="mzlib_class.html" title="backward to &quot;5 Classes and Objects&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="up to &quot;5 Classes and Objects&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="createclass.html" title="forward to &quot;5.2 Creating Classes&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>