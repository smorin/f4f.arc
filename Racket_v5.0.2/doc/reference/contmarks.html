<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>9.5&nbsp;Continuation Marks</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewselflink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">9.1&nbsp;</td><td><a href="values.html" class="tocviewlink" pltdoc="x">Multiple Values</a></td></tr><tr><td align="right">9.2&nbsp;</td><td><a href="exns.html" class="tocviewlink" pltdoc="x">Exceptions</a></td></tr><tr><td align="right">9.3&nbsp;</td><td><a href="Delayed_Evaluation.html" class="tocviewlink" pltdoc="x">Delayed Evaluation</a></td></tr><tr><td align="right">9.4&nbsp;</td><td><a href="cont.html" class="tocviewlink" pltdoc="x">Continuations</a></td></tr><tr><td align="right">9.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Continuation Marks</a></td></tr><tr><td align="right">9.6&nbsp;</td><td><a href="breakhandler.html" class="tocviewlink" pltdoc="x">Breaks</a></td></tr><tr><td align="right">9.7&nbsp;</td><td><a href="Exiting.html" class="tocviewlink" pltdoc="x">Exiting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-marks))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>marks</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>continuation-<wbr></wbr>marks</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>mark-<wbr></wbr>set-<wbr></wbr>&gt;list</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist*))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>mark-<wbr></wbr>set-<wbr></wbr>&gt;list*</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-first))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>mark-<wbr></wbr>set-<wbr></wbr>first</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">call-<wbr></wbr>with-<wbr></wbr>immediate-<wbr></wbr>continuation-<wbr></wbr>mark</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>mark-<wbr></wbr>set?</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3econtext))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">continuation-<wbr></wbr>mark-<wbr></wbr>set-<wbr></wbr>&gt;context</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="cont.html" title="backward to &quot;9.4 Continuations&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="control.html" title="up to &quot;9 Control Flow&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="breakhandler.html" title="forward to &quot;9.6 Breaks&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>9.5<tt>&nbsp;</tt><a name="(part._contmarks)"></a>Continuation Marks</h4><p>See <a href="eval-model.html#(part._mark-model)" pltdoc="x">Continuation Frames and Marks</a> and <a href="eval-model.html#(part._prompt-model)" pltdoc="x">Prompts, Delimited Continuations, and Barriers</a> for
general information about continuation marks.</p><p>The list of continuation marks for a key <span class="RktVar">k</span> and a continuation
<span class="RktVar">C</span> that extends <span class="RktVar">C<span style="vertical-align: sub; font-size: 80%">0</span></span> is defined as follows:</p><ul><li><p>If <span class="RktVar">C</span> is an empty continuation, then the mark list is
<span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._null))" class="RktValLink" pltdoc="x">null</a></span>.</p></li><li><p>If <span class="RktVar">C</span>&rsquo;s first frame contains a mark <span class="RktVar">m</span> for <span class="RktVar">k</span>,
then the mark list for <span class="RktVar">C</span> is <span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._cons))" class="RktValLink" pltdoc="x">cons</a></span><span class="stt"> </span><span class="RktVar">m</span><span class="stt"> </span><span class="RktVar">lst</span><span class="RktPn">)</span>,
where <span class="RktVar">lst</span> is the mark list for <span class="RktVar">k</span> in <span class="RktVar">C<span style="vertical-align: sub; font-size: 80%">0</span></span>.</p></li><li><p>If <span class="RktVar">C</span>&rsquo;s first frame does not contain a mark keyed by
<span class="RktVar">k</span>, then the mark list for <span class="RktVar">C</span> is the mark list for
<span class="RktVar">C<span style="vertical-align: sub; font-size: 80%">0</span></span>.</p></li></ul><p>The <span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span> form installs a mark on the first
frame of the current continuation (see <a href="wcm.html" pltdoc="x">Continuation Marks: <span class="RktSym"><span class="RktStxLink">with-continuation-mark</span></span></a>).  Procedures
such as <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span> allow inspection of marks.</p><p>Whenever Racket creates an exception record for a primitive exception,
it fills the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-marks))" class="RktValLink" pltdoc="x">continuation-marks</a></span> field with the value of
<span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span><span class="RktPn">)</span>, thus providing a snapshot of
the continuation marks at the time of the exception.</p><p>When a continuation procedure returned by
<span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-current-continuation))" class="RktValLink" pltdoc="x">call-with-current-continuation</a></span> or
<span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-composable-continuation))" class="RktValLink" pltdoc="x">call-with-composable-continuation</a></span> is invoked, it restores the
captured continuation, and also restores the marks in the
continuation&rsquo;s frames to the marks that were present when
<span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-current-continuation))" class="RktValLink" pltdoc="x">call-with-current-continuation</a></span> or
<span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-composable-continuation))" class="RktValLink" pltdoc="x">call-with-composable-continuation</a></span> was invoked.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-marks))"></a><a name="(def._((quote._~23~25kernel)._continuation-marks))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-marks))" class="RktValLink" pltdoc="x">continuation-marks</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cont</span><span class="hspace">&nbsp;</span>[<span class="RktVar">prompt-tag</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cont</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation~3f))" class="RktValLink" pltdoc="x">continuation?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="threads.html#(def._((quote._~23~25kernel)._thread~3f))" class="RktValLink" pltdoc="x">thread?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prompt-tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation-prompt-tag~3f))" class="RktValLink" pltdoc="x">continuation-prompt-tag?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._default-continuation-prompt-tag))" class="RktValLink" pltdoc="x">default-continuation-prompt-tag</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns an opaque value containing the set of continuation marks for
all keys in the continuation <span class="RktVar">cont</span> (or the current
continuation of <span class="RktVar">cont</span> if it is a thread) up to the prompt
tagged by <span class="RktVar">prompt-tag</span>. If <span class="RktVar">cont</span> is <span class="RktVal">#f</span>, the
resulting set of continuation marks is empty. If <span class="RktVar">cont</span> is an escape
continuation (see <a href="eval-model.html#(part._prompt-model)" pltdoc="x">Prompts, Delimited Continuations, and Barriers</a>), then the current
continuation must extend <span class="RktVar">cont</span>, or the
<span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail~3acontract))" class="RktValLink" pltdoc="x">exn:fail:contract</a></span> exception is raised. If <span class="RktVar">cont</span> was not captured with
respect to <span class="RktVar">prompt-tag</span> and does not include a prompt for
<span class="RktVar">prompt-tag</span>, the <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail~3acontract))" class="RktValLink" pltdoc="x">exn:fail:contract</a></span> exception is raised. If
<span class="RktVar">cont</span> is a dead thread, the result is an empty set of
continuation marks.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-continuation-marks))"></a><a name="(def._((quote._~23~25kernel)._current-continuation-marks))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">prompt-tag</span>]<span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prompt-tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation-prompt-tag~3f))" class="RktValLink" pltdoc="x">continuation-prompt-tag?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._default-continuation-prompt-tag))" class="RktValLink" pltdoc="x">default-continuation-prompt-tag</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns an opaque value containing the set of continuation marks for
all keys in the current continuation up to <span class="RktVar">prompt-tag</span>. In
other words, it produces the same value as</div></p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-current-continuation))" class="RktValLink" pltdoc="x">call-with-current-continuation</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-marks))" class="RktValLink" pltdoc="x">continuation-marks</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVar">prompt-tag</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">prompt-tag</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-mark-set-~3elist))"></a><a name="(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">mark-set</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">key-v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">prompt-tag</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mark-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prompt-tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation-prompt-tag~3f))" class="RktValLink" pltdoc="x">continuation-prompt-tag?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._default-continuation-prompt-tag))" class="RktValLink" pltdoc="x">default-continuation-prompt-tag</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns a newly-created list containing the marks for <span class="RktVar">key-v</span>
in <span class="RktVar">mark-set</span>, which is a set of marks returned by
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span>. The result list is truncated at
the first point, if any, where continuation frames were originally
separated by a prompt tagged with <span class="RktVar">prompt-tag</span>..</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-mark-set-~3elist*))"></a><a name="(def._((quote._~23~25kernel)._continuation-mark-set-~3elist*))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist*))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list*</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">mark-set</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">key-list</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">none-v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">prompt-tag</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="vectors.html#(def._((quote._~23~25kernel)._vector~3f))" class="RktValLink" pltdoc="x">vector?</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mark-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-list</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">none-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prompt-tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation-prompt-tag~3f))" class="RktValLink" pltdoc="x">continuation-prompt-tag?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._default-continuation-prompt-tag))" class="RktValLink" pltdoc="x">default-continuation-prompt-tag</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns a newly-created list containing vectors of marks in
<span class="RktVar">mark-set</span> for the keys in <span class="RktVar">key-list</span>, up to
<span class="RktVar">prompt-tag</span>. The length of each vector in the result list is
the same as the length of <span class="RktVar">key-list</span>, and a value in a
particular vector position is the value for the corresponding key in
<span class="RktVar">key-list</span>. Values for multiple keys appear in a single vector
only when the marks are for the same continuation frame in
<span class="RktVar">mark-set</span>. The <span class="RktVar">none-v</span> argument is used for vector
elements to indicate the lack of a value.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-mark-set-first))"></a><a name="(def._((quote._~23~25kernel)._continuation-mark-set-first))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-first))" class="RktValLink" pltdoc="x">continuation-mark-set-first</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">mark-set</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">key-v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">prompt-tag</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mark-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">prompt-tag</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._continuation-prompt-tag~3f))" class="RktValLink" pltdoc="x">continuation-prompt-tag?</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._default-continuation-prompt-tag))" class="RktValLink" pltdoc="x">default-continuation-prompt-tag</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the first element of the list that would be returned by
<span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._or))" class="RktStxLink" pltdoc="x">or</a></span><span class="stt"> </span><span class="RktVar">mark-set</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span><span class="stt"> </span><span class="RktVar">prompt-tag</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">key-v</span><span class="stt"> </span><span class="RktVar">prompt-tag</span><span class="RktPn">)</span>, or
<span class="RktVal">#f</span> if the result would be the empty list. Typically, this
result can be computed more quickly using
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-first))" class="RktValLink" pltdoc="x">continuation-mark-set-first</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._call-with-immediate-continuation-mark))"></a><a name="(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))" class="RktValLink" pltdoc="x">call-with-immediate-continuation-mark</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">key-v</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">proc</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">default-v</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">default-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></div><div class="SIntrapara">Calls <span class="RktVar">proc</span> with the value associated with <span class="RktVar">key-v</span> in
the first frame of the current continuation (i.e., a value that would
be replaced if the call to
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))" class="RktValLink" pltdoc="x">call-with-immediate-continuation-mark</a></span> were replaced with a
<span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span> form using <span class="RktVar">key-v</span> as the key
expression). If no such value exists in the first frame,
<span class="RktVar">default-v</span> is passed to <span class="RktVar">proc</span>. The <span class="RktVar">proc</span> is
called in tail position with respect to the
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))" class="RktValLink" pltdoc="x">call-with-immediate-continuation-mark</a></span> call.</div></p><p>This function could be implemented with a combination of
<span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span>, <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span>,
and <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list</a></span>, but
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._call-with-immediate-continuation-mark))" class="RktValLink" pltdoc="x">call-with-immediate-continuation-mark</a></span> is implemented more
efficiently; it inspects only the first frame of the current
continuation.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-mark-set~3f))"></a><a name="(def._((quote._~23~25kernel)._continuation-mark-set~3f))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a mark set created by
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-marks))" class="RktValLink" pltdoc="x">continuation-marks</a></span> or <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span>,
<span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._continuation-mark-set-~3econtext))"></a><a name="(def._((quote._~23~25kernel)._continuation-mark-set-~3econtext))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3econtext))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;context</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">mark-set</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mark-set</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr></table></div><div class="SIntrapara">Returns a list representing an approximate &ldquo;<a name="(idx._(gentag._79._(lib._scribblings/reference/reference..scrbl)))"></a><a name="(idx._(gentag._80._(lib._scribblings/reference/reference..scrbl)))"></a>stack trace&rdquo; for <span class="RktVar">mark-set</span>&rsquo;s
continuation. The list contains pairs, where the <span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._car))" class="RktValLink" pltdoc="x">car</a></span> of each
pair contains either <span class="RktVal">#f</span> or a symbol for a procedure name, and
the <span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._cdr))" class="RktValLink" pltdoc="x">cdr</a></span> of each pair contains either <span class="RktVal">#f</span> or a
<span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._srcloc))" class="RktValLink" pltdoc="x">srcloc</a></span> value for the procedure&rsquo;s source location (see
<a href="linecol.html" pltdoc="x">Counting Positions, Lines, and Columns</a>); the <span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._car))" class="RktValLink" pltdoc="x">car</a></span> and <span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._cdr))" class="RktValLink" pltdoc="x">cdr</a></span> are never both
<span class="RktVal">#f</span>.</div></p><p>Conceptually, the stack-trace list is the result of
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list</a></span> with <span class="RktVar">mark-set</span> and
Racket&rsquo;s private key for procedure-call marks. The implementation may
be different, however, and the results may merely approximate the
correct answer. Thus, while the result may contain useful hints to
humans about the context of an expression, it is not reliable enough
for programmatic use.</p><p>A stack trace is extracted from an exception and displayed by the
default error display handler (see
<span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error-display-handler))" class="RktValLink" pltdoc="x">error-display-handler</a></span>) for exceptions other than
<span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail~3auser))" class="RktValLink" pltdoc="x">exn:fail:user</a></span> (see <span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._raise-user-error))" class="RktValLink" pltdoc="x">raise-user-error</a></span> in
<a href="exns.html#(part._errorproc)" pltdoc="x">Raising Exceptions</a>).</p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktSym">key</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._continuation-mark-set-~3elist))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;list</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-continuation-marks))" class="RktValLink" pltdoc="x">current-continuation-marks</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">key</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(mark)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark1</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark2</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((mark1)<span class="stt"> </span>(mark2))</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark1</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark2</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">replaces previous mark</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(mark2)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark1</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">continuation extended to evaluate the argument</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mark2</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((mark2<span class="stt"> </span>mark1))</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">1000</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._zero~3f))" class="RktValLink" pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">extract-current-continuation-marks</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="wcm.html#(form._((quote._~23~25kernel)._with-continuation-mark))" class="RktStxLink" pltdoc="x">with-continuation-mark</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">key</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" class="RktValLink" pltdoc="x">sub1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(1)</span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="cont.html" title="backward to &quot;9.4 Continuations&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="control.html" title="up to &quot;9 Control Flow&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="breakhandler.html" title="forward to &quot;9.6 Breaks&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>