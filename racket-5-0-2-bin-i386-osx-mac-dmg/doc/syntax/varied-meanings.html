<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>8.2.4&nbsp;Variants with varied meanings</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Syntax</span>:<span class="mywbr"> </span> Meta-<wbr></wbr>Programming Helpers</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="syntax-helpers.html" class="tocviewlink" pltdoc="x">Syntax Object Helpers</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="module-helpers.html" class="tocviewlink" pltdoc="x">Module-<wbr></wbr>Processing Helpers</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="transformer-helpers.html" class="tocviewlink" pltdoc="x">Macro Transformer Helpers</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="reader-helpers.html" class="tocviewlink" pltdoc="x">Reader Helpers</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="toplevel.html" class="tocviewlink" pltdoc="x">Non-<wbr></wbr>Module Compilation And Expansion</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="trusted-xforms.html" class="tocviewlink" pltdoc="x">Trusting Standard Recertifying Transformers</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="docprovide.html" class="tocviewlink" pltdoc="x">Attaching Documentation to Exports</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="stxparse.html" class="tocviewselflink" pltdoc="x">Parsing and specifying syntax</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>8&nbsp;</td><td><a href="stxparse.html" class="tocviewlink" pltdoc="x">Parsing and specifying syntax</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.1&nbsp;</td><td><a href="stxparse-intro.html" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">8.2&nbsp;</td><td><a href="stxparse-examples.html" class="tocviewselflink" pltdoc="x">Examples</a></td></tr><tr><td align="right">8.3&nbsp;</td><td><a href="Parsing_syntax.html" class="tocviewlink" pltdoc="x">Parsing syntax</a></td></tr><tr><td align="right">8.4&nbsp;</td><td><a href="stxparse-specifying.html" class="tocviewlink" pltdoc="x">Specifying syntax with syntax classes</a></td></tr><tr><td align="right">8.5&nbsp;</td><td><a href="stxparse-patterns.html" class="tocviewlink" pltdoc="x">Syntax patterns</a></td></tr><tr><td align="right">8.6&nbsp;</td><td><a href="Literal_sets_and_Conventions.html" class="tocviewlink" pltdoc="x">Literal sets and Conventions</a></td></tr><tr><td align="right">8.7&nbsp;</td><td><a href="Library_syntax_classes_and_literal_sets.html" class="tocviewlink" pltdoc="x">Library syntax classes and literal sets</a></td></tr><tr><td align="right">8.8&nbsp;</td><td><a href="Debugging_and_inspection_tools.html" class="tocviewlink" pltdoc="x">Debugging and inspection tools</a></td></tr><tr><td align="right">8.9&nbsp;</td><td><a href="Experimental.html" class="tocviewlink" pltdoc="x">Experimental</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>8.2&nbsp;</td><td><a href="stxparse-examples.html" class="tocviewlink" pltdoc="x">Examples</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.2.1&nbsp;</td><td><a href="Modules_and_reusable_syntax_classes.html" class="tocviewlink" pltdoc="x">Modules and reusable syntax classes</a></td></tr><tr><td align="right">8.2.2&nbsp;</td><td><a href="Optional_keyword_arguments.html" class="tocviewlink" pltdoc="x">Optional keyword arguments</a></td></tr><tr><td align="right">8.2.3&nbsp;</td><td><a href="uniform-meanings.html" class="tocviewlink" pltdoc="x">Variants with uniform meanings</a></td></tr><tr><td align="right">8.2.4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Variants with varied meanings</a></td></tr><tr><td align="right">8.2.5&nbsp;</td><td><a href="More_keyword_arguments.html" class="tocviewlink" pltdoc="x">More keyword arguments</a></td></tr><tr><td align="right">8.2.6&nbsp;</td><td><a href="exprc.html" class="tocviewlink" pltdoc="x">Experimental:<span class="mywbr"> </span> Contracts on macro sub-<wbr></wbr>expressions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_3&quot;);">&#9658;</a></td><td>8.2.4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Variants with varied meanings</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_3"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.2.4.1&nbsp;</td><td><a href="#(part._.Syntactic_normalization)" class="tocviewlink" pltdoc="x">Syntactic normalization</a></td></tr><tr><td align="right">8.2.4.2&nbsp;</td><td><a href="#(part._.Non-syntax-valued_attributes)" class="tocviewlink" pltdoc="x">Non-<wbr></wbr>syntax-<wbr></wbr>valued attributes</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">8.2.4.1<tt>&nbsp;</tt></span><a href="#(part._.Syntactic_normalization)" class="tocsubseclink" pltdoc="x">Syntactic normalization</a></td></tr><tr><td><span class="tocsublinknumber">8.2.4.2<tt>&nbsp;</tt></span><a href="#(part._.Non-syntax-valued_attributes)" class="tocsubseclink" pltdoc="x">Non-<wbr></wbr>syntax-<wbr></wbr>valued attributes</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="uniform-meanings.html" title="backward to &quot;8.2.3 Variants with uniform meanings&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="stxparse-examples.html" title="up to &quot;8.2 Examples&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="More_keyword_arguments.html" title="forward to &quot;8.2.5 More keyword arguments&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>8.2.4<tt>&nbsp;</tt><a name="(part._varied-meanings)"></a>Variants with varied meanings</h5><p>As explained in the <a href="uniform-meanings.html" pltdoc="x">previous section</a>,
the meaning of a syntax class can be uniform, or it can be varied;
that is, different instances of the syntax class can carry different
kinds of information. This section discusses the latter kind of syntax
class.</p><p>A good example of a syntax class with varied meanings is the
<span class="RktSym">for-clause</span> of the <span class="RktSym"><a href="../reference/for.html#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> family of special forms.</p><p><table cellspacing="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">for-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">seq-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">seq-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">guard-expr</span></td></tr></table></p><p>The first two variants carry the same kind of information; both
consist of identifiers to bind and a sequence expression. The third
variant, however, means something totally different: a condition that
determines whether to continue the current iteration of the loop, plus
a change in scoping for subsequent <span class="RktSym">seq-expr</span>s. The information
of a <span class="RktSym">for-clause</span> must be represented in a way that a client
macro can do further case analysis to distinguish the &ldquo;bind variables
from a sequence&rdquo; case from the &ldquo;skip or continue this iteration and
enter a new scope&rdquo; case.</p><p>This section discusses two ways of representing varied kinds of
information.</p><h5>8.2.4.1<tt>&nbsp;</tt><a name="(part._.Syntactic_normalization)"></a>Syntactic normalization</h5><p>One approach is based on the observation that the syntactic variants
already constitute a representation of the information they carry. So
why not adapt that representation, removing redundancies and
eliminating simplifying the syntax to make subsequent re-parsing
trivial.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-splicing-syntax-class))" class="RktStxLink" pltdoc="x">define-splicing-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktSym">for-clause</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:attribute</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">norm</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">seq:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:with</span><span class="hspace">&nbsp;</span><span class="RktSym">norm</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">seq</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">seq:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:with</span><span class="hspace">&nbsp;</span><span class="RktSym">norm</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">var</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">seq</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-patterns.html#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktSym">guard:expr</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:with</span><span class="hspace">&nbsp;</span><span class="RktSym">norm</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">[</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktSym">guard</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>First, note that since the <span class="RktPn">#:when</span> variant consists of two
separate terms, we define <span class="RktSym">for-clause</span> as a splicing syntax
class. Second, that kind of irregularity is just the sort of thing
we&rsquo;d like to remove so we don&rsquo;t have to deal with it again later. Thus
we represent the normalized syntax as a single term beginning with
either a sequence of identifiers (the first two cases) or the keyword
<span class="RktPn">#:when</span> (the third case). The two normalized cases are easy to
process and easy to tell apart. We have also taken the opportunity to
desugar the first case into the second.</p><p>A normalized syntactic representation is most useful when the
subsequent case analysis is performed by <span class="RktSym"><a href="Parsing_syntax.html#(form._((lib._syntax/parse..rkt)._syntax-parse))" class="RktStxLink" pltdoc="x">syntax-parse</a></span> or a
similar form.</p><h5>8.2.4.2<tt>&nbsp;</tt><a name="(part._.Non-syntax-valued_attributes)"></a>Non-syntax-valued attributes</h5><p>When the information carried by the syntax is destined for complicated
processing by Racket code, it is often better to parse it into an
intermediate representation using idiomatic Racket data structures,
such as lists, hashes, structs, and even objects.</p><p>Thus far we have only used syntax pattern variables and the
<span class="RktPn">#:with</span> keyword to bind attribues, and the values of the
attributes have always been syntax. To bind attributes to values other
than syntax, use the <span class="RktPn">#:attr</span> keyword.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A ForClause is either</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">  - (bind-clause (listof identifier) syntax)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">  - (when-clause syntax)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bind-clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vars</span><span class="hspace">&nbsp;</span><span class="RktSym">seq-expr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">when-clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">guard</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._define-splicing-syntax-class))" class="RktStxLink" pltdoc="x">define-splicing-syntax-class</a></span><span class="hspace">&nbsp;</span><span class="RktSym">for-clause</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">#:attributes</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ast</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym">seq:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:attr</span><span class="hspace">&nbsp;</span><span class="RktSym">ast</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bind-clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">var</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">seq</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">var:id</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">seq:expr</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:attr</span><span class="hspace">&nbsp;</span><span class="RktSym">ast</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">bind-clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/stxops.html#(def._((quote._~23~25kernel)._syntax-~3elist))" class="RktValLink" pltdoc="x">syntax-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktPn">(</span><span class="RktSym">var</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">seq</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._pattern))" class="RktStxLink" pltdoc="x">pattern</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxparse-patterns.html#(form._((lib._syntax/parse..rkt)._~7eseq))" class="RktStxLink" pltdoc="x">~seq</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktSym">guard:expr</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:attr</span><span class="hspace">&nbsp;</span><span class="RktSym">ast</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">when-clause</span><span class="hspace">&nbsp;</span><span class="RktRdr">#'</span><span class="RktSym">guard</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>Be careful! If we had used <span class="RktPn">#:with</span> instead of <span class="RktPn">#:attr</span>,
the <span class="RktVal">#f</span> would have been coerced to a syntax object before
being matched against the pattern <span class="RktSym">default</span>.</p><p>Attributes with non-syntax values cannot be used in syntax
templates. Use the <span class="RktSym"><a href="stxparse-specifying.html#(form._((lib._syntax/parse..rkt)._attribute))" class="RktStxLink" pltdoc="x">attribute</a></span> form to get the value of an
attribute.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="uniform-meanings.html" title="backward to &quot;8.2.3 Variants with uniform meanings&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="stxparse-examples.html" title="up to &quot;8.2 Examples&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="More_keyword_arguments.html" title="forward to &quot;8.2.5 More keyword arguments&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>