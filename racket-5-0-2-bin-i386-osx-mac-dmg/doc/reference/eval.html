<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>13.2&nbsp;Evaluation and Compilation</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewselflink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">13.1&nbsp;</td><td><a href="Namespaces.html" class="tocviewlink" pltdoc="x">Namespaces</a></td></tr><tr><td align="right">13.2&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Evaluation and Compilation</a></td></tr><tr><td align="right">13.3&nbsp;</td><td><a href="load-lang.html" class="tocviewlink" pltdoc="x">The <span class="RktModLink"><span class="RktSym">racket/<span class="mywbr"> </span>load</span></span> Language</a></td></tr><tr><td align="right">13.4&nbsp;</td><td><a href="Module_Names_and_Loading.html" class="tocviewlink" pltdoc="x">Module Names and Loading</a></td></tr><tr><td align="right">13.5&nbsp;</td><td><a href="chaperones.html" class="tocviewlink" pltdoc="x">Proxies and Chaperones</a></td></tr><tr><td align="right">13.6&nbsp;</td><td><a href="securityguards.html" class="tocviewlink" pltdoc="x">Security Guards</a></td></tr><tr><td align="right">13.7&nbsp;</td><td><a href="custodians.html" class="tocviewlink" pltdoc="x">Custodians</a></td></tr><tr><td align="right">13.8&nbsp;</td><td><a href="threadgroups.html" class="tocviewlink" pltdoc="x">Thread Groups</a></td></tr><tr><td align="right">13.9&nbsp;</td><td><a href="inspectors.html" class="tocviewlink" pltdoc="x">Structure Inspectors</a></td></tr><tr><td align="right">13.10&nbsp;</td><td><a href="modprotect.html" class="tocviewlink" pltdoc="x">Code Inspectors</a></td></tr><tr><td align="right">13.11&nbsp;</td><td><a href="Sandboxed_Evaluation.html" class="tocviewlink" pltdoc="x">Sandboxed Evaluation</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((quote._~23~25kernel)._current-eval))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>eval</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._eval))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">eval</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._eval-syntax))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">eval-<wbr></wbr>syntax</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-load))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>load</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._load))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load-<wbr></wbr>relative</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/misc..rkt)._load/cd))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load/<span class="mywbr"> </span>cd</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-load-extension))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>load-<wbr></wbr>extension</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._load-extension))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load-<wbr></wbr>extension</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/misc..rkt)._load-relative-extension))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load-<wbr></wbr>relative-<wbr></wbr>extension</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-load/use-compiled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>load/<span class="mywbr"> </span>use-<wbr></wbr>compiled</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/misc..rkt)._load/use-compiled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load/<span class="mywbr"> </span>use-<wbr></wbr>compiled</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>load-<wbr></wbr>relative-<wbr></wbr>directory</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._use-compiled-file-paths))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">use-<wbr></wbr>compiled-<wbr></wbr>file-<wbr></wbr>paths</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>eval-<wbr></wbr>print-<wbr></wbr>loop</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-prompt-read))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>prompt-<wbr></wbr>read</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-read-interaction))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>read-<wbr></wbr>interaction</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-print))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>print</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._current-compile))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>compile</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compile))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compile</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compile-syntax))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>syntax</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compiled-<wbr></wbr>expression?</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compile-enforce-module-constants))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>enforce-<wbr></wbr>module-<wbr></wbr>constants</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compile-allow-set!-undefined))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>allow-<wbr></wbr>set!-<wbr></wbr>undefined</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._compile-context-preservation-enabled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>context-<wbr></wbr>preservation-<wbr></wbr>enabled</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._eval-jit-enabled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">eval-<wbr></wbr>jit-<wbr></wbr>enabled</span></span></span></a></td></tr><tr><td><a href="#(def._((quote._~23~25kernel)._load-on-demand-enabled))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktValLink">load-<wbr></wbr>on-<wbr></wbr>demand-<wbr></wbr>enabled</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Namespaces.html" title="backward to &quot;13.1 Namespaces&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="security.html" title="up to &quot;13 Reflection and Security&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="load-lang.html" title="forward to &quot;13.3 The racket/load Language&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>13.2<tt>&nbsp;</tt><a name="(part._eval)"></a>Evaluation and Compilation</h4><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-eval))"></a><a name="(def._((quote._~23~25kernel)._current-eval))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-eval))" class="RktValLink" pltdoc="x">current-eval</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-eval))" class="RktValLink" pltdoc="x">current-eval</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the current <a name="(tech._evaluation._handler)"></a><span style="font-style: italic">evaluation handler</span>.
The evaluation handler is a procedure that takes a top-level form and
evaluates it, returning the resulting values. The <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation
handler</span></a> is called by <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span>, <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval-syntax))" class="RktValLink" pltdoc="x">eval-syntax</a></span>, the default
<a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a>, and <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span> to evaluate a
top-level form. The handler should evaluate its argument in tail
position.</div></p><p>The <span class="RktVar">top-level-form</span> provided to the handler can be a
<a href="syntax-model.html#(tech._syntax._object)" class="techoutside" pltdoc="x"><span class="techinside">syntax object</span></a>, a compiled form, a compiled form wrapped as a
syntax object, or an arbitrary datum.</p><p>The default handler converts an arbitrary datum to a syntax object
using <span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._datum-~3esyntax))" class="RktValLink" pltdoc="x">datum-&gt;syntax</a></span>, and then enriches its <a href="syntax-model.html#(tech._lexical._information)" class="techoutside" pltdoc="x"><span class="techinside">lexical
information</span></a> in the same way as <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span>. (If
<span class="RktVar">top-level-form</span> is a syntax object, then its <a href="syntax-model.html#(tech._lexical._information)" class="techoutside" pltdoc="x"><span class="techinside">lexical
information</span></a> is not enriched.)  The default evaluation handler
partially expands the form to splice the body of top-level
<span class="RktSym"><a href="begin.html#(form._((quote._~23~25kernel)._begin))" class="RktStxLink" pltdoc="x">begin</a></span> forms into the top level (see
<span class="RktSym"><a href="Expanding_Top-Level_Forms.html#(def._((quote._~23~25kernel)._expand-to-top-form))" class="RktValLink" pltdoc="x">expand-to-top-form</a></span>), and then individually compiles and
evaluates each spliced form before continuing to expand, compile, and
evaluate later forms.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._eval))"></a><a name="(def._((quote._~23~25kernel)._eval))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">top-level-form</span><span class="hspace">&nbsp;</span>[<span class="RktVar">namespace</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">top-level-form</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">namespace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._namespace~3f))" class="RktValLink" pltdoc="x">namespace?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._current-namespace))" class="RktValLink" pltdoc="x">current-namespace</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span>See also <a href="../guide/eval.html#(part._namespaces)" pltdoc="x">Namespaces</a> in <a href="../guide/index.html" pltdoc="x"><span style="font-weight: bold">Guide</span>: Racket</a>.</p></blockquote></blockquote></blockquote></div></p><p>Calls the current <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a> to evaluate
<span class="RktVar">top-level-form</span>. The <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a> is called in
tail position with respect to the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span> call, and
<span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>d to set <span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._current-namespace))" class="RktValLink" pltdoc="x">current-namespace</a></span> to
<span class="RktVar">namespace</span>.</p><p>If <span class="RktVar">top-level-form</span> is a syntax object whose datum is not a
compiled form, then its <a href="syntax-model.html#(tech._lexical._information)" class="techoutside" pltdoc="x"><span class="techinside">lexical information</span></a> is enriched before
it is sent to the <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a>:</p><ul><li><p>If <span class="RktVar">top-level-form</span> is a pair whose <span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._car))" class="RktValLink" pltdoc="x">car</a></span> is a
symbol or identifier, and if applying
<span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._namespace-syntax-introduce))" class="RktValLink" pltdoc="x">namespace-syntax-introduce</a></span> to the
(<span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._datum-~3esyntax))" class="RktValLink" pltdoc="x">datum-&gt;syntax</a></span>-converted) identifier produces an
identifier bound to <span class="RktSym"><a href="module.html#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> in a <a href="syntax-model.html#(tech._phase._level)" class="techoutside" pltdoc="x"><span class="techinside">phase level</span></a>
that corresponds to <span class="RktVar">namespace</span>&rsquo;s <a href="syntax-model.html#(tech._base._phase)" class="techoutside" pltdoc="x"><span class="techinside">base phase</span></a>,
then only that identifier is enriched.</p></li><li><p>For any other <span class="RktVar">top-level-form</span>,
<span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._namespace-syntax-introduce))" class="RktValLink" pltdoc="x">namespace-syntax-introduce</a></span> is applied to the entire
syntax object.</p></li></ul><p>For interactive evaluation in the style of
<span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span> and <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span>, wrap each expression
with <span class="RktSym">#%top-interaction</span>, which is normally bound to
<span class="RktSym"><a href="__top-interaction.html#(form._((lib._racket/private/base..rkt)._~23~25top-interaction))" class="RktStxLink" pltdoc="x">#%top-interaction</a></span>, before passing it to <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._eval-syntax))"></a><a name="(def._((quote._~23~25kernel)._eval-syntax))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval-syntax))" class="RktValLink" pltdoc="x">eval-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>[<span class="RktVar">namespace</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">namespace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._namespace~3f))" class="RktValLink" pltdoc="x">namespace?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._current-namespace))" class="RktValLink" pltdoc="x">current-namespace</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span>, except that <span class="RktVar">stx</span> must be a syntax object,
and its lexical context is not enriched before it is passed to the
<a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-load))"></a><a name="(def._((quote._~23~25kernel)._current-load))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load))" class="RktValLink" pltdoc="x">current-load</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load))" class="RktValLink" pltdoc="x">current-load</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the current <a name="(tech._load._handler)"></a><span style="font-style: italic">load handler</span> to load
top-level forms from a file. The <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a> is called by
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span>, <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span>, <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/cd))" class="RktValLink" pltdoc="x">load/cd</a></span>, and the
default <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a>.</div></p><p>A load handler takes two arguments: a path (see
<a href="pathutils.html" pltdoc="x">Paths</a>) and an expected module name. The expected
module name is a symbol when the call is to load a module declaration
in response to a <span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span> (in which case the file should
contain a module declaration), or <span class="RktVal">#f</span> for any other load.</p><p>The default load handler reads forms from the file in
<span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-syntax))" class="RktValLink" pltdoc="x">read-syntax</a></span> mode with line-counting enabled for the file
port, unless the path has a <span class="RktVal">".zo"</span> suffix. It also
<span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>s each read to set <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-compiled))" class="RktValLink" pltdoc="x">read-accept-compiled</a></span>,
<span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-reader))" class="RktValLink" pltdoc="x">read-accept-reader</a></span>, and <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-lang))" class="RktValLink" pltdoc="x">read-accept-lang</a></span> to
<span class="RktVal">#t</span>. In addition, if <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-on-demand-enabled))" class="RktValLink" pltdoc="x">load-on-demand-enabled</a></span> is
<span class="RktVal">#t</span>, then <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-on-demand-source))" class="RktValLink" pltdoc="x">read-on-demand-source</a></span> is effectively set to
the <a href="pathutils.html#(tech._cleanse)" class="techoutside" pltdoc="x"><span class="techinside">cleanse</span></a>d, absolute form of <span class="RktSym">path</span> during the
<span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-syntax))" class="RktValLink" pltdoc="x">read-syntax</a></span> call. After reading a single form, the form is
passed to the current <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a>, wrapping the
evaluation in a continuation prompt (see
<span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-continuation-prompt))" class="RktValLink" pltdoc="x">call-with-continuation-prompt</a></span>) for the default continuation
prompt tag with handler that propagates the abort to the continuation
of the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span> call.</p><p>If the second argument to the load handler is a symbol, then:</p><ul><li><p>The <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-syntax))" class="RktValLink" pltdoc="x">read-syntax</a></span> from the file is additionally
<span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>d as follows (to provide consistent reading
of module source):</p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._current-readtable))" class="RktValLink" pltdoc="x">current-readtable</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-case-sensitive))" class="RktValLink" pltdoc="x">read-case-sensitive</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-square-bracket-as-paren))" class="RktValLink" pltdoc="x">read-square-bracket-as-paren</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-curly-brace-as-paren))" class="RktValLink" pltdoc="x">read-curly-brace-as-paren</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-box))" class="RktValLink" pltdoc="x">read-accept-box</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-compiled))" class="RktValLink" pltdoc="x">read-accept-compiled</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-bar-quote))" class="RktValLink" pltdoc="x">read-accept-bar-quote</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-graph))" class="RktValLink" pltdoc="x">read-accept-graph</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-decimal-as-inexact))" class="RktValLink" pltdoc="x">read-decimal-as-inexact</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-dot))" class="RktValLink" pltdoc="x">read-accept-dot</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-infix-dot))" class="RktValLink" pltdoc="x">read-accept-infix-dot</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-quasiquote))" class="RktValLink" pltdoc="x">read-accept-quasiquote</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-reader))" class="RktValLink" pltdoc="x">read-accept-reader</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-lang))" class="RktValLink" pltdoc="x">read-accept-lang</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr></table></li><li><p>If the read result is not a <span class="RktSym">module</span> form, or if a
second <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-syntax))" class="RktValLink" pltdoc="x">read-syntax</a></span> does not produce an end-of-file,
then the <span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail))" class="RktValLink" pltdoc="x">exn:fail</a></span> exception is raised without evaluating the form that
was read from the file. (In previous versions, the module
declaration was checked to match the name given as the second
argument to the load handler, but this check is no longer
performed.)</p></li><li><p>The <a href="syntax-model.html#(tech._lexical._information)" class="techoutside" pltdoc="x"><span class="techinside">lexical information</span></a> of the initial
<span class="RktSym">module</span> identifier is enriched with a binding for
<span class="RktSym"><a href="module.html#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>, so that the form corresponds to a module
declaration independent of the current namespace&rsquo;s bindings.</p></li></ul><p>If the second argument to the load handler is <span class="RktVal">#f</span>, then each
expression read from the file is wrapped with
<span class="RktSym">#%top-interaction</span>, which is normally bound to
<span class="RktSym"><a href="__top-interaction.html#(form._((lib._racket/private/base..rkt)._~23~25top-interaction))" class="RktStxLink" pltdoc="x">#%top-interaction</a></span>, before passing it to the <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation
handler</span></a>.</p><p>The return value from the default <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a> is the value of
the last form from the loaded file, or <span class="RktRes">#&lt;void&gt;</span> if the file
contains no forms. If the given path is a relative path, then it is
resolved using the value of <span class="RktSym"><a href="Filesystem.html#(def._((quote._~23~25kernel)._current-directory))" class="RktValLink" pltdoc="x">current-directory</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._load))"></a><a name="(def._((quote._~23~25kernel)._load))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span>See also <a href="../guide/eval.html#(part._namespaces)" pltdoc="x">Namespaces</a> in <a href="../guide/index.html" pltdoc="x"><span style="font-weight: bold">Guide</span>: Racket</a>.</p></blockquote></blockquote></blockquote></div></p><p>Calls the current <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a> in tail position. The call is
<span class="RktSym">parameterized</span> to set <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span>
to the directory of <span class="RktVar">file</span>, which is resolved relative to
the value of <span class="RktSym"><a href="Filesystem.html#(def._((quote._~23~25kernel)._current-directory))" class="RktValLink" pltdoc="x">current-directory</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/misc..rkt)._load-relative))"></a><a name="(def._((lib._racket/private/misc..rkt)._load-relative))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/use-compiled))" class="RktValLink" pltdoc="x">load/use-compiled</a></span>, but when <span class="RktVar">file</span> is a relative
path, it is resolved using the value of
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span> instead of the value of
<span class="RktSym"><a href="Filesystem.html#(def._((quote._~23~25kernel)._current-directory))" class="RktValLink" pltdoc="x">current-directory</a></span> if the former is not <span class="RktVal">#f</span>, otherwise
<span class="RktSym"><a href="Filesystem.html#(def._((quote._~23~25kernel)._current-directory))" class="RktValLink" pltdoc="x">current-directory</a></span> is used.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/misc..rkt)._load/cd))"></a><a name="(def._((lib._racket/private/misc..rkt)._load/cd))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/cd))" class="RktValLink" pltdoc="x">load/cd</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span>, but <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/cd))" class="RktValLink" pltdoc="x">load/cd</a></span> sets both
<span class="RktSym"><a href="Filesystem.html#(def._((quote._~23~25kernel)._current-directory))" class="RktValLink" pltdoc="x">current-directory</a></span> and
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span> before calling the <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load
handler</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-load-extension))"></a><a name="(def._((quote._~23~25kernel)._current-load-extension))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-extension))" class="RktValLink" pltdoc="x">current-load-extension</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-extension))" class="RktValLink" pltdoc="x">current-load-extension</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines a <a name="(tech._extension._load._handler)"></a><span style="font-style: italic">extension-load handler</span>, which is
called by <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-extension))" class="RktValLink" pltdoc="x">load-extension</a></span> and the default <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load
handler</span></a>.</div></p><p>An <a href="#(tech._extension._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">extension-load handler</span></a> takes the same arguments as a
<a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a>, but the file should be a platform-specific
<a name="(tech._dynamic._extension)"></a><span style="font-style: italic">dynamic extension</span>, typically with the file suffix
<span class="stt">".so"</span> (Unix), <span class="stt">".dll"</span> (Windows), or <span class="stt">".dylib"</span>
(Mac OS X).  The file is loaded using internal, OS-specific
primitives. See <a href="../inside/index.html" pltdoc="x"><span style="font-weight: bold">Inside</span>: Racket C API</a> for more information on
<a href="#(tech._dynamic._extension)" class="techoutside" pltdoc="x"><span class="techinside">dynamic extensions</span></a>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._load-extension))"></a><a name="(def._((quote._~23~25kernel)._load-extension))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-extension))" class="RktValLink" pltdoc="x">load-extension</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara">Sets <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span> like <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span>, and
calls the <a href="#(tech._extension._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">extension-load handler</span></a> in tail position.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/misc..rkt)._load-relative-extension))"></a><a name="(def._((lib._racket/private/misc..rkt)._load-relative-extension))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative-extension))" class="RktValLink" pltdoc="x">load-relative-extension</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym">load-exension</span>, but resolves <span class="RktVar">file</span> using
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span> like <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-load/use-compiled))"></a><a name="(def._((quote._~23~25kernel)._current-load/use-compiled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load/use-compiled))" class="RktValLink" pltdoc="x">current-load/use-compiled</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load/use-compiled))" class="RktValLink" pltdoc="x">current-load/use-compiled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the current <a name="(tech._compiled._load._handler)"></a><span style="font-style: italic">compiled-load
handler</span> to load from a file that may have a compiled form. The
<a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a> is called by <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/use-compiled))" class="RktValLink" pltdoc="x">load/use-compiled</a></span>.</div></p><p>The protocol for a <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a> is the same as for the
<a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a> (see <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load))" class="RktValLink" pltdoc="x">current-load</a></span>), except that a
<a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a> is expected to set
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span> itself. The default
<a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a>, however, checks for a <span class="stt">".ss"</span>
file when the given path ends with <span class="stt">".rkt"</span>, no <span class="stt">".rkt"</span>
file exists, and when the handler&rsquo;s second argument is a symbol. In
addition, the default <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a> checks for
<span class="stt">".zo"</span> (bytecode) files and <span class="stt">".so"</span> (native Unix),
<span class="stt">".dll"</span> (native Windows), or <span class="stt">".dylib"</span> (native Mac OS
X) files.</p><p>The check for a compiled file occurs whenever the given path
<span class="RktVar">file</span> ends with any extension (e.g., <span class="stt">".rkt"</span> or
<span class="stt">".scrbl"</span>), and the check consults the subdirectories
indicated by the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._use-compiled-file-paths))" class="RktValLink" pltdoc="x">use-compiled-file-paths</a></span> parameter relative
to <span class="RktVar">file</span>.  The subdirectories are checked in order. A
<span class="stt">".zo"</span> version of the file (whose name is formed by passing
<span class="RktVar">file</span> and <span class="RktVal">#".zo"</span> to <span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-add-suffix))" class="RktValLink" pltdoc="x">path-add-suffix</a></span>) is
loaded if it exists directly in one of the indicated subdirectories,
or a <span class="stt">".so"</span>/<span class="stt">".dll"</span>/<span class="stt">".dylib"</span> version of the
file is loaded if it exists within a <span class="stt">"native"</span> subdirectory of
a <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._use-compiled-file-paths))" class="RktValLink" pltdoc="x">use-compiled-file-paths</a></span> directory, in an even deeper
subdirectory as named by <span class="RktSym"><a href="runtime.html#(def._((quote._~23~25kernel)._system-library-subpath))" class="RktValLink" pltdoc="x">system-library-subpath</a></span>. A compiled
file is loaded only if its modification date is not older than the
date for <span class="RktVar">file</span>. If both <span class="stt">".zo"</span> and
<span class="stt">".so"</span>/<span class="stt">".dll"</span>/<span class="stt">".dylib"</span> files are available,
the <span class="stt">".so"</span>/<span class="stt">".dll"</span>/<span class="stt">".dylib"</span> file is used.  If
<span class="RktVar">file</span> ends with <span class="stt">".rkt"</span>, no such file exists, the
handler&rsquo;s second argument is a symbol, and a <span class="stt">".ss"</span> file
exists, then <span class="stt">".zo"</span> and
<span class="stt">".so"</span>/<span class="stt">".dll"</span>/<span class="stt">".dylib"</span> files are used only
with names based on <span class="RktVar">file</span> with its suffixed replaced by
<span class="stt">".ss"</span>.</p><p>While a <span class="stt">".zo"</span>, <span class="stt">".so"</span>, <span class="stt">".dll"</span>, or
<span class="stt">".dylib"</span> file is loaded, the current <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span>
directory is set to the directory of the original <span class="RktVar">file</span>.  If
the file to be loaded has the suffix <span class="stt">".ss"</span> while the
requested file has the suffix <span class="stt">".rkt"</span>, then the
<span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._current-module-declare-source))" class="RktValLink" pltdoc="x">current-module-declare-source</a></span> parameter is set to the full
path of the loaded file, otherwise the
<span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._current-module-declare-source))" class="RktValLink" pltdoc="x">current-module-declare-source</a></span> parameter is set to
<span class="RktVal">#f</span>.</p><p>If the original <span class="RktVar">file</span> is loaded or a <span class="stt">".zo"</span> variant is
loaded, the <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a> is called to load the file. If any
other kind of file is loaded, the <a href="#(tech._extension._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">extension-load handler</span></a> is
called.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/misc..rkt)._load/use-compiled))"></a><a name="(def._((lib._racket/private/misc..rkt)._load/use-compiled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load/use-compiled))" class="RktValLink" pltdoc="x">load/use-compiled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara">Calls the current <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a> in tail position.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-load-relative-directory))"></a><a name="(def._((quote._~23~25kernel)._current-load-relative-directory))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._and/c))" class="RktValLink" pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._complete-path~3f))" class="RktValLink" pltdoc="x">complete-path?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load-relative-directory))" class="RktValLink" pltdoc="x">current-load-relative-directory</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._and/c))" class="RktValLink" pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._complete-path~3f))" class="RktValLink" pltdoc="x">complete-path?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that is set by <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load))" class="RktValLink" pltdoc="x">load</a></span>, <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span>,
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-extension))" class="RktValLink" pltdoc="x">load-extension</a></span>, <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative-extension))" class="RktValLink" pltdoc="x">load-relative-extension</a></span>, and the
default <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a>, and used by
<span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative))" class="RktValLink" pltdoc="x">load-relative</a></span>, <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._load-relative-extension))" class="RktValLink" pltdoc="x">load-relative-extension</a></span>, and the
default <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load handler</span></a>.</div></p><p>When a new path or string is provided as the parameter&rsquo;s value, it is
immediately expanded (see <a href="pathutils.html" pltdoc="x">Paths</a>) and converted to a
path. (The directory need not exist.)</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._use-compiled-file-paths))"></a><a name="(def._((quote._~23~25kernel)._use-compiled-file-paths))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._use-compiled-file-paths))" class="RktValLink" pltdoc="x">use-compiled-file-paths</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._path~3f))" class="RktValLink" pltdoc="x">path?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._use-compiled-file-paths))" class="RktValLink" pltdoc="x">use-compiled-file-paths</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">paths</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">paths</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A list of relative paths, which defaults to <span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="Manipulating_Paths.html#(def._((quote._~23~25kernel)._string-~3epath))" class="RktValLink" pltdoc="x">string-&gt;path</a></span><span class="stt"> </span><span class="RktVal">"compiled"</span><span class="RktPn">)</span><span class="RktPn">)</span>. It is used by the <a href="#(tech._compiled._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">compiled-load
handler</span></a> (see <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load/use-compiled))" class="RktValLink" pltdoc="x">current-load/use-compiled</a></span>).</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/misc..rkt)._read-eval-print-loop))"></a><a name="(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr></table></div><div class="SIntrapara">Starts a new <a name="(tech._repl)"></a><span style="font-style: italic">REPL</span> using the current input, output, and error
ports. The REPL wraps each expression to evaluate with
<span class="RktSym">#%top-interaction</span>, which is normally bound to
<span class="RktSym"><a href="__top-interaction.html#(form._((lib._racket/private/base..rkt)._~23~25top-interaction))" class="RktStxLink" pltdoc="x">#%top-interaction</a></span>, and it wraps each evaluation with a
continuation prompt using the default continuation prompt tag and
prompt handler (see <span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-continuation-prompt))" class="RktValLink" pltdoc="x">call-with-continuation-prompt</a></span>). The REPL
also wraps the read and print operations with a prompt for the default
tag whose handler ignores abort arguments and continues the loop. The
<span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span> procedure does not return until
<span class="RktSym"><a href="port-ops.html#(def._((quote._~23~25kernel)._eof))" class="RktValLink" pltdoc="x">eof</a></span> is read, at which point it returns <span class="RktRes">#&lt;void&gt;</span>.</div></p><p>The <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span> procedure can be configured through
the <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-prompt-read))" class="RktValLink" pltdoc="x">current-prompt-read</a></span>, <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-eval))" class="RktValLink" pltdoc="x">current-eval</a></span>, and
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-print))" class="RktValLink" pltdoc="x">current-print</a></span> parameters.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-prompt-read))"></a><a name="(def._((quote._~23~25kernel)._current-prompt-read))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-prompt-read))" class="RktValLink" pltdoc="x">current-prompt-read</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-prompt-read))" class="RktValLink" pltdoc="x">current-prompt-read</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines a <a name="(tech._prompt._read._handler)"></a><span style="font-style: italic">prompt read handler</span>, which is
a procedure that takes no arguments, displays a prompt string, and
returns a top-level form to evaluate. The prompt read handler is
called by <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span>, and the handler typically
should call the <a href="#(tech._read._interaction._handler)" class="techoutside" pltdoc="x"><span class="techinside">read interaction handler</span></a> (as determined by the
<span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-read-interaction))" class="RktValLink" pltdoc="x">current-read-interaction</a></span> parameter) after printing a prompt.</div></p><p>The default prompt read handler prints <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&gt;</span><span class="hspace">&nbsp;</span></span> and returns the
result of</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="port-ops.html#(def._((quote._~23~25kernel)._current-input-port))" class="RktValLink" pltdoc="x">current-input-port</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-read-interaction))" class="RktValLink" pltdoc="x">current-read-interaction</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="inspectors.html#(def._((quote._~23~25kernel)._object-name))" class="RktValLink" pltdoc="x">object-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-read-interaction))"></a><a name="(def._((quote._~23~25kernel)._current-read-interaction))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-read-interaction))" class="RktValLink" pltdoc="x">current-read-interaction</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#(def._((quote._~23~25kernel)._input-port~3f))" class="RktValLink" pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-read-interaction))" class="RktValLink" pltdoc="x">current-read-interaction</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="port-ops.html#(def._((quote._~23~25kernel)._input-port~3f))" class="RktValLink" pltdoc="x">input-port?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the current <a name="(tech._read._interaction._handler)"></a><span style="font-style: italic">read interaction
handler</span>, which is procedure that takes an arbitrary value and an
input port and returns an expression read from the input port.</div></p><p>The default read interaction handler accepts <span class="RktVar">src</span> and
<span class="RktVar">in</span> and returns</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-reader))" class="RktValLink" pltdoc="x">read-accept-reader</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-accept-lang))" class="RktValLink" pltdoc="x">read-accept-lang</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-syntax))" class="RktValLink" pltdoc="x">read-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktVar">src</span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-print))"></a><a name="(def._((quote._~23~25kernel)._current-print))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-print))" class="RktValLink" pltdoc="x">current-print</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-print))" class="RktValLink" pltdoc="x">current-print</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the <a name="(tech._print._handler)"></a><span style="font-style: italic">print handler</span> that is called
 by <span class="RktSym"><a href="#(def._((lib._racket/private/misc..rkt)._read-eval-print-loop))" class="RktValLink" pltdoc="x">read-eval-print-loop</a></span> to print the result of an evaluation
 (and the result is ignored).</div></p><p>The default <a href="#(tech._print._handler)" class="techoutside" pltdoc="x"><span class="techinside">print handler</span></a> <span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._print))" class="RktValLink" pltdoc="x">print</a></span>s the value to the
 current output port (as determined by the
 <span class="RktSym"><a href="port-ops.html#(def._((quote._~23~25kernel)._current-output-port))" class="RktValLink" pltdoc="x">current-output-port</a></span> parameter) and then outputs a newline,
 except that it prints nothing when the value is <span class="RktRes">#&lt;void&gt;</span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._current-compile))"></a><a name="(def._((quote._~23~25kernel)._current-compile))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-compile))" class="RktValLink" pltdoc="x">current-compile</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="RktValLink" pltdoc="x">compiled-expression?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-compile))" class="RktValLink" pltdoc="x">current-compile</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="RktValLink" pltdoc="x">compiled-expression?</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">A parameter that determines the current <a name="(tech._compilation._handler)"></a><span style="font-style: italic">compilation handler</span>.
The <a href="#(tech._compilation._handler)" class="techoutside" pltdoc="x"><span class="techinside">compilation handler</span></a> is a procedure that takes a top-level form and
returns a compiled form; see see <a href="syntax-model.html#(part._compilation-model)" pltdoc="x">Compilation</a> for
more information on compilation.</div></p><p>The <a href="#(tech._compilation._handler)" class="techoutside" pltdoc="x"><span class="techinside">compilation handler</span></a> is called by <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile))" class="RktValLink" pltdoc="x">compile</a></span>, and
indirectly by the default <a href="#(tech._evaluation._handler)" class="techoutside" pltdoc="x"><span class="techinside">evaluation handler</span></a> and the default
<a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a>.</p><p>The handler&rsquo;s second argument is <span class="RktVal">#t</span> if the compiled form will
be used only for immediate evaluation, or <span class="RktVal">#f</span> if the compiled
form may be saved for later use; the default compilation handler is
optimized for the special case of immediate evaluation.</p><p>When a compiled form is written to an output port, the written form
starts with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#~</span><span class="hspace"></span></span>. See <a href="printing.html#(part._print-compiled)" pltdoc="x">Printing Compiled Code</a> for more
information.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compile))"></a><a name="(def._((quote._~23~25kernel)._compile))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile))" class="RktValLink" pltdoc="x">compile</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">top-level-form</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="RktValLink" pltdoc="x">compiled-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">top-level-form</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval))" class="RktValLink" pltdoc="x">eval</a></span>, but calls the current <a href="#(tech._compilation._handler)" class="techoutside" pltdoc="x"><span class="techinside">compilation handler</span></a> in
tail position with <span class="RktVar">top-level-form</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compile-syntax))"></a><a name="(def._((quote._~23~25kernel)._compile-syntax))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-syntax))" class="RktValLink" pltdoc="x">compile-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stx</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="RktValLink" pltdoc="x">compiled-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval-syntax))" class="RktValLink" pltdoc="x">eval-syntax</a></span>, but calls the current <a href="#(tech._compilation._handler)" class="techoutside" pltdoc="x"><span class="techinside">compilation
handler</span></a> in tail position with <span class="RktVar">stx</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compiled-expression~3f))"></a><a name="(def._((quote._~23~25kernel)._compiled-expression~3f))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compiled-expression~3f))" class="RktValLink" pltdoc="x">compiled-expression?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a compiled form, <span class="RktVal">#f</span>
otherwise.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compile-enforce-module-constants))"></a><a name="(def._((quote._~23~25kernel)._compile-enforce-module-constants))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-enforce-module-constants))" class="RktValLink" pltdoc="x">compile-enforce-module-constants</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-enforce-module-constants))" class="RktValLink" pltdoc="x">compile-enforce-module-constants</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></div><div class="SIntrapara">A parameter that determines how a module declaration is compiled.</div></p><p>When constants are enforced, and when the macro-expanded body of a
module contains no <span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> assignment to a particular variable
defined within the module, then the variable is marked as constant
when the definition is evaluated. Afterward, the variable&rsquo;s value
cannot be assigned or undefined through <span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._module-~3enamespace))" class="RktValLink" pltdoc="x">module-&gt;namespace</a></span>,
and it cannot be defined by redeclaring the module.</p><p>Enforcing constants allows the compiler to inline some variable
values, and it allows the native-code just-in-time compiler to
generate code that skips certain run-time checks.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compile-allow-set!-undefined))"></a><a name="(def._((quote._~23~25kernel)._compile-allow-set!-undefined))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-allow-set!-undefined))" class="RktValLink" pltdoc="x">compile-allow-set!-undefined</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-allow-set!-undefined))" class="RktValLink" pltdoc="x">compile-allow-set!-undefined</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">allow?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">allow?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></div><div class="SIntrapara">A parameter that determines how a <span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> expression is compiled
when it mutates a global variable. If the value of this parameter is a
true value, <span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> expressions for global variables are
compiled so that the global variable is set even if it was not
previously defined.  Otherwise, <span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> expressions for global
variables are compiled to raise the
<span class="RktSym"><a href="exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail~3acontract~3avariable))" class="RktValLink" pltdoc="x">exn:fail:contract:variable</a></span> exception if the global variable
is not defined at the time the <span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> is performed.  Note that
this parameter is used when an expression is <span style="font-style: italic">compiled</span>, not
when it is <span style="font-style: italic">evaluated</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._compile-context-preservation-enabled))"></a><a name="(def._((quote._~23~25kernel)._compile-context-preservation-enabled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-context-preservation-enabled))" class="RktValLink" pltdoc="x">compile-context-preservation-enabled</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._compile-context-preservation-enabled))" class="RktValLink" pltdoc="x">compile-context-preservation-enabled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></div><div class="SIntrapara">A parameter that determines whether compilation should avoid
function-call inlining and other optimizations that may cause
information to be lost from stack traces (as reported by
<span class="RktSym"><a href="contmarks.html#(def._((quote._~23~25kernel)._continuation-mark-set-~3econtext))" class="RktValLink" pltdoc="x">continuation-mark-set-&gt;context</a></span>). The default is <span class="RktVal">#f</span>,
which allows such optimizations.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._eval-jit-enabled))"></a><a name="(def._((quote._~23~25kernel)._eval-jit-enabled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval-jit-enabled))" class="RktValLink" pltdoc="x">eval-jit-enabled</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._eval-jit-enabled))" class="RktValLink" pltdoc="x">eval-jit-enabled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></div><div class="SIntrapara">A parameter that determines whether the native-code just-in-time
compiler (JIT) is enabled for code (compiled or not) that is passed to
the default evaluation handler.  The default is <span class="RktVal">#t</span>, unless
the JIT is disabled through the <span class="nobreak"><span class="stt">-j</span></span>/<span class="nobreak"><span class="stt">--no-jit</span></span> command-line
flag to stand-alone Racket (or GRacket), or through the
<a name="(idx._(gentag._212._(lib._scribblings/reference/reference..scrbl)))"></a><span class="stt">PLTNOMZJIT</span> environment variable (set to any
value).</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((quote._~23~25kernel)._load-on-demand-enabled))"></a><a name="(def._((quote._~23~25kernel)._load-on-demand-enabled))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-on-demand-enabled))" class="RktValLink" pltdoc="x">load-on-demand-enabled</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(def._((quote._~23~25kernel)._load-on-demand-enabled))" class="RktValLink" pltdoc="x">load-on-demand-enabled</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></div><div class="SIntrapara">A parameter that determines whether the default <a href="#(tech._load._handler)" class="techoutside" pltdoc="x"><span class="techinside">load handler</span></a>
sets <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read-on-demand-source))" class="RktValLink" pltdoc="x">read-on-demand-source</a></span>. See <span class="RktSym"><a href="#(def._((quote._~23~25kernel)._current-load))" class="RktValLink" pltdoc="x">current-load</a></span> for
more information. The default is <span class="RktVal">#t</span>, unless it is disabled
through the <span class="nobreak"><span class="stt">-d</span></span>/<span class="nobreak"><span class="stt">--no-delay</span></span> command-line flag.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Namespaces.html" title="backward to &quot;13.1 Namespaces&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="security.html" title="up to &quot;13 Reflection and Security&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="load-lang.html" title="forward to &quot;13.3 The racket/load Language&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>