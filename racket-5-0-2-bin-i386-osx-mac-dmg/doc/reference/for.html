<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>2.18&nbsp;Iterations and Comprehensions: for, for/list, ...</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Reference</span>:<span class="mywbr"> </span> Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewselflink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="module.html" class="tocviewlink" pltdoc="x">Modules:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">module</span></span>, ...</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="require.html" class="tocviewlink" pltdoc="x">Importing and Exporting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">require</span></span> and <span class="RktSym"><span class="RktStxLink">provide</span></span></a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="quote.html" class="tocviewlink" pltdoc="x">Literals:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quote</span></span> and <span class="RktSym"><span class="RktStxLink">#%datum</span></span></a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="__expression.html" class="tocviewlink" pltdoc="x">Expression Wrapper:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%expression</span></span></a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="__top.html" class="tocviewlink" pltdoc="x">Variable References and <span class="RktSym"><span class="RktStxLink">#%top</span></span></a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="Locations____variable-reference.html" class="tocviewlink" pltdoc="x">Locations:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%variable-<wbr></wbr>reference</span></span></a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="application.html" class="tocviewlink" pltdoc="x">Procedure Applications and <span class="RktSym"><span class="RktStxLink">#%app</span></span></a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="lambda.html" class="tocviewlink" pltdoc="x">Procedure Expressions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">lambda</span></span> and <span class="RktSym"><span class="RktStxLink">case-<wbr></wbr>lambda</span></span></a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="let.html" class="tocviewlink" pltdoc="x">Local Binding:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">let</span></span>, <span class="RktSym"><span class="RktStxLink">let*</span></span>, <span class="RktSym"><span class="RktStxLink">letrec</span></span>, ...</a></td></tr><tr><td align="right">2.10&nbsp;</td><td><a href="local.html" class="tocviewlink" pltdoc="x">Local Definitions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">local</span></span></a></td></tr><tr><td align="right">2.11&nbsp;</td><td><a href="shared.html" class="tocviewlink" pltdoc="x">Constructing Graphs:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">shared</span></span></a></td></tr><tr><td align="right">2.12&nbsp;</td><td><a href="if.html" class="tocviewlink" pltdoc="x">Conditionals:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">if</span></span>, <span class="RktSym"><span class="RktStxLink">cond</span></span>, <span class="RktSym"><span class="RktStxLink">and</span></span>, and <span class="RktSym"><span class="RktStxLink">or</span></span></a></td></tr><tr><td align="right">2.13&nbsp;</td><td><a href="case.html" class="tocviewlink" pltdoc="x">Dispatch:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">case</span></span></a></td></tr><tr><td align="right">2.14&nbsp;</td><td><a href="define.html" class="tocviewlink" pltdoc="x">Definitions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">define</span></span>, <span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>syntax</span></span>, ...</a></td></tr><tr><td align="right">2.15&nbsp;</td><td><a href="begin.html" class="tocviewlink" pltdoc="x">Sequencing:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">begin</span></span>, <span class="RktSym"><span class="RktStxLink">begin0</span></span>, and <span class="RktSym"><span class="RktStxLink">begin-<wbr></wbr>for-<wbr></wbr>syntax</span></span></a></td></tr><tr><td align="right">2.16&nbsp;</td><td><a href="when_unless.html" class="tocviewlink" pltdoc="x">Guarded Evaluation:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">when</span></span> and <span class="RktSym"><span class="RktStxLink">unless</span></span></a></td></tr><tr><td align="right">2.17&nbsp;</td><td><a href="set_.html" class="tocviewlink" pltdoc="x">Assignment:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">set!</span></span> and <span class="RktSym"><span class="RktStxLink">set!-<wbr></wbr>values</span></span></a></td></tr><tr><td align="right">2.18&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Iterations and Comprehensions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">for</span></span>, <span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>list</span></span>, ...</a></td></tr><tr><td align="right">2.19&nbsp;</td><td><a href="wcm.html" class="tocviewlink" pltdoc="x">Continuation Marks:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>continuation-<wbr></wbr>mark</span></span></a></td></tr><tr><td align="right">2.20&nbsp;</td><td><a href="quasiquote.html" class="tocviewlink" pltdoc="x">Quasiquoting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quasiquote</span></span>, <span class="RktSym"><span class="RktStxLink">unquote</span></span>, and <span class="RktSym"><span class="RktStxLink">unquote-<wbr></wbr>splicing</span></span></a></td></tr><tr><td align="right">2.21&nbsp;</td><td><a href="Syntax_Quoting__quote-syntax.html" class="tocviewlink" pltdoc="x">Syntax Quoting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quote-<wbr></wbr>syntax</span></span></a></td></tr><tr><td align="right">2.22&nbsp;</td><td><a href="__top-interaction.html" class="tocviewlink" pltdoc="x">Interaction Wrapper:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%top-<wbr></wbr>interaction</span></span></a></td></tr><tr><td align="right">2.23&nbsp;</td><td><a href="package.html" class="tocviewlink" pltdoc="x">Limiting Scope:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>package</span></span>, <span class="RktSym"><span class="RktStxLink">open-<wbr></wbr>package</span></span>, ...</a></td></tr><tr><td align="right">2.24&nbsp;</td><td><a href="block.html" class="tocviewlink" pltdoc="x">Blocks:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">block</span></span></a></td></tr><tr><td align="right">2.25&nbsp;</td><td><a href="stratified-body.html" class="tocviewlink" pltdoc="x">Internal-<wbr></wbr>Definition Limiting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%stratified-<wbr></wbr>body</span></span></a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>2.18&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Iterations and Comprehensions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">for</span></span>, <span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>list</span></span>, ...</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.18.1&nbsp;</td><td><a href="#(part._.Iteration_and_.Comprehension_.Forms)" class="tocviewlink" pltdoc="x">Iteration and Comprehension Forms</a></td></tr><tr><td align="right">2.18.2&nbsp;</td><td><a href="#(part._.Deriving_.New_.Iteration_.Forms)" class="tocviewlink" pltdoc="x">Deriving New Iteration Forms</a></td></tr><tr><td align="right">2.18.3&nbsp;</td><td><a href="#(part._.Do_.Loops)" class="tocviewlink" pltdoc="x">Do Loops</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.18.1<tt>&nbsp;</tt></span><a href="#(part._.Iteration_and_.Comprehension_.Forms)" class="tocsubseclink" pltdoc="x">Iteration and Comprehension Forms</a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>list</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/vector))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>vector</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/hash))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>hash</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/hasheq))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>hasheq</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/hasheqv))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>hasheqv</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>and</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>or</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/lists))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>lists</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>first</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>last</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/fold))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>fold</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/list))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>list</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/lists))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>lists</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/vector))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>vector</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/hash))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>hash</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/hasheq))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>hasheq</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/hasheqv))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>hasheqv</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/and))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>and</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/or))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>or</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/first))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>first</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/last))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>last</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/fold))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>fold</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.18.2<tt>&nbsp;</tt></span><a href="#(part._.Deriving_.New_.Iteration_.Forms)" class="tocsubseclink" pltdoc="x">Deriving New Iteration Forms</a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for/fold/derived))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>fold/<span class="mywbr"> </span>derived</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._for*/fold/derived))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">for*/<span class="mywbr"> </span>fold/<span class="mywbr"> </span>derived</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._define-sequence-syntax))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>sequence-<wbr></wbr>syntax</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">:<span class="mywbr"> </span>do-<wbr></wbr>in</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.18.3<tt>&nbsp;</tt></span><a href="#(part._.Do_.Loops)" class="tocsubseclink" pltdoc="x">Do Loops</a></td></tr><tr><td><a href="#(form._((lib._racket/private/more-scheme..rkt)._do))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">do</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="set_.html" title="backward to &quot;2.17 Assignment: set! and set!-values&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="syntax.html" title="up to &quot;2 Syntactic Forms&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="wcm.html" title="forward to &quot;2.19 Continuation Marks: with-continuation-mark&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.18<tt>&nbsp;</tt><a name="(part._for)"></a>Iterations and Comprehensions: <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span>, ...</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span><a href="../guide/for.html" pltdoc="x">Iterations and Comprehensions</a> in <a href="../guide/index.html" pltdoc="x"><span style="font-weight: bold">Guide</span>: Racket</a> introduces iterations and comprehensions.</p></blockquote></blockquote></blockquote><p>The <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> iteration forms are based on SRFI-42
[<a href="doc-bibliography.html#(cite._.S.R.F.I-42)" pltdoc="x">SRFI-42</a>].</p><h5>2.18.1<tt>&nbsp;</tt><a name="(part._.Iteration_and_.Comprehension_.Forms)"></a>Iteration and Comprehension Forms</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for))"></a><a name="(form._((lib._racket/private/base..rkt)._for))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">for-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">seq-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">seq-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktVar">guard-expr</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">seq-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="sequences.html#(def._((lib._racket/private/base..rkt)._sequence~3f))" class="RktValLink" pltdoc="x">sequence?</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">Iteratively evaluates <span class="RktVar">body</span>. The <span class="RktVar">for-clause</span>s
introduce bindings whose scope includes <span class="RktVar">body</span> and that
determine the number of times that <span class="RktVar">body</span> is evaluated.</div></p><p>In the simple case, each <span class="RktVar">for-clause</span> has one of its first two
forms, where <span class="RktPn">[</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktVar">seq-expr</span><span class="RktPn">]</span> is a shorthand for <span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">seq-expr</span><span class="RktPn">]</span>.  In this simple case, the <span class="RktVar">seq-expr</span>s are evaluated
left-to-right, and each must produce a sequence value (see
<a href="sequences.html" pltdoc="x">Sequences</a>).</p><p>The <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> form iterates by drawing an element from each
sequence; if any sequence is empty, then the iteration stops, and
<span class="RktRes">#&lt;void&gt;</span> is the result of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> expression. Otherwise
a location is created for each <span class="RktVar">id</span> to hold the values of each
element; the sequence produced by a <span class="RktVar">seq-expr</span> must return as
many values for each iteration as corresponding <span class="RktVar">id</span>s.</p><p>The <span class="RktVar">id</span>s are then bound in the <span class="RktVar">body</span>, which is
evaluated, and whose results are ignored. Iteration continues with the
next element in each sequence and with fresh locations for each
<span class="RktVar">id</span>.</p><p>A <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> form with zero <span class="RktVar">for-clause</span>s is equivalent to a
single <span class="RktVar">for-clause</span> that binds an unreferenced <span class="RktVar">id</span> to
a sequence containing a single element. All of the <span class="RktVar">id</span>s must
be distinct according to <span class="RktSym"><a href="stxcmp.html#(def._((quote._~23~25kernel)._bound-identifier~3d~3f))" class="RktValLink" pltdoc="x">bound-identifier=?</a></span>.</p><p>If any <span class="RktVar">for-clause</span> has the form <span class="RktPn">#:when</span><span class="stt"> </span><span class="RktVar">guard-expr</span>,
then only the preceding clauses (containing no <span class="RktPn">#:when</span>)
determine iteration as above, and the <span class="RktVar">body</span> is effectively
wrapped as</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="when_unless.html#(form._((lib._racket/private/letstx-scheme..rkt)._when))" class="RktStxLink" pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktVar">guard-expr</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>using the remaining <span class="RktSym">for-clauses</span>.</p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktVal">"abc"</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._odd~3f))" class="RktValLink" pltdoc="x">odd?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._display))" class="RktValLink" pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(1 a #t)(1 a #f)(3 c #t)(3 c #f)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#hash</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">. </span><span class="RktVal">20</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._display))" class="RktValLink" pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(a 1)(b 20)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._display))" class="RktValLink" pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">here</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/list))"></a><a name="(form._((lib._racket/private/base..rkt)._for/list))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"> Iterates like
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but that the last expression in the <span class="RktVar">body</span>s must
produce a single value, and the result of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span>
expression is a list of the results in order.</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktVal">"abc"</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._odd~3f))" class="RktValLink" pltdoc="x">odd?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((1<span class="stt"> </span>#\a<span class="stt"> </span>#t)<span class="stt"> </span>(1<span class="stt"> </span>#\a<span class="stt"> </span>#f)<span class="stt"> </span>(3<span class="stt"> </span>#\c<span class="stt"> </span>#t)<span class="stt"> </span>(3<span class="stt"> </span>#\c<span class="stt"> </span>#f))</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">any</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(any)</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'()</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/vector))"></a><a name="(form._((lib._racket/private/base..rkt)._for/vector))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/vector))" class="RktStxLink" pltdoc="x">for/vector</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/vector))" class="RktStxLink" pltdoc="x">for/vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:length</span><span class="hspace">&nbsp;</span><span class="RktVar">length-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Iterates like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but the last expression
in the <span class="RktVar">body</span>s must produce a single value, which is placed in
the corresponding slot of a vector.  If the optional <span class="RktPn">#:length</span>
form is used, then <span class="RktVar">length-expr</span> must evaluate to an
<span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._exact-nonnegative-integer~3f))" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span>, and the result vector is
constructed with this length.  In this case, the iteration can be
performed more efficiently, and terminates when the vector is full or
the requested number of iterations have been performed, whichever
comes first.  If the provided <span class="RktVar">length-expr</span> evaluates to a
length longer than the number of iterations then the remaining slots
of the vector are intialized to the default argument of
<span class="RktSym"><a href="vectors.html#(def._((quote._~23~25kernel)._make-vector))" class="RktValLink" pltdoc="x">make-vector</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/hash))"></a><a name="(form._((lib._racket/private/base..rkt)._for/hash))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hash))" class="RktStxLink" pltdoc="x">for/hash</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/hasheq))"></a><a name="(form._((lib._racket/private/base..rkt)._for/hasheq))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hasheq))" class="RktStxLink" pltdoc="x">for/hasheq</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/hasheqv))"></a><a name="(form._((lib._racket/private/base..rkt)._for/hasheqv))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hasheqv))" class="RktStxLink" pltdoc="x">for/hasheqv</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span>, but the result is an immutable <a href="hashtables.html#(tech._hash._table)" class="techoutside" pltdoc="x"><span class="techinside">hash
table</span></a>; <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hash))" class="RktStxLink" pltdoc="x">for/hash</a></span> creates a table using <span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span> to
distinguish keys, <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hasheq))" class="RktStxLink" pltdoc="x">for/hasheq</a></span> produces a table using
<span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._eq~3f))" class="RktValLink" pltdoc="x">eq?</a></span>, and <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hasheqv))" class="RktStxLink" pltdoc="x">for/hasheqv</a></span> produces a table using
<span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._eqv~3f))" class="RktValLink" pltdoc="x">eqv?</a></span>. The last expression in the <span class="RktVar">body</span>s must return
two values: a key and a value to extend the hash table accumulated by
the iteration.</div></p><p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/hash))" class="RktStxLink" pltdoc="x">for/hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._number-~3estring))" class="RktValLink" pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'#hash((1<span class="stt"> </span>. "1")<span class="stt"> </span>(2<span class="stt"> </span>. "2")<span class="stt"> </span>(3<span class="stt"> </span>. "3"))</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/and))"></a><a name="(form._((lib._racket/private/base..rkt)._for/and))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"> Iterates like
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but when last expression of <span class="RktVar">body</span> produces
<span class="RktVal">#f</span>, then iteration terminates, and the result of the
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span> expression is <span class="RktVal">#f</span>. If the <span class="RktVar">body</span>
is never evaluated, then the result of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span>
expression is <span class="RktVal">#t</span>. Otherwise, the result is the (single)
result from the last evaluation of <span class="RktVar">body</span>.</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" class="RktValLink" pltdoc="x">&lt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">4</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/and))" class="RktStxLink" pltdoc="x">for/and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#t</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/or))"></a><a name="(form._((lib._racket/private/base..rkt)._for/or))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"> Iterates like
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but when last expression of <span class="RktVar">body</span> produces
a value other than <span class="RktVal">#f</span>, then iteration terminates, and
the result of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span> expression is the same
(single) value. If the <span class="RktVar">body</span> is never evaluated, then the
result of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span> expression is
<span class="RktVal">#f</span>. Otherwise, the result is <span class="RktVal">#f</span>.</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._~3c))" class="RktValLink" pltdoc="x">&lt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#t</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/or))" class="RktStxLink" pltdoc="x">for/or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/lists))"></a><a name="(form._((lib._racket/private/base..rkt)._for/lists))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/lists))" class="RktStxLink" pltdoc="x">for/lists</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span>, but the last <span class="RktVar">body</span> expression
should produce as many values as given <span class="RktVar">id</span>s, and the result is
as many lists as supplied <span class="RktVar">id</span>s. The <span class="RktVar">id</span>s are bound to
the lists accumulated so far in the <span class="RktVar">for-clause</span>s and
<span class="RktVar">body</span>s.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/first))"></a><a name="(form._((lib._racket/private/base..rkt)._for/first))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="RktStxLink" pltdoc="x">for/first</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"> Iterates like
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but after <span class="RktVar">body</span> is evaluated the first
time, then the iteration terminates, and the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="RktStxLink" pltdoc="x">for/first</a></span>
result is the (single) result of <span class="RktVar">body</span>. If the
<span class="RktVar">body</span> is never evaluated, then the result of the
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="RktStxLink" pltdoc="x">for/first</a></span> expression is <span class="RktVal">#f</span>.</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="RktStxLink" pltdoc="x">for/first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._even~3f))" class="RktValLink" pltdoc="x">even?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._number-~3estring))" class="RktValLink" pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"2"</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/first))" class="RktStxLink" pltdoc="x">for/first</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/last))"></a><a name="(form._((lib._racket/private/base..rkt)._for/last))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="RktStxLink" pltdoc="x">for/last</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"> Iterates like
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="RktStxLink" pltdoc="x">for/last</a></span> result is the (single)
result of of the last evaluation of <span class="RktVar">body</span>. If the
<span class="RktVar">body</span> is never evaluated, then the result of the
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="RktStxLink" pltdoc="x">for/last</a></span> expression is <span class="RktVal">#f</span>.</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="RktStxLink" pltdoc="x">for/last</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:when</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._even~3f))" class="RktValLink" pltdoc="x">even?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._number-~3estring))" class="RktValLink" pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">"4"</span></p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/last))" class="RktStxLink" pltdoc="x">for/last</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"doesn't get here"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#f</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/fold))"></a><a name="(form._((lib._racket/private/base..rkt)._for/fold))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/fold))" class="RktStxLink" pltdoc="x">for/fold</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">accum-id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">body</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Iterates like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>. Before iteration starts, the
<span class="RktVar">init-expr</span>s are evaluated to produce initial accumulator
values. At the start of each iteration, a location is generated
for each <span class="RktVar">accum-id</span>, and the corresponding current accumulator
value is placed into the location. The last expression in
<span class="RktVar">body</span> must produce as many values as <span class="RktVar">accum-id</span>s, and
those values become the current accumulator values. When iteration
terminates, the results of the <span class="RktSym">fold/for</span> expression are the
accumulator values.</div></p><p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/fold))" class="RktStxLink" pltdoc="x">for/fold</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">rev-roots</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._null))" class="RktValLink" pltdoc="x">null</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sum</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._cons))" class="RktValLink" pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._sqrt))" class="RktValLink" pltdoc="x">sqrt</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">rev-roots</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">10</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>1.7320508075688772<span class="stt"> </span>1.4142135623730951<span class="stt"> </span>1)</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*))"></a><a name="(form._((lib._racket/private/base..rkt)._for*))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*))" class="RktStxLink" pltdoc="x">for*</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, but with an implicit <span class="RktPn">#:when</span><span class="stt"> </span><span class="RktVal">#t</span> between
each pair of <span class="RktSym">for-clauses</span>, so that all sequence iterations are
nested.</div></p><p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*))" class="RktStxLink" pltdoc="x">for*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktVal">"ab"</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._display))" class="RktValLink" pltdoc="x">display</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">(1 a)(1 b)(2 a)(2 b)</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/list))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/list))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/list))" class="RktStxLink" pltdoc="x">for*/list</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/lists))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/lists))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/lists))" class="RktStxLink" pltdoc="x">for*/lists</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/vector))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/vector))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/vector))" class="RktStxLink" pltdoc="x">for*/vector</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/vector))" class="RktStxLink" pltdoc="x">for*/vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:length</span><span class="hspace">&nbsp;</span><span class="RktVar">length-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/hash))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/hash))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/hash))" class="RktStxLink" pltdoc="x">for*/hash</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/hasheq))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/hasheq))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/hasheq))" class="RktStxLink" pltdoc="x">for*/hasheq</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/hasheqv))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/hasheqv))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/hasheqv))" class="RktStxLink" pltdoc="x">for*/hasheqv</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/and))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/and))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/and))" class="RktStxLink" pltdoc="x">for*/and</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/or))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/or))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/or))" class="RktStxLink" pltdoc="x">for*/or</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/first))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/first))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/first))" class="RktStxLink" pltdoc="x">for*/first</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/last))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/last))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/last))" class="RktStxLink" pltdoc="x">for*/last</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/fold))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/fold))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/fold))" class="RktStxLink" pltdoc="x">for*/fold</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">accum-id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/list))" class="RktStxLink" pltdoc="x">for/list</a></span>, etc., but with the implicit nesting of
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*))" class="RktStxLink" pltdoc="x">for*</a></span>.</div></p><p><table cellspacing="0"><tr><td><p>Example:</p></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/list))" class="RktStxLink" pltdoc="x">for*/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">j</span><span class="hspace">&nbsp;</span><span class="RktVal">"ab"</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">j</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'((1<span class="stt"> </span>#\a)<span class="stt"> </span>(1<span class="stt"> </span>#\b)<span class="stt"> </span>(2<span class="stt"> </span>#\a)<span class="stt"> </span>(2<span class="stt"> </span>#\b))</span></p></td></tr></table></p><h5>2.18.2<tt>&nbsp;</tt><a name="(part._.Deriving_.New_.Iteration_.Forms)"></a>Deriving New Iteration Forms</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for/fold/derived))"></a><a name="(form._((lib._racket/private/base..rkt)._for/fold/derived))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/fold/derived))" class="RktStxLink" pltdoc="x">for/fold/derived</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">orig-datum</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">accum-id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for/fold))" class="RktStxLink" pltdoc="x">for/fold</a></span>, but the extra <span class="RktVar">orig-datum</span> is used as the source for all syntax errors.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._for*/fold/derived))"></a><a name="(form._((lib._racket/private/base..rkt)._for*/fold/derived))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/fold/derived))" class="RktStxLink" pltdoc="x">for*/fold/derived</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">orig-datum</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">accum-id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">for-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for*/fold))" class="RktStxLink" pltdoc="x">for*/fold</a></span>, but the extra <span class="RktVar">orig-datum</span> is used as the source for all syntax errors.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._define-sequence-syntax))"></a><a name="(form._((lib._racket/private/base..rkt)._define-sequence-syntax))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._define-sequence-syntax))" class="RktStxLink" pltdoc="x">define-sequence-syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expr-transform-expr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">clause-transform-expr</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">expr-transform-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((lib._racket/private/stx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">clause-transform-expr</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((quote._~23~25kernel)._syntax~3f))" class="RktValLink" pltdoc="x">syntax?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr></table></div><div class="SIntrapara">Defines <span class="RktVar">id</span> as syntax. An <span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktVar">rest</span><span class="RktPn">)</span> form is
treated specially when used to generate a sequence in a
<span class="RktVar">clause</span> of <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> (or one of its variants). In that
case, the procedure result of <span class="RktVar">clause-transform-expr</span> is called
to transform the clause.</div></p><p>When <span class="RktVar">id</span> is used in any other expression position, the result
of <span class="RktVar">expr-transform-expr</span> is used. If it is a procedure of zero
arguments, then the result must be an identifier <span class="RktVar">other-id</span>,
and any use of <span class="RktVar">id</span> is converted to a use of
<span class="RktVar">other-id</span>. Otherwise,<span class="RktVar">expr-transform-expr</span> must
produce a procedure (of one argument) that is used as a macro
transformer.</p><p>When the <span class="RktVar">clause-transform-expr</span> transformer is used, it is
given a <span class="RktVar">clause</span> as an argument, where the clause&rsquo;s form is
normalized so that the left-hand side is a parenthesized sequence of
identifiers. The right-hand side is of the form <span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktVar">rest</span><span class="RktPn">)</span>.
The result can be either <span class="RktVal">#f</span>, to indicate that the forms
should not be treated specially (perhaps because the number of bound
identifiers is inconsistent with the <span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktPn">. </span><span class="RktVar">rest</span><span class="RktPn">)</span> form), or a
new <span class="RktVar">clause</span> to to replace the given one. The new clause might
use <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="RktStxLink" pltdoc="x">:do-in</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/base..rkt)._~3ado-in))"></a><a name="(form._((lib._racket/private/base..rkt)._~3ado-in))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="RktStxLink" pltdoc="x">:do-in</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">outer-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">outer-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">outer-check</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">loop-id</span><span class="hspace">&nbsp;</span><span class="RktVar">loop-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">pos-guard</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">inner-id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">inner-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">pre-guard</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">post-guard</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">loop-arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">A form that can only be used as a <span class="RktVar">seq-expr</span> in a
<span class="RktVar">clause</span> of <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> (or one of its variants).</div></p><p>Within a <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span>, the pieces of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="RktStxLink" pltdoc="x">:do-in</a></span> form are
spliced into the iteration essentially as follows:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((quote._~23~25kernel)._let-values))" class="RktStxLink" pltdoc="x">let-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">outer-id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">outer-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">outer-check</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">loop-id</span><span class="hspace">&nbsp;</span><span class="RktVar">loop-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pos-guard</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((quote._~23~25kernel)._let-values))" class="RktStxLink" pltdoc="x">let-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">inner-id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">inner-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">pre-guard</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktVar">body-bindings</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">post-guard</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">loop</span><span class="hspace">&nbsp;</span><span class="RktVar">loop-arg</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">done-expr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">done-expr</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">done-expr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>where <span class="RktVar">body-bindings</span> and <span class="RktVar">done-expr</span> are from the
context of the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="RktStxLink" pltdoc="x">:do-in</a></span> use. The identifiers bound by the
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._for))" class="RktStxLink" pltdoc="x">for</a></span> clause are typically part of the <span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">inner-id</span><span class="stt"> </span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">inner-expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktMeta"><a href="stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span> section.</p><p>The actual <span class="RktSym">loop</span> binding and call has additional loop
arguments to support iterations in parallel with the <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~3ado-in))" class="RktStxLink" pltdoc="x">:do-in</a></span>
form, and the other pieces are similarly accompanied by pieces from
parallel iterations.</p><h5>2.18.3<tt>&nbsp;</tt><a name="(part._.Do_.Loops)"></a>Do Loops</h5><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._racket/private/more-scheme..rkt)._do))"></a><a name="(form._((lib._racket/private/more-scheme..rkt)._do))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._do))" class="RktStxLink" pltdoc="x">do</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">step-expr-maybe</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">stop?-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">finish-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">step-expr-maybe</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">step-expr</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Iteratively evaluates the <span class="RktVar">expr</span>s for as long as
<span class="RktVar">stop?-expr</span> returns <span class="RktVal">#f</span>.</div></p><p>To initialize the loop, the <span class="RktVar">init-expr</span>s are evaluated in order
and bound to the corresponding <span class="RktVar">id</span>s. The <span class="RktVar">id</span>s are
bound in all expressions within the form other than the
<span class="RktVar">init-expr</span>s.</p><p>After the <span class="RktVar">id</span>s are bound, then <span class="RktVar">stop?-expr</span> is
evaluated. If it produces <span class="RktVal">#f</span>, each <span class="RktVar">expr</span> is evaluated
for its side-effect. The <span class="RktVar">id</span>s are then effectively updated
with the values of the <span class="RktVar">step-expr</span>s, where the default
<span class="RktVar">step-expr</span> for <span class="RktVar">id</span> is just <span class="RktVar">id</span>; more
precisely, iteration continues with fresh locations for the
<span class="RktVar">id</span>s that are initialized with the values of the corresponding
<span class="RktVar">step-expr</span>s.</p><p>When <span class="RktVar">stop?-expr</span> produces a true value, then the
<span class="RktVar">finish-expr</span>s are evaluated in order, and the last one is
evaluated in tail position to produce the overall value for the
<span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._do))" class="RktStxLink" pltdoc="x">do</a></span> form. If no <span class="RktVar">finish-expr</span> is provided, the value of
the <span class="RktSym"><a href="#(form._((lib._racket/private/more-scheme..rkt)._do))" class="RktStxLink" pltdoc="x">do</a></span> form is <span class="RktRes">#&lt;void&gt;</span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="set_.html" title="backward to &quot;2.17 Assignment: set! and set!-values&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="syntax.html" title="up to &quot;2 Syntactic Forms&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="wcm.html" title="forward to &quot;2.19 Continuation Marks: with-continuation-mark&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>