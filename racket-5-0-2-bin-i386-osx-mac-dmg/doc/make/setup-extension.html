<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>3&nbsp;Building Native-Code Extensions</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Make</span>:<span class="mywbr"> </span> Dependency Manager</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="make.html" class="tocviewlink" pltdoc="x">Make from Dependencies</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Building Native-<wbr></wbr>Code Extensions</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="collection.html" class="tocviewlink" pltdoc="x">Making Collections</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._make/setup-extension..rkt)._pre-install))" class="tocsublink" pltdoc="x"><span title="Provided from: make/setup-extension"><span class="RktSym">pre-<wbr></wbr>install</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="make.html" title="backward to &quot;2 Make from Dependencies&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Make: Dependency Manager&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="collection.html" title="forward to &quot;4 Making Collections&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>3<tt>&nbsp;</tt><a name="(part._setup-extension)"></a><a name="(mod-path._make/setup-extension)"></a>Building Native-Code Extensions</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">make/setup-extension</span></a><span class="RktPn">)</span></td></tr></table></p><p>The <a href="" class="RktModLink" pltdoc="x"><span class="RktSym">make/setup-extension</span></a> library helps compile C code
via Setup PLT&rsquo;s &ldquo;pre-install&rdquo; phase (triggered by a
<span class="RktSym">pre-install-collection</span> item in <span class="stt">"info.rkt"</span>; see
also <a href="../raco/running.html#(part._setup-info)" pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>).</p><p>The <span class="RktSym">pre-install</span> function takes a number of arguments that
describe how the C code is compiled &ndash; mainly the libraries that it
depends on. It then drives a C compiler via the
<a href="../dynext/Compilation.html" class="RktModLink" pltdoc="x"><span class="RktSym">dynext/compile</span></a> and <a href="../dynext/Linking.html" class="RktModLink" pltdoc="x"><span class="RktSym">dynext/link</span></a>
functions.</p><p>Many issues can complicate C compilation, and the <span class="RktSym">pre-install</span>
function helps with a few:</p><ul><li><p>finding non-standard libraries and header files,</p></li><li><p>taming to some degree the differing conventions of Unix and
Windows, </p></li><li><p>setting up suitable dependencies on Racket headers, and</p></li><li><p>using a pre-compiled binary when a <span class="stt">"precompiled"</span>
directory is present.</p></li></ul><p>Many extension installers will have to sort out addition platform
issues manually, however. For example, an old <span class="stt">"readline"</span>
installer used to pick whether to link to <span class="stt">"libcurses"</span> or
<span class="stt">"libncurses"</span> heuristically by inspecting
<span class="stt">"/usr/lib"</span>. More generally, the &ldquo;last chance&rdquo; argument to
<span class="RktSym">pre-install</span> allows an installer to patch compiler and linker
options (see <a href="../dynext/Compilation.html" class="RktModLink" pltdoc="x"><span class="RktSym">dynext/compile</span></a> and
<a href="../dynext/Linking.html" class="RktModLink" pltdoc="x"><span class="RktSym">dynext/link</span></a>) before the C code is compiled or linked.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._make/setup-extension..rkt)._pre-install))"></a><a name="(def._((lib._make/setup-extension..rkt)._pre-install))"></a><span title="Provided from: make/setup-extension"><span class="RktSym">pre-install</span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">plthome-dir</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">collection-dir</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">c-file</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">default-lib-dir</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">include-subdirs</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">find-unix-libs</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">find-windows-libs</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">unix-libs</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">windows-libs</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">extra-depends</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">last-chance-k</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">3m-too?</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">plthome-dir</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">collection-dir</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c-file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">default-lib-dir</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">include-subdirs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">find-unix-libs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">find-windows-libs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">unix-libs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">windows-libs</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">extra-depends</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">last-chance-k</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">3m-too?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></div><div class="SIntrapara">The arguments are as follows:</div></p><ul><li><p><span class="RktVar">plthome-dir</span>  &ndash;  the directory provided to a `pre-installer&rsquo;
function.</p></li><li><p><span class="RktVar">collection-dir</span>  &ndash;  a directory to use as the current directory
while building.</p></li><li><p><span class="RktVar">c-file</span>  &ndash;  the name of the source file (relative to
<span class="RktVar">collection-dir</span>). The output file will be the same, except
with a <span class="stt">".c"</span> suffix replaced with <span class="RktPn">(</span><span class="RktSym"><a href="../reference/runtime.html#(def._((quote._~23~25kernel)._system-type))" class="RktValLink" pltdoc="x">system-type</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">so-suffix</span><span class="RktPn">)</span>, and the path changed to <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((quote._~23~25kernel)._build-path))" class="RktValLink" pltdoc="x">build-path</a></span><span class="stt"> </span><span class="RktVal">"compiled"</span><span class="stt"> </span><span class="RktVal">"native"</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/runtime.html#(def._((quote._~23~25kernel)._system-library-subpath))" class="RktValLink" pltdoc="x">system-library-subpath</a></span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p>If <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((quote._~23~25kernel)._build-path))" class="RktValLink" pltdoc="x">build-path</a></span><span class="stt"> </span><span class="RktVal">"precompiled"</span><span class="stt"> </span><span class="RktVal">"native"</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/runtime.html#(def._((quote._~23~25kernel)._system-library-subpath))" class="RktValLink" pltdoc="x">system-library-subpath</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-replace-suffix))" class="RktValLink" pltdoc="x">path-replace-suffix</a></span><span class="stt"> </span><span class="RktVar">c-file</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/runtime.html#(def._((quote._~23~25kernel)._system-type))" class="RktValLink" pltdoc="x">system-type</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">so-suffix</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span> exists, then <span class="RktVar">c-file</span> is not used at all,
and the file in the <span class="stt">"precompiled"</span> directory is simply
copied.</p></li><li><p><span class="RktVar">default-lib-dir</span>  &ndash;  a default directory for finding
supporting libraries, often a subdirectory of
<span class="stt">"collection-dir"</span>. The user can supplement this path by
setting the <a name="(idx._(gentag._0._(lib._make/make..scrbl)))"></a><span class="stt">PLT_EXTENSION_LIB_PATHS</span> environment
variable, which applies to all extensions manged by
<span class="RktSym">pre-install</span>.</p></li><li><p><span class="RktVar">include-subdirs</span>  &ndash;  a list of relative paths in which
<span class="stt">#include</span> files will be found; the path will be determined
through a search, in case it&rsquo;s not in a standard place like
<span class="stt">"/usr/include"</span>.</p><p>For example, the list used to be <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"openssl"</span><span class="RktVal">)</span> for the
<span class="stt">"openssl"</span> collection, because the source uses
<span class="stt">#include &lt;openssl/ssl.h&gt;</span> and <span class="stt">#include &lt;openssl/err.h&gt;</span>.</p></li><li><p><span class="RktVar">find-unix-libs</span>  &ndash;  like <span class="RktVar">include-subdirs</span>, but
a list of library bases. Leave off the <span class="stt">"lib"</span> prefix and
any suffix (such as <span class="stt">".a"</span> or <span class="stt">".so"</span>). For
<span class="stt">"openssl"</span>, the list used to be <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"ssl"</span><span class="stt"> </span><span class="RktVal">"crypto"</span><span class="RktVal">)</span>. Each name will essentially get a <span class="stt">-l</span> prefix for
the linker command line.</p></li><li><p><span class="RktVar">find-windows-libs</span>  &ndash;  like <span class="RktVar">find-unix-libs</span>,
but for Windows.  The library name will be suffixed with
<span class="stt">".lib"</span> and supplied directly to the linker.</p></li><li><p><span class="RktVar">unix-libs</span>  &ndash;  like <span class="RktVar">find-unix-libs</span>, except
that the installer makes no attempt to find the libraries in a
non-standard place. For example, the <span class="stt">"readline"</span> installer
used to supply <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"curses"</span><span class="RktVal">)</span>.</p></li><li><p><span class="RktVar">windows-libs</span>  &ndash;  like <span class="RktVar">unix-libs</span>, but for
Windows. For example, the <span class="stt">"openssl"</span> installer used to
supply <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"wsock32"</span><span class="RktVal">)</span>.</p></li><li><p><span class="RktVar">extra-depends</span>  &ndash;  a list of relative paths to treat as
dependencies for compiling `file.c&rsquo;. Often this list will include
`file.c&rsquo; with the ".c" suffix replaced by ".ss" or ".scm". For
example, the "openssl" installer supplies &rsquo;("mzssl.ss") to ensure
that the stub module "mzssl.ss" is never used when the true
extension can be built.</p></li><li><p><span class="RktVar">last-chance-k</span>  &ndash;  a procedure of one argument, which
is a thunk.  This procedure should invoke the thunk to make the
file, but it may add parameterizations before the final build. For
example, the <span class="stt">"readline"</span> installer used to add an
AIX-specific compile flag in this step when compiling under AIX.</p></li><li><p><span class="RktVar">3m-too?</span> &ndash;  a boolean. If true, when the 3m variant is
installed, use the equivalent to <span class="stt">raco ctool --xform</span> to transform
the source file and then compile and link for 3m. Otherwise, the
extension is built only for CGC when the CGC variant is installed.</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="make.html" title="backward to &quot;2 Make from Dependencies&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Make: Dependency Manager&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="collection.html" title="forward to &quot;4 Making Collections&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>